!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fe81c66f-3af8-4bd7-8115-44c637f881e0",e._sentryDebugIdIdentifier="sentry-dbid-fe81c66f-3af8-4bd7-8115-44c637f881e0")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[8108],{100:(e,t,n)=>{n.d(t,{u:()=>b,o:()=>v});var a=n(5893),i=n(4387),r=n(7294),l=n(8863),o=n(7730),u=n(4809),c=n(6925),s=n(2429),d=n(1353),f=n(8321),h=n(6837),m=n(9161);const _={SearchSelectWrapper:"Yjf50aW7",wrapperDisabled:"bX0WFoDr",searchSelectActive:"U79pi_cu",focused:"wd4cRU78",searchSelectList:"SyJm5rj4",active:"iNibtrio",searchSelectListContent:"LO9FzHbd",searchInput:"fewURAUn",searchBlockItem:"RYCaUgnQ",searchSelectItem:"QSyabMXK",notHoverItem:"aGOP36q2",optionsItems:"hjU5lRG3",label:"ex4icksA",asideIcon:"KLt_1fFw",checkIcon:"uruVta9T",selectedItem:"cshLMXcf",openModalBtn:"c7cLujU9",gray:"z62rRqab",selectItemTitle:"kA71sISl",canSelect:"jHmtHC1p"};var v,p=function(){return p=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};!function(e){e.DEFAULT="default",e.GRAY="gray"}(v||(v={}));var b=(0,r.memo)((function(e){var t,n,b,y=e.className,x=e.activeItemClassName,g=e.options,j=e.optionValue,w=e.onClickOption,N=e.columnName,S=e.disabled,M=e.errorForm,F=e.label,k=e.searchDisabled,C=e.placeholder,q=e.multiSelect,E=e.openModalText,D=e.feedbackInvalid,A=(e.feedbackValid,e.invalid),I=e.onOpenModal,T=e.closePrevModal,B=e.withActive,O=e.theme,z=void 0===O?v.DEFAULT:O,Q=(0,r.useState)(!1),U=Q[0],H=Q[1],L=(0,r.useRef)(null),V=(0,r.useState)([]),R=V[0],G=V[1],X=(0,r.useState)(""),P=X[0],W=X[1],J=C||"Не выбрано";(0,l.p)(L,H);var Y=(0,r.useCallback)((function(e){W(e.target.value)}),[]),Z=(0,r.useCallback)((function(){null==I||I(),null==T||T()}),[T,I]);return(0,r.useEffect)((function(){var e=(0,o.FM)(P,g);G(e||[])}),[P,g]),(0,r.useEffect)((function(){G(g)}),[g]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",p({className:(0,i.A)(_.SearchSelectWrapper,(t={},t[_.wrapperDisabled]=S,t),[_[z],y]),ref:L},{children:[F&&(0,a.jsx)(u.xv,p({className:_.label,size:u.yH.XXS},{children:F})),(0,a.jsx)("div",p({className:(0,i.A)(_.searchSelectActive,(n={},n[_.selectedItem]="null"!==j,n[_.focused]=U,n[_.error]=M,n["form-select-invalid"]=A,n),[x,"form-select"]),onClick:function(){S||H((function(e){return!e}))}},{children:q?0===j.length?J:"Выбрано ".concat(j.length," элемента(-ов)"):"null"!==j&&j?j:J})),(0,a.jsx)("div",p({className:(0,i.A)(_.searchSelectList,(b={},b[_.active]=U,b),["search_select_list"])},{children:(0,a.jsxs)("div",p({className:_.searchSelectListContent},{children:[!k&&(0,a.jsxs)("div",p({className:(0,i.A)(_.searchSelectItem,{},[_.notHoverItem,_.searchBlockItem])},{children:[(0,a.jsx)(c.I,{placeholder:"Введите требуемое поле",value:P,onChange:Y,disabled:S,className:_.searchInput}),(0,a.jsx)(d.J,{className:_.asideIcon,Svg:s.Z})]})),E&&(0,a.jsx)(m.zx,p({theme:m.bn.BACKGROUND,className:_.openModalBtn,onClick:Z,size:m.qE.XS},{children:(0,a.jsx)(u.xv,p({weight:u.fs.SEMIBOLD,align:u.PH.CENTER,size:u.yH.XS},{children:E}))})),(0,a.jsx)("ul",p({className:_.optionsItems},{children:R&&R.length?R.map((function(e,t){return(0,a.jsxs)("li",p({className:_.searchSelectItem,onClick:function(){var t,n;t=e,n=N,S||(w(t,n),H(!1))}},{children:[(0,a.jsxs)("div",p({className:_.selectItemTitle},{children:[B&&(0,a.jsx)("div",{className:_.canSelect}),(0,a.jsx)("span",{children:e})]})),j===e&&!q&&(0,a.jsx)(d.J,{className:_.checkIcon,Svg:f.Z}),q&&(0,a.jsx)(h.X,{checked:!!j.filter((function(t){return t===e}))[0]})]}),e+t)})):(0,a.jsx)("li",p({className:(0,i.A)(_.searchSelectItem,{},[_.notHoverItem])},{children:"Ничего не найдено..."}))}))]}))}))]})),A&&(0,a.jsx)("div",p({className:(0,i.A)(_.selecInvalidText,{},["select-invalid-feedback invalid-feedback"])},{children:D}))]})}))},3009:(e,t,n)=>{n.d(t,{_N:()=>u,qJ:()=>r,bV:()=>a,Rs:()=>i,No:()=>s});var a=function(e){var t;return null===(t=e.standardCurriculumDetail)||void 0===t?void 0:t.error},i=function(e){var t;return null===(t=e.standardCurriculumDetail)||void 0===t?void 0:t.isLoading},r=function(e){var t;return null===(t=e.standardCurriculumDetail)||void 0===t?void 0:t.data},l=n(7168),o=n(4562),u=(0,l.hg)("specialties/fetchStandardCurriculumDetail",(function(e,t){return n=void 0,a=void 0,r=function(){var n,a,i,r;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(l){switch(l.label){case 0:n=t.rejectWithValue,a=t.extra,i=t.dispatch,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,a.api.get("/curriculum/standard-curricula/".concat(e,"/detailed"))];case 2:return r=l.sent(),i(o.ap.setSpecialityId(["data",r.data.speciality_id])),i(o.ap.setSort(["data",r.data.sort])),i(o.ap.setDate(["data",r.data.date_of_order])),i(o.ap.addModuleToGeneralModulesFromServer(r.data.modules)),i(o.ap.addQualificationToStructureFromServer(r.data.qualifications)),i(o.ap.setDataToChange()),[2,r.data];case 3:return"Failed to fetch"===l.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}));var n,a,i,r})),c=(0,l.oM)({name:"standardCurriculumDetail",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(u.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(u.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})).addCase(u.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),s=(c.actions,c.reducer)},1134:(e,t,n)=>{n.d(t,{g1:()=>G,u4:()=>W,xO:()=>T,yb:()=>H,$i:()=>z,V3:()=>F,Qi:()=>we,Tg:()=>se,fu:()=>ae,cM:()=>h,bK:()=>ee,ko:()=>fe,Hu:()=>Ne,oV:()=>ge,Fu:()=>xe,YU:()=>Me}),n(5781);var a=n(5893),i=n(4387),r=n(7294),l=n(4475),o=n(4809),u=n(9250),c=n(9086),s=n(9161);const d={tabBtn:"Om5Ek_dk",tabsButtonsBlock:"Rofsb9wn",title:"lmhqRh2D",settings:"jO7jY_UQ",newAddField:"FquIaTbP",tabBlock:"Gsv35Ile",form:"Xb2TAfrJ",footerBtn:"Tdp141io",greenBtn:"kPx_g9PK",footer:"sLgly8px",message:"sO7rn3hS",messageIcon:"c3ceeq3z"};var f=function(){return f=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},h=function(e){var t=e.className,n=e.visible,h=e.setVisible,m=(0,u.s0)(),_=(0,r.useCallback)((function(){h(!1)}),[h]),v=(0,r.useCallback)((function(){m((0,c.P6)())}),[m]);return(0,a.jsxs)(l.Tk,f({className:(0,i.A)(d.AddStandardCurriculumModuleModal,{},[t]),visible:n,onClose:_,size:"lg",alignment:"center"},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:(0,a.jsx)(o.xv,f({theme:o.lg.ERROR,size:o.yH.M},{children:"Внимание!"}))})}),(0,a.jsx)(l.sD,{children:(0,a.jsx)("div",f({className:d.tab},{children:(0,a.jsxs)("div",f({className:d.tabBlock},{children:[(0,a.jsx)(o.xv,f({size:o.yH.L},{children:"Все несохраненные данные будут удалены."})),(0,a.jsx)(o.xv,f({size:o.yH.L},{children:"Подтверждаете ли вы данное действие?"}))]}))}))}),(0,a.jsxs)(l.Ym,f({className:d.footer},{children:[(0,a.jsx)("div",{className:d.message}),(0,a.jsxs)("div",f({className:d.footerBtns},{children:[(0,a.jsx)(s.zx,f({theme:s.bn.OUTLINE,className:d.footerBtn,onClick:_},{children:(0,a.jsx)(o.xv,f({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsx)(s.zx,f({className:(0,i.A)(d.footerBtn,{},[d.greenBtn]),onClick:v},{children:(0,a.jsx)(o.xv,f({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Подтверждаю"}))}))]}))]}))]}))},m=n(5461),_=n(2308),v=n(5044),p=n(8263),b=n(6458),y=n(530),x=n(321),g=n(622),j=n(6890),w=n(4562),N=n(6648);const S={tabBtn:"J7lAEHk_",tabsButtonsBlock:"mcAVCssK",title:"E39F6nLE",settings:"aAGzWaw0",newAddField:"WX7uMyDS",tabBlock:"B6kVX0r1",form:"OdrW6zX7",footerBtn:"wc90cvvE",greenBtn:"T2TpIuQD",footer:"EY6Mp78p",message:"zksokXxN",messageIcon:"rnGn7wMH"};var M=function(){return M=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},F=function(e){var t,n,u,c,d,f,h,F=e.className,k=e.visible,C=e.setVisible,q=e.data,E=e.mode,D=e.qualId,A=(0,m.T)(),I=(0,r.useState)(!1),T=I[0],B=I[1],O=(0,r.useState)(!1),z=O[0],Q=O[1],U=(0,r.useState)(),H=U[0],L=U[1],V=(0,r.useRef)(null),R=(0,r.useState)(0),G=R[0],X=R[1],P=(0,r.useState)(0),W=P[0],J=P[1],Y=(0,b.v9)(N.rb),Z=((0,b.v9)(N.yl),(0,b.v9)(N.sE),(0,b.v9)("add"===E?x._M:w.nq)),K=(0,r.useCallback)((function(){C(!1)}),[C]),$=function(){A("add"===E?x.rj.setEditQualificationItem(q.structure.qualifications.filter((function(e){return e.qualification_id===D}))[0]):w.ap.setEditQualificationItem(q.structure.qualifications.filter((function(e){return e.qualification_id===D}))[0]))},ee=function(){K(),B(!1),Q(!1),$()},te=function(e,t){e.includes(".")?L(y.F.error("Только целые числа!")):A("add"===E?x.rj.changeEditQualificationField([e,t]):w.ap.changeEditQualificationField([e,t]))};return(0,r.useEffect)((function(){q&&D&&k&&$()}),[q,A,D,k]),(0,r.useEffect)((function(){if(Y){var e=Y.hectum_curriculum.options.filter((function(e){return"credits_per_academic_year"===e.name}))[0].value,t=Number(Y.hectum_curriculum.options.filter((function(e){return"max_academic_years"===e.name}))[0].value)*Number(e);X(Number(e)),J(Number(t))}}),[Y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Tk,M({className:(0,i.A)(S.EditStandardCurriculumQualificationModal,{},[F]),visible:k,onClose:K,size:"lg",scrollable:!0,alignment:"center"},{children:(0,a.jsxs)(l.lx,M({className:(0,i.A)(S.form,{},["needs-validation"]),noValidate:!0,validated:T,onSubmit:function(e){return t=void 0,n=void 0,i=function(){var t,n,a,i,r,l,o,u,c,s;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(d){switch(d.label){case 0:return e.preventDefault(),t=e.currentTarget,Q(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),B(!0),t.checkValidity()?(n=(0,g.T)(null==Z?void 0:Z.data,null==Z?void 0:Z.newFields),(0,j.Q)(n)?(L(y.F.error("Для сохранения вы должны внести изменения!")),[3,4]):[3,1]):[3,4];case 1:return(a={compulsory_education_basic_credits_from:null===(r=null==Z?void 0:Z.newFields)||void 0===r?void 0:r.compulsory_education_basic_credits_from,compulsory_education_basic_credits_to:null===(l=null==Z?void 0:Z.newFields)||void 0===l?void 0:l.compulsory_education_basic_credits_to,compulsory_education_general_credits_from:null===(o=null==Z?void 0:Z.newFields)||void 0===o?void 0:o.compulsory_education_general_credits_from,compulsory_education_general_credits_to:null===(u=null==Z?void 0:Z.newFields)||void 0===u?void 0:u.compulsory_education_general_credits_to,consultations_hours_per_academic_year:null===(c=null==Z?void 0:Z.newFields)||void 0===c?void 0:c.consultations_hours_per_academic_year,extracurricular_activities_hours_per_week:null===(s=null==Z?void 0:Z.newFields)||void 0===s?void 0:s.extracurricular_activities_hours_per_week}).compulsory_education_basic_credits_from&&a.compulsory_education_basic_credits_to&&a.compulsory_education_general_credits_from&&a.compulsory_education_general_credits_to&&a.extracurricular_activities_hours_per_week&&a.consultations_hours_per_academic_year?[3,2]:(Q(!0),[3,4]);case 2:return Z.newFields.compulsory_education_basic_credits_from>Z.newFields.compulsory_education_basic_credits_to||Z.newFields.compulsory_education_general_credits_from>Z.newFields.compulsory_education_general_credits_to?(L(y.F.error("Проверьте правильность заполненных полей (минимальное не может превышать максимальное)")),[2]):[4,A((0,x.JS)(a))];case 3:"fulfilled"===(i=d.sent()).meta.requestStatus&&("add"===E?(A(x.rj.saveEditQualificationChanges([D,Z.newFields])),A(x.rj.addTrainingTimeToQualification([D,i.payload]))):(A(w.ap.saveEditQualificationChanges([D,Z.newFields])),A(w.ap.addTrainingTimeToQualification([D,i.payload]))),L(y.F.success("Информация о квалификации успешно обновлена")),ee()),"rejected"===i.meta.requestStatus&&Q(!0),d.label=4;case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,r){function l(e){try{u(i.next(e))}catch(e){r(e)}}function o(e){try{u(i.throw(e))}catch(e){r(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,o)}u((i=i.apply(t,n||[])).next())}));var t,n,a,i}},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:"Редактирование квалификации"})}),(0,a.jsx)(l.sD,{children:(0,a.jsx)("div",M({className:S.tab},{children:(0,a.jsxs)("div",M({className:S.tabBlock},{children:[(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Индекс сортировки*"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:String(null===(t=null==Z?void 0:Z.newFields)||void 0===t?void 0:t.sort)||"",onChange:function(e){te(e.target.value,"sort")},required:!0})]}))})),(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе основного образования (минимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:G,max:W,value:String(null===(n=null==Z?void 0:Z.newFields)||void 0===n?void 0:n.compulsory_education_basic_credits_from)||"",onChange:function(e){te(e.target.value,"compulsory_education_basic_credits_from")},required:!0})]}))})),(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе основного образования (максимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:G,max:W,value:String(null===(u=null==Z?void 0:Z.newFields)||void 0===u?void 0:u.compulsory_education_basic_credits_to)||"",onChange:function(e){te(e.target.value,"compulsory_education_basic_credits_to")},required:!0})]}))})),(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе общего среднего образования (минимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:G,max:W,value:String(null===(c=null==Z?void 0:Z.newFields)||void 0===c?void 0:c.compulsory_education_general_credits_from)||"",onChange:function(e){te(e.target.value,"compulsory_education_general_credits_from")},required:!0})]}))})),(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе общего среднего образования (максимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:G,max:W,value:String(null===(d=null==Z?void 0:Z.newFields)||void 0===d?void 0:d.compulsory_education_general_credits_to)||"",onChange:function(e){te(e.target.value,"compulsory_education_general_credits_to")},required:!0})]}))})),(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Факультативные занятия (часы в неделю)*"})),(0,a.jsx)(l.jO,{type:"number",min:0,value:String(null===(f=null==Z?void 0:Z.newFields)||void 0===f?void 0:f.extracurricular_activities_hours_per_week)||"",onChange:function(e){te(e.target.value,"extracurricular_activities_hours_per_week")},required:!0})]}))})),(0,a.jsx)("div",M({className:S.settings},{children:(0,a.jsxs)("div",M({className:S.newAddField},{children:[(0,a.jsx)("h6",M({className:S.newAddFieldTitle},{children:"Консультации (часы на учебный год)*"})),(0,a.jsx)(l.jO,{type:"number",min:0,value:String(null===(h=null==Z?void 0:Z.newFields)||void 0===h?void 0:h.consultations_hours_per_academic_year)||"",onChange:function(e){te(e.target.value,"consultations_hours_per_academic_year")},required:!0})]}))}))]}))}))}),(0,a.jsxs)(l.Ym,M({className:S.footer},{children:[(0,a.jsx)("div",M({className:S.message},{children:z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{icon:v.D,customClassName:S.messageIcon}),(0,a.jsx)(o.xv,M({size:o.yH.M,weight:o.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",M({className:S.footerBtns},{children:[(0,a.jsx)(s.zx,M({theme:s.bn.OUTLINE,className:S.footerBtn,onClick:ee},{children:(0,a.jsx)(o.xv,M({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(s.zx,M({type:"submit",className:(0,i.A)(S.footerBtn,{},[S.greenBtn])},{children:[(0,a.jsx)(o.xv,M({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Сохранить"})),(0,a.jsx)(_.Z,{icon:p.F,className:S.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(l.KF,{ref:V,push:H,placement:"top-end"})]})},k=n(3280),C=n(100),q=n(1138),E=n(7882),D=n(1759);const A={tabBtn:"A_tbzDOG",tabsButtonsBlock:"oPrBm4UY",title:"F9iDbMlA",settings:"gOPyfkvL",newAddField:"SMs8RDzH",tabBlock:"slPsYa90",form:"gJq4zfek",footerBtn:"FIYe6sby",greenBtn:"NlhypCVb",footer:"m7reC81W",message:"oRWyF4uG",messageIcon:"sPLMDuPV"};var I=function(){return I=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},T=function(e){var t,n=e.className,u=e.visible,c=e.setVisible,d=e.data,f=e.mode,h=(0,m.T)(),p=(0,r.useState)(!1),g=p[0],j=p[1],S=(0,r.useState)(!1),M=S[0],F=S[1],T=(0,r.useState)(),B=T[0],O=T[1],z=(0,r.useRef)(null),Q=(0,r.useState)(0),U=Q[0],H=Q[1],L=(0,r.useState)(0),V=L[0],R=L[1],G=(0,b.v9)(E._c),X=(0,b.v9)(E.Aq),P=(0,b.v9)(E.kp),W=(0,b.v9)(N.rb),J=(0,b.v9)(N.yl),Y=(0,b.v9)(N.sE),Z=(0,b.v9)("add"===f?x.z$:w.xi),K=null==G?void 0:G.data.filter((function(e){return e.specialty_id===(null==d?void 0:d.general_info.speciality_id)})),$=(0,r.useCallback)((function(){c(!1)}),[c]),ee=function(){$(),j(!1),F(!1),h("add"===f?x.rj.clearNewQualificationData():w.ap.clearNewQualificationData())},te=function(e,t){e.includes(".")?O(y.F.error("Только целые числа!")):h("add"===f?x.rj.changeNewQualificationField([e,t]):w.ap.changeNewQualificationField([e,t]))};return(0,r.useEffect)((function(){h(D.f$.setSort("id_qual")),h((0,E.cs)())}),[h]),(0,r.useEffect)((function(){if(W){var e=W.hectum_curriculum.options.filter((function(e){return"credits_per_academic_year"===e.name}))[0].value,t=Number(W.hectum_curriculum.options.filter((function(e){return"max_academic_years"===e.name}))[0].value)*Number(e);H(Number(e)),R(Number(t))}}),[W]),t=X||J?(0,a.jsx)(q.O,{width:"100%",height:400}):P||Y?(0,a.jsx)(o.xv,I({theme:o.lg.ERROR,size:o.yH.M,weight:o.fs.SEMIBOLD,className:A.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,a.jsx)("div",I({className:A.tab},{children:(0,a.jsxs)("div",I({className:A.tabBlock},{children:[(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Квалификация*"})),(0,a.jsx)(C.u,{className:A.selectField,options:K&&K.length?K.map((function(e){return e.qualification})):[""],optionValue:(null==Z?void 0:Z.qualification_id)?G.data.filter((function(e){return e.id_qual===Z.qualification_id}))[0].qualification:"null",onClickOption:function(e,t){var n=G.data.filter((function(t){return t.qualification===e}))[0];h("add"===f?x.rj.changeNewQualificationField([String(n.id_qual),t]):w.ap.changeNewQualificationField([String(n.id_qual),t]))},columnName:"qualification_id",disabled:!(null==K?void 0:K.length)})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Индекс сортировки*"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:String(null==Z?void 0:Z.sort)||"",onChange:function(e){te(e.target.value,"sort")},required:!0})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе основного образования (минимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:U,max:V,value:String(null==Z?void 0:Z.compulsory_education_basic_credits_from)||"",onChange:function(e){te(e.target.value,"compulsory_education_basic_credits_from")},required:!0})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе основного образования (максимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:U,max:V,value:String(null==Z?void 0:Z.compulsory_education_basic_credits_to)||"",onChange:function(e){te(e.target.value,"compulsory_education_basic_credits_to")},required:!0})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе общего среднего образования (минимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:U,max:V,value:String(null==Z?void 0:Z.compulsory_education_general_credits_from)||"",onChange:function(e){te(e.target.value,"compulsory_education_general_credits_from")},required:!0})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Итого кредитов на обязательное обучение на базе общего среднего образования (максимум)*"})),(0,a.jsx)(l.jO,{type:"number",min:U,max:V,value:String(null==Z?void 0:Z.compulsory_education_general_credits_to)||"",onChange:function(e){te(e.target.value,"compulsory_education_general_credits_to")},required:!0})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Факультативные занятия (часы в неделю)*"})),(0,a.jsx)(l.jO,{type:"number",min:0,value:String(null==Z?void 0:Z.extracurricular_activities_hours_per_week)||"",onChange:function(e){te(e.target.value,"extracurricular_activities_hours_per_week")},required:!0})]}))})),(0,a.jsx)("div",I({className:A.settings},{children:(0,a.jsxs)("div",I({className:A.newAddField},{children:[(0,a.jsx)("h6",I({className:A.newAddFieldTitle},{children:"Консультации (часы на учебный год)*"})),(0,a.jsx)(l.jO,{type:"number",min:0,value:String(null==Z?void 0:Z.consultations_hours_per_academic_year)||"",onChange:function(e){te(e.target.value,"consultations_hours_per_academic_year")},required:!0})]}))}))]}))})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Tk,I({className:(0,i.A)(A.AddStandardCurriculumQualificationModal,{},[n]),visible:u,onClose:$,size:"lg",scrollable:!0,alignment:"center"},{children:(0,a.jsxs)(l.lx,I({className:(0,i.A)(A.form,{},["needs-validation"]),noValidate:!0,validated:g,onSubmit:function(e){return t=void 0,n=void 0,i=function(){var t,n,a,i;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(r){switch(r.label){case 0:return e.preventDefault(),t=e.currentTarget,F(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),j(!0),t.checkValidity()?(null==Z?void 0:Z.qualification_id)&&Z.sort&&Z.extracurricular_activities_hours_per_week&&Z.compulsory_education_general_credits_to&&Z.compulsory_education_basic_credits_from&&Z.compulsory_education_general_credits_from&&Z.compulsory_education_basic_credits_to&&Z.consultations_hours_per_academic_year?(n=null==d?void 0:d.structure.qualifications.filter((function(e){return e.qualification_id===Z.qualification_id})))&&n.length?(O(y.F.error("Данная квалификация уже присутствует в списке")),[2]):Z.compulsory_education_basic_credits_from>Z.compulsory_education_basic_credits_to||Z.compulsory_education_general_credits_from>Z.compulsory_education_general_credits_to?(O(y.F.error("Проверьте правильность заполненных полей (минимальное не может превышать максимальное)")),[2]):(a={compulsory_education_basic_credits_from:Z.compulsory_education_basic_credits_from,compulsory_education_basic_credits_to:Z.compulsory_education_basic_credits_to,compulsory_education_general_credits_from:Z.compulsory_education_general_credits_from,compulsory_education_general_credits_to:Z.compulsory_education_general_credits_to,consultations_hours_per_academic_year:Z.consultations_hours_per_academic_year,extracurricular_activities_hours_per_week:Z.extracurricular_activities_hours_per_week},[4,h((0,x.JS)(a))]):[3,2]:[3,3];case 1:return"fulfilled"===(i=r.sent()).meta.requestStatus&&("add"===f?(h(x.rj.addQualificationToStructure(Z)),h(x.rj.addTrainingTimeToQualification([Z.qualification_id,i.payload]))):(h(w.ap.addQualificationToStructure(Z)),h(w.ap.addTrainingTimeToQualification([Z.qualification_id,i.payload]))),O(y.F.success("Квалификация добавлена")),ee()),"rejected"===i.meta.requestStatus&&F(!0),[3,3];case 2:F(!0),r.label=3;case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,r){function l(e){try{u(i.next(e))}catch(e){r(e)}}function o(e){try{u(i.throw(e))}catch(e){r(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,o)}u((i=i.apply(t,n||[])).next())}));var t,n,a,i}},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:"Добавление квалификации"})}),(0,a.jsx)(l.sD,{children:t}),(0,a.jsxs)(l.Ym,I({className:A.footer},{children:[(0,a.jsx)("div",I({className:A.message},{children:M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{icon:v.D,customClassName:A.messageIcon}),(0,a.jsx)(o.xv,I({size:o.yH.M,weight:o.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",I({className:A.footerBtns},{children:[(0,a.jsx)(s.zx,I({theme:s.bn.OUTLINE,className:A.footerBtn,onClick:ee},{children:(0,a.jsx)(o.xv,I({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(s.zx,I({type:"submit",className:(0,i.A)(A.footerBtn,{},[A.greenBtn])},{children:[(0,a.jsx)(o.xv,I({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Добавить"})),(0,a.jsx)(_.Z,{icon:k.q,className:A.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(l.KF,{ref:z,push:B,placement:"top-end"})]})};const B={tabBtn:"P8ap_GBQ",tabsButtonsBlock:"qM31LmjD",title:"aSoaLcG_",settings:"RViU0c8v",newAddField:"YQHuwQ9S",tabBlock:"sgxllrO5",form:"lrBMpa9v",footerBtn:"YtN1xq1L",greenBtn:"YTVQLU4_",footer:"TPV2wREl",message:"cnYyZIaJ",messageIcon:"JWzx6FHa"};var O=function(){return O=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)},z=function(e){var t,n,u,c=e.className,d=e.visible,f=e.setVisible,h=e.mode,N=e.qualId,S=e.moduleId,M=e.unitId,F=e.data,k=e.structureMode,C=(0,m.T)(),q=(0,r.useState)(!1),E=q[0],D=q[1],A=(0,r.useState)(!1),I=A[0],T=A[1],z=(0,r.useState)(),Q=z[0],U=z[1],H=(0,r.useRef)(null),L=(0,b.v9)("add"===h?x.bT:w.xJ),V=(0,r.useCallback)((function(){f(!1)}),[f]),R=function(){var e;e="general_modules"===k?F.structure.general_modules.filter((function(e){return e.educational_module_id===S}))[0].units.filter((function(e){return e.educational_modules_unit_id===M}))[0]:F.structure.qualifications.filter((function(e){return e.qualification_id===N}))[0].modules.filter((function(e){return e.educational_module_id===S}))[0].units.filter((function(e){return e.educational_modules_unit_id===M}))[0],C("add"===h?x.rj.setEditUnitItem(e):w.ap.setEditUnitItem(e))},G=function(){V(),D(!1),T(!1),R()},X=function(e,t){C("add"===h?x.rj.changeEditUnitCheck([e,t]):w.ap.changeEditUnitCheck([e,t]))};return(0,r.useEffect)((function(){F&&S&&M&&d&&R()}),[F,C,S,N,k,M,d]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Tk,O({className:(0,i.A)(B.EditStandardCurriculumModuleUnitModal,{},[c]),visible:d,onClose:V,size:"lg",alignment:"center"},{children:(0,a.jsxs)(l.lx,O({className:(0,i.A)(B.form,{},["needs-validation"]),noValidate:!0,validated:E,onSubmit:function(e){return t=void 0,n=void 0,i=function(){var t,n;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(a){return e.preventDefault(),t=e.currentTarget,T(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),D(!0),t.checkValidity()&&(n=(0,g.T)(null==L?void 0:L.data,null==L?void 0:L.newFields),(0,j.Q)(n)?U(y.F.error("Для сохранения вы должны внести изменения!")):("add"===h?C("general_modules"===k?x.rj.saveEditUnitChangesGeneralModules([S,M,L.newFields]):x.rj.saveEditUnitChangesQualificationsStructure([N,S,M,L.newFields])):"edit"===h&&C("general_modules"===k?w.ap.saveEditUnitChangesGeneralModules([S,M,L.newFields]):w.ap.saveEditUnitChangesQualificationsStructure([N,S,M,L.newFields])),U(y.F.success("Информация о модульной единице успешно обновлена")),G())),[2]}))},new((a=void 0)||(a=Promise))((function(e,r){function l(e){try{u(i.next(e))}catch(e){r(e)}}function o(e){try{u(i.throw(e))}catch(e){r(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,o)}u((i=i.apply(t,n||[])).next())}));var t,n,a,i}},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:"Редактирование модульной единицы"})}),(0,a.jsx)(l.sD,{children:(0,a.jsx)("div",O({className:B.tab},{children:(0,a.jsxs)("div",O({className:B.tabBlock},{children:[(0,a.jsx)("div",O({className:B.settings},{children:(0,a.jsxs)("div",O({className:B.newAddField},{children:[(0,a.jsx)("h6",O({className:B.newAddFieldTitle},{children:"Индекс сортировки"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:String(null===(t=null==L?void 0:L.newFields)||void 0===t?void 0:t.sort)||"",onChange:function(e){var t,n;t=e.target.value,n="sort",C("add"===h?x.rj.changeEditUnitField([t,n]):w.ap.changeEditUnitField([t,n]))},required:!0})]}))})),(0,a.jsx)("div",O({className:B.settings},{children:(0,a.jsx)("div",O({className:B.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе основного среднего образования (9 классов)"}),className:B.checkbox,checked:null===(n=null==L?void 0:L.newFields)||void 0===n?void 0:n.has_in_basic_education,onChange:function(e){X(e.target.checked,"has_in_basic_education")},id:"has_in_basic_education"})}))})),(0,a.jsx)("div",O({className:B.settings},{children:(0,a.jsx)("div",O({className:B.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе общего среднего образования (11 классов)"}),className:B.checkbox,checked:null===(u=null==L?void 0:L.newFields)||void 0===u?void 0:u.has_in_general_education,onChange:function(e){X(e.target.checked,"has_in_general_education")},id:"has_in_general_education"})}))}))]}))}))}),(0,a.jsxs)(l.Ym,O({className:B.footer},{children:[(0,a.jsx)("div",O({className:B.message},{children:I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{icon:v.D,customClassName:B.messageIcon}),(0,a.jsx)(o.xv,O({size:o.yH.M,weight:o.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",O({className:B.footerBtns},{children:[(0,a.jsx)(s.zx,O({theme:s.bn.OUTLINE,className:B.footerBtn,onClick:G},{children:(0,a.jsx)(o.xv,O({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(s.zx,O({type:"submit",className:(0,i.A)(B.footerBtn,{},[B.greenBtn])},{children:[(0,a.jsx)(o.xv,O({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Сохранить"})),(0,a.jsx)(_.Z,{icon:p.F,className:B.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(l.KF,{ref:H,push:Q,placement:"top-end"})]})};const Q={tabBtn:"u1hw08Y4",tabsButtonsBlock:"aZCMNevK",title:"fYRhBjqt",settings:"_MGVdm2u",newAddField:"pTqSJkaw",tabBlock:"cHywkoz6",form:"ouEFk3wx",footerBtn:"rW1mUej6",greenBtn:"ndJAV7cC",footer:"fg91Q2dp",message:"NdlyTzqt",messageIcon:"_fQchGP9"};var U=function(){return U=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)},H=function(e){var t,n,u,c=e.className,d=e.visible,f=e.setVisible,h=e.mode,N=e.moduleId,S=e.data,M=e.structureMode,F=e.qualId,k=(0,m.T)(),C=(0,r.useState)(!1),q=C[0],E=C[1],D=(0,r.useState)(!1),A=D[0],I=D[1],T=(0,r.useState)(),B=T[0],O=T[1],z=(0,r.useRef)(null),H=(0,b.v9)("add"===h?x.nB:w.Kc),L=(0,r.useCallback)((function(){f(!1)}),[f]),V=function(){if("general_modules"===M)k(x.rj.setEditModuleItem(S.structure.general_modules.filter((function(e){return e.educational_module_id===N}))[0]));else{var e=S.structure.qualifications.filter((function(e){return e.qualification_id===F}))[0];k(x.rj.setEditModuleItem(e.modules.filter((function(e){return e.educational_module_id===N}))[0]))}},R=function(){if("general_modules"===M)k(w.ap.setEditModuleItem(S.structure.general_modules.filter((function(e){return e.educational_module_id===N}))[0]));else{var e=S.structure.qualifications.filter((function(e){return e.qualification_id===F}))[0];k(w.ap.setEditModuleItem(e.modules.filter((function(e){return e.educational_module_id===N}))[0]))}},G=function(){L(),E(!1),I(!1),"add"===h?V():R()},X=function(e,t){k("add"===h?x.rj.changeEditModuleCheck([e,t]):w.ap.changeEditModuleCheck([e,t]))};return(0,r.useEffect)((function(){S&&N&&d&&("add"===h?V():R())}),[S,k,N,F,M,d,h]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Tk,U({className:(0,i.A)(Q.EditStandardCurriculumModuleModal,{},[c]),visible:d,onClose:L,size:"lg",alignment:"center"},{children:(0,a.jsxs)(l.lx,U({className:(0,i.A)(Q.form,{},["needs-validation"]),noValidate:!0,validated:q,onSubmit:function(e){return t=void 0,n=void 0,i=function(){var t,n;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(a){return e.preventDefault(),t=e.currentTarget,I(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),E(!0),t.checkValidity()&&(n=(0,g.T)(null==H?void 0:H.data,null==H?void 0:H.newFields),(0,j.Q)(n)?O(y.F.error("Для сохранения вы должны внести изменения!")):(k("add"===h?"general_modules"===M?x.rj.saveEditModuleChangesGeneralModules([N,H.newFields]):x.rj.saveEditModuleChangesQualificationsStructure([F,N,H.newFields]):"general_modules"===M?w.ap.saveEditModuleChangesGeneralModules([N,H.newFields]):w.ap.saveEditModuleChangesQualificationsStructure([F,N,H.newFields])),O(y.F.success("Информация о модуле успешно обновлена")),G())),[2]}))},new((a=void 0)||(a=Promise))((function(e,r){function l(e){try{u(i.next(e))}catch(e){r(e)}}function o(e){try{u(i.throw(e))}catch(e){r(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,o)}u((i=i.apply(t,n||[])).next())}));var t,n,a,i}},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:"Редактирование модуля"})}),(0,a.jsx)(l.sD,{children:(0,a.jsx)("div",U({className:Q.tab},{children:(0,a.jsxs)("div",U({className:Q.tabBlock},{children:[(0,a.jsx)("div",U({className:Q.settings},{children:(0,a.jsxs)("div",U({className:Q.newAddField},{children:[(0,a.jsx)("h6",U({className:Q.newAddFieldTitle},{children:"Индекс сортировки"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:String(null===(t=null==H?void 0:H.newFields)||void 0===t?void 0:t.sort)||"",onChange:function(e){var t,n;t=e.target.value,n="sort",k("add"===h?x.rj.changeEditModuleField([t,n]):w.ap.changeEditModuleField([t,n]))},required:!0})]}))})),"general_modules"===M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",U({className:Q.settings},{children:(0,a.jsx)("div",U({className:Q.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе основного среднего образования (9 классов)"}),className:Q.checkbox,checked:null===(n=null==H?void 0:H.newFields)||void 0===n?void 0:n.has_in_basic_education,onChange:function(e){X(e.target.checked,"has_in_basic_education")},id:"has_in_basic_education"})}))})),(0,a.jsx)("div",U({className:Q.settings},{children:(0,a.jsx)("div",U({className:Q.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе общего среднего образования (11 классов)"}),className:Q.checkbox,checked:null===(u=null==H?void 0:H.newFields)||void 0===u?void 0:u.has_in_general_education,onChange:function(e){X(e.target.checked,"has_in_general_education")},id:"has_in_general_education"})}))}))]})]}))}))}),(0,a.jsxs)(l.Ym,U({className:Q.footer},{children:[(0,a.jsx)("div",U({className:Q.message},{children:A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{icon:v.D,customClassName:Q.messageIcon}),(0,a.jsx)(o.xv,U({size:o.yH.M,weight:o.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",U({className:Q.footerBtns},{children:[(0,a.jsx)(s.zx,U({theme:s.bn.OUTLINE,className:Q.footerBtn,onClick:G},{children:(0,a.jsx)(o.xv,U({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(s.zx,U({type:"submit",className:(0,i.A)(Q.footerBtn,{},[Q.greenBtn])},{children:[(0,a.jsx)(o.xv,U({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Сохранить"})),(0,a.jsx)(_.Z,{icon:p.F,className:Q.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(l.KF,{ref:z,push:B,placement:"top-end"})]})},L=n(1817);const V={tabBtn:"JLwMqpcL",tabsButtonsBlock:"qk57LZkf",title:"tanVWzKC",settings:"PXkuavlo",newAddField:"v4JBTBTd",tabBlock:"aFzIiwIl",form:"fXx6zRN1",footerBtn:"ek6GDT5H",greenBtn:"npGtk8z0",footer:"i3bKnRe9",message:"tpbBTPO5",messageIcon:"iG2tkyqN"};var R=function(){return R=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},G=function(e){var t,n=e.className,u=e.visible,c=e.setVisible,d=e.data,f=e.mode,h=e.structureMode,p=e.qualId,g=(0,m.T)(),j=(0,r.useState)(!1),N=j[0],S=j[1],M=(0,r.useState)(!1),F=M[0],E=M[1],D=(0,r.useState)(),A=D[0],I=D[1],T=(0,r.useRef)(null),B=(0,b.v9)(L.Ai),O=(0,b.v9)(L.BH),z=(0,b.v9)(L.ah),Q=(0,b.v9)("add"===f?x.kc:w.d7),U=(0,r.useCallback)((function(){c(!1)}),[c]),H=function(){U(),S(!1),E(!1),g("add"===f?x.rj.clearNewModuleData():w.ap.clearNewModuleData())},G=function(e,t){g("add"===f?x.rj.changeNewModuleCheck([e,t]):w.ap.changeNewModuleCheck([e,t]))};return(0,r.useEffect)((function(){g((0,L.Eb)())}),[g]),(0,r.useEffect)((function(){"qualifications"===h?(G(!0,"has_in_basic_education"),G(!0,"has_in_general_education")):(G(!0,"has_in_basic_education"),G(!1,"has_in_general_education"))}),[g,u,p,h]),t=O?(0,a.jsx)(q.O,{width:"100%",height:400}):z?(0,a.jsx)(o.xv,R({theme:o.lg.ERROR,size:o.yH.M,weight:o.fs.SEMIBOLD,className:V.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,a.jsx)("div",R({className:V.tab},{children:(0,a.jsxs)("div",R({className:V.tabBlock},{children:[(0,a.jsx)("div",R({className:V.settings},{children:(0,a.jsxs)("div",R({className:V.newAddField},{children:[(0,a.jsx)("h6",R({className:V.newAddFieldTitle},{children:"Образовательный модуль*"})),(0,a.jsx)(C.u,{className:V.selectField,options:B&&B.length?B.map((function(e){return e.name})):[""],optionValue:(null==Q?void 0:Q.educational_module_id)?B.filter((function(e){return e.module_id===Q.educational_module_id}))[0].name:"null",onClickOption:function(e,t){var n=B.filter((function(t){return t.name===e}))[0];g("add"===f?x.rj.changeNewModuleField([String(n.module_id),t]):w.ap.changeNewModuleField([String(n.module_id),t]))},columnName:"educational_module_id"})]}))})),(0,a.jsx)("div",R({className:V.settings},{children:(0,a.jsxs)("div",R({className:V.newAddField},{children:[(0,a.jsx)("h6",R({className:V.newAddFieldTitle},{children:"Индекс сортировки*"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:String(null==Q?void 0:Q.sort)||"",onChange:function(e){var t,n;t=e.target.value,n="sort",g("add"===f?x.rj.changeNewModuleField([t,n]):w.ap.changeNewModuleField([t,n]))},required:!0})]}))})),"general_modules"===h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",R({className:V.settings},{children:(0,a.jsx)("div",R({className:V.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе основного среднего образования (9 классов)"}),className:V.checkbox,checked:null==Q?void 0:Q.has_in_basic_education,onChange:function(e){G(e.target.checked,"has_in_basic_education")},id:"has_in_basic_education"})}))})),(0,a.jsx)("div",R({className:V.settings},{children:(0,a.jsx)("div",R({className:V.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе общего среднего образования (11 классов)"}),className:V.checkbox,checked:null==Q?void 0:Q.has_in_general_education,onChange:function(e){G(e.target.checked,"has_in_general_education")},id:"has_in_general_education"})}))}))]})]}))})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Tk,R({className:(0,i.A)(V.AddStandardCurriculumModuleModal,{},[n]),visible:u,onClose:U,size:"lg",alignment:"center"},{children:(0,a.jsxs)(l.lx,R({className:(0,i.A)(V.form,{},["needs-validation"]),noValidate:!0,validated:N,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;if(E(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),S(!0),t.checkValidity())if((null==Q?void 0:Q.educational_module_id)&&Q.sort){var n=void 0;if("general_modules"===h)n=null==d?void 0:d.structure.general_modules.filter((function(e){return e.educational_module_id===Q.educational_module_id}));else{var a=null==d?void 0:d.structure.qualifications.filter((function(e){return e.qualification_id===p}))[0];n=null==a?void 0:a.modules.filter((function(e){return e.educational_module_id===Q.educational_module_id}))}if(n&&n.length)return void I(y.F.error("Данный модуль уже присутствует в списке"));"add"===f?g("general_modules"===h?x.rj.addModuleToGeneralModules(Q):x.rj.addModuleToQualificationStructure([p,Q])):"edit"===f&&g("general_modules"===h?w.ap.addModuleToGeneralModules(Q):w.ap.addModuleToQualificationStructure([p,Q])),I(y.F.success("Модуль добавлен")),H()}else E(!0)}},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:"Добавление модуля"})}),(0,a.jsx)(l.sD,{children:t}),(0,a.jsxs)(l.Ym,R({className:V.footer},{children:[(0,a.jsx)("div",R({className:V.message},{children:F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{icon:v.D,customClassName:V.messageIcon}),(0,a.jsx)(o.xv,R({size:o.yH.M,weight:o.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",R({className:V.footerBtns},{children:[(0,a.jsx)(s.zx,R({theme:s.bn.OUTLINE,className:V.footerBtn,onClick:H},{children:(0,a.jsx)(o.xv,R({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(s.zx,R({type:"submit",className:(0,i.A)(V.footerBtn,{},[V.greenBtn])},{children:[(0,a.jsx)(o.xv,R({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Добавить"})),(0,a.jsx)(_.Z,{icon:k.q,className:V.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(l.KF,{ref:T,push:A,placement:"top-end"})]})};const X={tabBtn:"QDoaDRZ5",tabsButtonsBlock:"QBrMPFmB",title:"Tan9ALhF",settings:"ohYYa9lL",newAddField:"bvSvYvih",tabBlock:"iJJ8ng7Z",form:"judFz5BJ",footerBtn:"vL59UnZL",greenBtn:"Su79nHRm",footer:"C6kN2MeZ",message:"CwE4daRa",messageIcon:"sRg0G9qR"};var P=function(){return P=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)},W=function(e){var t,n,u=e.className,c=e.visible,d=e.setVisible,f=e.moduleId,h=e.data,p=e.mode,g=e.structureMode,j=e.qualId,N=(0,m.T)(),S=(0,r.useState)(!1),M=S[0],F=S[1],E=(0,r.useState)(!1),D=E[0],A=E[1],I=(0,r.useState)(),T=I[0],B=I[1],O=(0,r.useRef)(null),z=null===(t=(0,b.v9)(L.zy))||void 0===t?void 0:t.filter((function(e){return e.module_id===f})),Q=(0,b.v9)(L.cH),U=(0,b.v9)(L.GM),H=(0,b.v9)("add"===p?x.ft:w.Ol),V=(0,r.useCallback)((function(){d(!1)}),[d]),R=function(e,t){N("add"===p?x.rj.changeNewUnitCheck([e,t]):w.ap.changeNewUnitCheck([e,t]))},G=function(){V(),F(!1),A(!1),"add"===p?"general_modules"===g?(N(x.rj.clearNewUnitData()),R(!0,"has_in_basic_education"),R(!1,"has_in_general_education")):(N(x.rj.clearNewUnitData()),R(!0,"has_in_basic_education"),R(!0,"has_in_general_education")):"edit"===p&&("general_modules"===g?(N(w.ap.clearNewUnitData()),R(!0,"has_in_basic_education"),R(!1,"has_in_general_education")):(N(w.ap.clearNewUnitData()),R(!0,"has_in_basic_education"),R(!0,"has_in_general_education")))};return(0,r.useEffect)((function(){N((0,L.Eb)()),N((0,L.$w)())}),[N]),(0,r.useEffect)((function(){"qualifications"===g?(R(!0,"has_in_basic_education"),R(!0,"has_in_general_education")):(R(!0,"has_in_basic_education"),R(!1,"has_in_general_education"))}),[g,c]),n=Q?(0,a.jsx)(q.O,{width:"100%",height:400}):U?(0,a.jsx)(o.xv,P({theme:o.lg.ERROR,size:o.yH.M,weight:o.fs.SEMIBOLD,className:X.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,a.jsx)("div",P({className:X.tab},{children:(0,a.jsxs)("div",P({className:X.tabBlock},{children:[(0,a.jsx)("div",P({className:X.settings},{children:(0,a.jsxs)("div",P({className:X.newAddField},{children:[(0,a.jsx)("h6",P({className:X.newAddFieldTitle},{children:"Модульная единица*"})),(0,a.jsx)(C.u,{className:X.selectField,options:z&&z.length?z.map((function(e){return e.name})):[""],optionValue:(null==H?void 0:H.educational_modules_unit_id)?z.filter((function(e){return e.unit_id===H.educational_modules_unit_id}))[0].name:"null",onClickOption:function(e,t){var n=z.filter((function(t){return t.name===e}))[0];N("add"===p?x.rj.changeNewUnitField([String(n.unit_id),t]):w.ap.changeNewUnitField([String(n.unit_id),t]))},columnName:"educational_modules_unit_id"})]}))})),(0,a.jsx)("div",P({className:X.settings},{children:(0,a.jsxs)("div",P({className:X.newAddField},{children:[(0,a.jsx)("h6",P({className:X.newAddFieldTitle},{children:"Индекс сортировки*"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:String(null==H?void 0:H.sort)||"",onChange:function(e){var t,n;t=e.target.value,n="sort",N("add"===p?x.rj.changeNewUnitField([t,n]):w.ap.changeNewUnitField([t,n]))},required:!0})]}))})),(0,a.jsx)("div",P({className:X.settings},{children:(0,a.jsx)("div",P({className:X.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе основного среднего образования (9 классов)"}),className:X.checkbox,checked:null==H?void 0:H.has_in_basic_education,onChange:function(e){R(e.target.checked,"has_in_basic_education")},id:"has_in_basic_education"})}))})),(0,a.jsx)("div",P({className:X.settings},{children:(0,a.jsx)("div",P({className:X.newAddField},{children:(0,a.jsx)(l.EC,{label:(0,a.jsx)("h6",{children:"Присутствует на базе общего среднего образования (11 классов)"}),className:X.checkbox,checked:null==H?void 0:H.has_in_general_education,onChange:function(e){R(e.target.checked,"has_in_general_education")},id:"has_in_general_education"})}))}))]}))})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Tk,P({className:(0,i.A)(X.AddStandardCurriculumModuleUnitModal,{},[u]),visible:c,onClose:V,size:"lg",alignment:"center"},{children:(0,a.jsxs)(l.lx,P({className:(0,i.A)(X.form,{},["needs-validation"]),noValidate:!0,validated:M,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;if(A(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),F(!0),t.checkValidity())if((null==H?void 0:H.educational_modules_unit_id)&&H.sort){var n=void 0;if("general_modules"===g)n=null==h?void 0:h.structure.general_modules.filter((function(e){return e.educational_module_id===f}));else{var a=null==h?void 0:h.structure.qualifications.filter((function(e){return e.qualification_id===j}))[0];n=null==a?void 0:a.modules.filter((function(e){return e.educational_module_id===f}))}var i=n&&n.length?n[0].units.filter((function(e){return e.educational_modules_unit_id===H.educational_modules_unit_id})):[];if(i&&i.length)return void B(y.F.error("Данная модульная единица уже присутствует в списке"));"add"===p?N("general_modules"===g?x.rj.addUnitToGeneralModulesModule([f,H]):x.rj.addUnitToQualificationModuleStructure([j,f,H])):"edit"===p&&N("general_modules"===g?w.ap.addUnitToGeneralModulesModule([f,H]):w.ap.addUnitToQualificationModuleStructure([j,f,H])),B(y.F.success("Модульная единица добавлена")),G()}else A(!0)}},{children:[(0,a.jsx)(l.p0,{children:(0,a.jsx)(l.fl,{children:"Добавление модульной единицы"})}),(0,a.jsx)(l.sD,{children:n}),(0,a.jsxs)(l.Ym,P({className:X.footer},{children:[(0,a.jsx)("div",P({className:X.message},{children:D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{icon:v.D,customClassName:X.messageIcon}),(0,a.jsx)(o.xv,P({size:o.yH.M,weight:o.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",P({className:X.footerBtns},{children:[(0,a.jsx)(s.zx,P({theme:s.bn.OUTLINE,className:X.footerBtn,onClick:G},{children:(0,a.jsx)(o.xv,P({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(s.zx,P({type:"submit",className:(0,i.A)(X.footerBtn,{},[X.greenBtn])},{children:[(0,a.jsx)(o.xv,P({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Добавить"})),(0,a.jsx)(_.Z,{icon:k.q,className:X.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(l.KF,{ref:O,push:T,placement:"top-end"})]})},J=n(982),Y=n(9417),Z=n(4434);const K={title:"G_I8i09h",content:"u7k4Tiix",accordionHeader:"SdMRSFHJ",accordionBody:"JfmrlbuN",btnAdd:"Nfz72Eof",accordion:"RCLWV99O",accordionBodyContent:"StL89hXq",innerBtnAdd:"Ye9fEjFn",btnAddParent:"dgt6G_R0",cell:"pZ5qDb2Y",accordionInner:"nQElOaDq",accordionInnerSecond:"WFiakPkc",cellBtn:"YJLyKWDf",bubbles:"n_4a4pOB",bubble:"B_Np01Zu",greenBubble:"FTXViZIg",redBubble:"_J3iI91U",accordionInnerThird:"VWIcEFHG"};var $=function(){return $=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$.apply(this,arguments)},ee=function(e){var t,n,u,c,d=e.className,f=e.setAddModuleModalVisible,h=e.setAddModuleUnitModalVisible,m=e.setAddQualificationModalVisible,_=e.setEditModuleModalVisible,v=e.setEditModuleUnitModalVisible,p=e.setEditQualificationModalVisible,y=e.onDeleteModuleFromGeneralModulesHandler,x=e.onDeleteModuleFromQualificationStructureHandler,g=e.onDeleteModuleUnitFromGeneralModulesHandler,j=e.onDeleteModuleUnitFromQualificationStructureHandler,w=e.onDeleteQualificationFromStructureHandler,S=e.setModuleId,M=e.setUnitId,F=e.setQualId,k=e.setCurriculumStructureMode,C=e.isLoading,D=e.error,A=e.data,I=(0,b.v9)(L.Ai),T=(0,b.v9)(L.zy),B=(0,b.v9)(E._c),O=(0,b.v9)(N.rb),z=null==O?void 0:O.hectum_curriculum.options.filter((function(e){return"credit_in_hours"===e.name}))[0],Q=null==B?void 0:B.data.filter((function(e){return e.specialty_id===(null==A?void 0:A.general_info.speciality_id)})),U=(0,r.useCallback)((function(e,t){f(!0),k(e),"qualifications"===e&&F(t)}),[f,k,F]),H=(0,r.useCallback)((function(e,t,n){h(!0),S(e),k(t),"qualifications"===t&&F(n)}),[h,k,S,F]),V=(0,r.useCallback)((function(){m(!0)}),[m]),R=(0,r.useCallback)((function(e,t,n){_(!0),S(e),k(t),"qualifications"===t&&F(n)}),[k,_,S,F]),G=(0,r.useCallback)((function(e,t,n,a){v(!0),S(e),M(t),k(n),"qualifications"===n&&F(a)}),[k,v,S,F,M]),X=(0,r.useCallback)((function(e){p(!0),F(e)}),[p,F]);return c=C?(0,a.jsx)(q.O,{width:"100%",height:300,border:"4px"}):D?(0,a.jsx)(o.xv,$({theme:o.lg.ERROR,size:o.yH.M,weight:o.fs.SEMIBOLD,className:K.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,a.jsxs)("div",$({className:(0,i.A)(K.StandardCurriculumStructure,{},[d,"accordion-custom"])},{children:[(0,a.jsx)(o.xv,$({weight:o.fs.MEDIUM,className:K.title},{children:"Структура учебного плана"})),(0,a.jsxs)("div",$({className:K.content},{children:[(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.modulesAccordion])},{children:(0,a.jsxs)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[K.modulesAccordionItem])},{children:[(0,a.jsx)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[K.modulesAccordionHeader])},{children:(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:"Общие образовательные модули"}))}))})),(0,a.jsxs)(l.qI,$({className:(0,i.A)(K.accordionBody,{},[K.modulesAccordionBody])},{children:[null===(t=null==A?void 0:A.structure.general_modules)||void 0===t?void 0:t.map((function(e){var t,n;return(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.accordionInner])},{children:(0,a.jsxs)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[])},{children:[(0,a.jsxs)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[])},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:null==I?void 0:I.filter((function(t){return t.module_id===e.educational_module_id}))[0].name}))})),(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,weight:o.fs.MEDIUM,className:K.accordionSort},{children:e.sort}))})),(0,a.jsxs)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:[(0,a.jsx)("div",$({className:(0,i.A)(K.bubble,(t={},t[K.greenBubble]=e.has_in_basic_education,t[K.redBubble]=!e.has_in_basic_education,t),[])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XXS},{children:["На базе 9 классов -"," ",e.has_in_basic_education?"Да":"Нет"]}))})),(0,a.jsx)("div",$({className:(0,i.A)(K.bubble,(n={},n[K.greenBubble]=e.has_in_general_education,n[K.redBubble]=!e.has_in_general_education,n),[])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XXS},{children:["На базе 11 классов -"," ",e.has_in_general_education?"Да":"Нет"]}))}))]})),(0,a.jsxs)("div",$({className:K.cell},{children:[(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.editBtn]),onClick:function(){R(e.educational_module_id,"general_modules")}},{children:(0,a.jsx)(J.G,{icon:Z.Yai})})),(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.deleteBtn]),onClick:function(){y(e.educational_module_id)}},{children:(0,a.jsx)(J.G,{icon:Y.$aW})}))]}))]})),(0,a.jsxs)(l.qI,$({className:(0,i.A)(K.accordionBody,{},[])},{children:[e.units.map((function(t){var n,r;return(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.accordionInnerSecond])},{children:(0,a.jsx)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[K.moduleUnitsAccordionItem])},{children:(0,a.jsxs)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[K.moduleUnitsAccordionHeader])},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:t.educational_modules_unit_id?null==T?void 0:T.filter((function(e){return e.unit_id===t.educational_modules_unit_id}))[0].name:"Нет"}))})),(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,weight:o.fs.MEDIUM,className:K.accordionSort},{children:t.sort}))})),(0,a.jsxs)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:[(0,a.jsx)("div",$({className:(0,i.A)(K.bubble,(n={},n[K.greenBubble]=t.has_in_basic_education,n[K.redBubble]=!t.has_in_basic_education,n),[])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XXS},{children:["На базе 9 классов -"," ",t.has_in_basic_education?"Да":"Нет"]}))})),(0,a.jsx)("div",$({className:(0,i.A)(K.bubble,(r={},r[K.greenBubble]=t.has_in_general_education,r[K.redBubble]=!t.has_in_general_education,r),[])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XXS},{children:["На базе 11 классов -"," ",t.has_in_general_education?"Да":"Нет"]}))}))]})),(0,a.jsxs)("div",$({className:K.cell},{children:[(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.editBtn]),onClick:function(){G(e.educational_module_id,t.educational_modules_unit_id,"general_modules")}},{children:(0,a.jsx)(J.G,{icon:Z.Yai})})),(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.deleteBtn]),onClick:function(){g(e.educational_module_id,t.educational_modules_unit_id)}},{children:(0,a.jsx)(J.G,{icon:Y.$aW})}))]}))]}))}))}),t.educational_modules_unit_id)})),(null==T?void 0:T.filter((function(t){return t.module_id===e.educational_module_id})).length)&&(null==T?void 0:T.filter((function(t){return t.module_id===e.educational_module_id})).length)!==e.units.length?(0,a.jsx)(s.zx,$({className:(0,i.A)(K.btnAdd,{},[K.innerBtnAdd]),onClick:function(){H(e.educational_module_id,"general_modules")}},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Добавить модульную единицу"}))})):""]}))]}))}),e.educational_module_id)})),(null===(n=null==A?void 0:A.structure.general_modules)||void 0===n?void 0:n.length)===(null==I?void 0:I.length)?"":(0,a.jsx)(s.zx,$({className:(0,i.A)(K.btnAdd,{},[K.btnAddParent]),onClick:function(){U("general_modules")}},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Добавить модуль"}))}))]}))]}))})),(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.qualificationsAccordion])},{children:(0,a.jsxs)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[K.modulesAccordionItem])},{children:[(0,a.jsx)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[K.modulesAccordionHeader])},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Квалификации"}))})),(0,a.jsxs)(l.qI,$({className:(0,i.A)(K.accordionBody,{},[K.modulesAccordionBody])},{children:[null==A?void 0:A.structure.qualifications.map((function(e){return(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.accordionInner])},{children:(0,a.jsxs)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[])},{children:[(0,a.jsxs)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[])},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:["Квалификация"," ",null==B?void 0:B.data.filter((function(t){return t.id_qual===e.qualification_id}))[0].shifr_qual," ","-"," ",null==B?void 0:B.data.filter((function(t){return t.id_qual===e.qualification_id}))[0].qualification]}))})),(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,weight:o.fs.MEDIUM,className:K.accordionSort},{children:e.sort}))})),(0,a.jsx)("div",{className:(0,i.A)(K.cell,{},[K.bubbles])}),(0,a.jsxs)("div",$({className:K.cell},{children:[(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.editBtn]),onClick:function(){X(e.qualification_id)}},{children:(0,a.jsx)(J.G,{icon:Z.Yai})})),(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.deleteBtn]),onClick:function(){w(e.qualification_id)}},{children:(0,a.jsx)(J.G,{icon:Y.$aW})}))]}))]})),(0,a.jsxs)(l.qI,$({className:(0,i.A)(K.accordionBody,{},[])},{children:[e.modules.map((function(t){return(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.accordionInnerSecond])},{children:(0,a.jsxs)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[])},{children:[(0,a.jsxs)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[])},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:null==I?void 0:I.filter((function(e){return e.module_id===t.educational_module_id}))[0].name}))})),(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,weight:o.fs.MEDIUM,className:K.accordionSort},{children:t.sort}))})),(0,a.jsx)("div",{className:(0,i.A)(K.cell,{},[K.bubbles])}),(0,a.jsxs)("div",$({className:K.cell},{children:[(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.editBtn]),onClick:function(){R(t.educational_module_id,"qualifications",e.qualification_id)}},{children:(0,a.jsx)(J.G,{icon:Z.Yai})})),(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.deleteBtn]),onClick:function(){x(e.qualification_id,t.educational_module_id)}},{children:(0,a.jsx)(J.G,{icon:Y.$aW})}))]}))]})),(0,a.jsxs)(l.qI,$({className:(0,i.A)(K.accordionBody,{},[])},{children:[t.units.map((function(n){var r,u;return(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.accordionInnerThird])},{children:(0,a.jsx)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[K.moduleUnitsAccordionItem])},{children:(0,a.jsxs)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[K.moduleUnitsAccordionHeader])},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:n.educational_modules_unit_id?null==T?void 0:T.filter((function(e){return e.unit_id===n.educational_modules_unit_id}))[0].name:"Нет"}))})),(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,weight:o.fs.MEDIUM,className:K.accordionSort},{children:n.sort}))})),(0,a.jsxs)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:[(0,a.jsx)("div",$({className:(0,i.A)(K.bubble,(r={},r[K.greenBubble]=n.has_in_basic_education,r[K.redBubble]=!n.has_in_basic_education,r),[])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XXS},{children:["На базе 9 классов -"," ",n.has_in_basic_education?"Да":"Нет"]}))})),(0,a.jsx)("div",$({className:(0,i.A)(K.bubble,(u={},u[K.greenBubble]=n.has_in_general_education,u[K.redBubble]=!n.has_in_general_education,u),[])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XXS},{children:["На базе 11 классов -"," ",n.has_in_general_education?"Да":"Нет"]}))}))]})),(0,a.jsxs)("div",$({className:K.cell},{children:[(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.editBtn]),onClick:function(){G(t.educational_module_id,n.educational_modules_unit_id,"qualifications",e.qualification_id)}},{children:(0,a.jsx)(J.G,{icon:Z.Yai})})),(0,a.jsx)("button",$({type:"button",className:(0,i.A)(K.cellBtn,{},[K.deleteBtn]),onClick:function(){j(e.qualification_id,t.educational_module_id,n.educational_modules_unit_id)}},{children:(0,a.jsx)(J.G,{icon:Y.$aW})}))]}))]}))}))}),n.educational_modules_unit_id)})),(null==T?void 0:T.filter((function(e){return e.module_id===t.educational_module_id})).length)&&(null==T?void 0:T.filter((function(e){return e.module_id===t.educational_module_id})).length)!==t.units.length?(0,a.jsx)(s.zx,$({className:(0,i.A)(K.btnAdd,{},[K.innerBtnAdd]),onClick:function(){H(t.educational_module_id,"qualifications",e.qualification_id)}},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Добавить модульную единицу"}))})):""]}))]}))}),t.educational_module_id)})),(0,a.jsx)(s.zx,$({className:(0,i.A)(K.btnAdd,{},[K.innerBtnAdd]),onClick:function(){U("qualifications",e.qualification_id)}},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Добавить модуль"}))})),(0,a.jsx)(l.uz,$({className:(0,i.A)(K.accordion,{},[K.accordionInnerSecond])},{children:(0,a.jsxs)(l.Ob,$({className:(0,i.A)(K.accordionItem,{},[])},{children:[(0,a.jsxs)(l.Lv,$({className:(0,i.A)(K.accordionHeader,{},[])},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS,className:K.accordionTitle},{children:"Сроки обучения"}))})),(0,a.jsx)("div",{className:K.cell}),(0,a.jsxs)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:[(0,a.jsxs)(o.xv,$({size:o.yH.XS},{children:[Math.round(e.total.basicEducationFrom.credits),"/",Math.round(e.total.basicEducationFrom.hours)," ","-"," ",Math.round(e.total.basicEducationTo.credits),"/",Math.round(e.total.basicEducationTo.hours)]})),(0,a.jsxs)(o.xv,$({size:o.yH.XS},{children:[Math.round(e.total.generalEducationFrom.credits),"/",Math.round(e.total.generalEducationFrom.hours)," ","-"," ",Math.round(e.total.generalEducationTo.credits),"/",Math.round(e.total.generalEducationTo.hours)]}))]})),(0,a.jsx)("div",{className:K.cell})]})),(0,a.jsxs)(l.qI,$({className:(0,i.A)(K.accordionBody,{},[])},{children:[(0,a.jsxs)("div",$({className:K.accordionBodyContent},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Итого на обязательное обучение"}))})),(0,a.jsx)("div",{className:K.cell}),(0,a.jsxs)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:[(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:e.compulsory_education_basic_credits_from===e.compulsory_education_basic_credits_to?(0,a.jsxs)(a.Fragment,{children:[e.compulsory_education_basic_credits_from,"/",Math.round(e.compulsory_education_basic_credits_from*Number(z.value))]}):(0,a.jsxs)(a.Fragment,{children:[e.compulsory_education_basic_credits_from,"/",Math.round(e.compulsory_education_basic_credits_from*Number(z.value))," ","-"," ",e.compulsory_education_basic_credits_to,"/",Math.round(e.compulsory_education_basic_credits_to*Number(z.value))]})})),(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:e.compulsory_education_general_credits_from===e.compulsory_education_general_credits_to?(0,a.jsxs)(a.Fragment,{children:[e.compulsory_education_general_credits_from,"/",Math.round(e.compulsory_education_general_credits_from*Number(z.value))]}):(0,a.jsxs)(a.Fragment,{children:[e.compulsory_education_general_credits_from,"/",Math.round(e.compulsory_education_general_credits_from*Number(z.value))," ","-"," ",e.compulsory_education_general_credits_to,"/",Math.round(e.compulsory_education_general_credits_to*Number(z.value))]})}))]})),(0,a.jsx)("div",{className:K.cell})]})),(0,a.jsxs)("div",$({className:K.accordionBodyContent},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Факультативные занятия"}))})),(0,a.jsx)("div",{className:K.cell}),(0,a.jsx)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XS},{children:["не более"," ",e.extracurricular_activities_hours_per_week,"-х часов в неделю"]}))})),(0,a.jsx)("div",{className:K.cell})]})),(0,a.jsxs)("div",$({className:K.accordionBodyContent},{children:[(0,a.jsx)("div",$({className:K.cell},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Консультации"}))})),(0,a.jsx)("div",{className:K.cell}),(0,a.jsx)("div",$({className:(0,i.A)(K.cell,{},[K.bubbles])},{children:(0,a.jsxs)(o.xv,$({size:o.yH.XS},{children:["не более"," ",e.consultations_hours_per_academic_year," ","часов на учебный год"]}))})),(0,a.jsx)("div",{className:K.cell})]}))]}))]}))}))]}))]}))}),e.qualification_id)})),(null===(u=null==A?void 0:A.structure.qualifications)||void 0===u?void 0:u.length)===(null==Q?void 0:Q.length)&&(null==Q?void 0:Q.length)?"":(0,a.jsx)(s.zx,$({className:(0,i.A)(K.btnAdd,{},[K.btnAddParent]),onClick:V,disabled:!(null==A?void 0:A.general_info.speciality_id)||!(null==Q?void 0:Q.length)},{children:(0,a.jsx)(o.xv,$({size:o.yH.XS},{children:"Добавить квалификацию"}))}))]}))]}))}))]}))]})),c};const te={wrapper:"eK3Tq0JS"};var ne=function(){return ne=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ne.apply(this,arguments)},ae=function(e){var t=e.className,n=e.data,r=(0,b.v9)(E._c),l=null==n?void 0:n.structure.qualifications.map((function(e){return e.qualification_id}));return(0,a.jsxs)("div",ne({className:(0,i.A)(te.StandardCurriculumQualifications,{},[t])},{children:[(0,a.jsx)(o.xv,ne({weight:o.fs.MEDIUM},{children:"Квалификации"})),(0,a.jsx)("div",ne({className:te.wrapper},{children:l&&l.length?null==l?void 0:l.map((function(e){return(null==r?void 0:r.data.filter((function(t){return t.id_qual===e})).length)?(0,a.jsxs)(o.xv,{children:[null==r?void 0:r.data.filter((function(t){return t.id_qual===e}))[0].shifr_qual," ","-"," ",null==r?void 0:r.data.filter((function(t){return t.id_qual===e}))[0].qualification]},e):""})):(0,a.jsx)(o.xv,{children:"Тут пока пусто..."})}))]}))},ie=n(9198),re=n.n(ie),le=n(8523),oe=n(6959);const ue={StandardCurriculumGeneralInfo:"CB5UNjli",datepickerItem:"nHFbXJYd",setting:"FYBRYihb",settingShort:"sBHhl1Wl",selectField:"_LUQ5Cl7"};var ce=function(){return ce=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ce.apply(this,arguments)},se=function(e){var t=e.className,n=e.searchSelectActiveValue,r=e.sortValue,u=e.onChangeSearchSelect,c=e.onChangeSort,s=e.dateValue,d=e.onChangeDate,f=(0,b.v9)(oe.K2);return(0,a.jsxs)("div",ce({className:(0,i.A)(ue.StandardCurriculumGeneralInfo,{},[t])},{children:[(0,a.jsxs)("div",ce({className:ue.setting},{children:[(0,a.jsx)(o.xv,ce({className:ue.title,weight:o.fs.MEDIUM},{children:"Специальность"})),(0,a.jsx)(C.u,{className:ue.selectField,options:f&&f.data.length?f.data.map((function(e){return e.speciality})):[""],optionValue:n,onClickOption:u,columnName:""})]})),(0,a.jsxs)("div",ce({className:(0,i.A)(ue.setting,{},[ue.settingShort])},{children:[(0,a.jsx)(o.xv,ce({className:ue.title,weight:o.fs.MEDIUM},{children:"Индекс сортировки"})),(0,a.jsx)(l.jO,{type:"number",placeholder:"100",min:100,step:100,value:r,onChange:c,className:ue.sortInput})]})),(0,a.jsxs)("div",ce({className:(0,i.A)(ue.setting,{},[ue.settingShort])},{children:[(0,a.jsx)(o.xv,ce({className:ue.title,weight:o.fs.MEDIUM},{children:"Дата приказа"})),(0,a.jsx)(re(),{className:ue.datepickerItem,selected:s,onChange:d,maxDate:new Date,locale:le.Z,dropdownMode:"select",dateFormat:"dd.MM.yyyy",showMonthDropdown:!0,showYearDropdown:!0,showWeekNumbers:!0})]}))]}))},de=n(7168),fe=(0,de.hg)("standardCurriculum/fetchStandardCurriculum",(function(e,t){return n=void 0,a=void 0,r=function(){var e,n,a;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(i){switch(i.label){case 0:e=t.rejectWithValue,n=t.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.get("/curriculum/standard-curricula/")];case 2:return[2,i.sent().data];case 3:return"Failed to fetch"===(a=i.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:a.response.status,error:a.response.data.message})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}));var n,a,i,r})),he=n(4302),me=n(9546),_e=n(6837),ve=n(1353),pe=n(596),be=n(4164);const ye={TableBlock:"u63DE3Nd",table:"mx_Fjth6",tableRow:"YLCDkqJt",tableCell:"tfmXWRf8",tableHead:"s7y9MgiZ",tableCellId:"_tQdicmj",tableBody:"sGOd8H8Z",tableSortIcon:"rbN62zJv",active:"XRJZLcmY",cellTextBg:"n_rFzwSA",tableCellBtns:"sozAopKx",tableCellBtnsWrapper:"C4hEmePi",editBtn:"Ob8kShkl",checkbox:"A1A3q2LY",tableWithCheckboxes:"QiO8Q6Pm"};var xe=function(e){var t;return null===(t=e.standardCurriculum)||void 0===t?void 0:t.isLoading},ge=function(e){var t;return null===(t=e.standardCurriculum)||void 0===t?void 0:t.error},je=function(){return je=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},je.apply(this,arguments)},we=function(e){var t,n,l,d=e.className,f=e.data,h=e.exportDisabled,m=(0,u.s0)(),_=(0,b.v9)(xe),v=(0,b.v9)(ge),p=(0,r.useState)(),y=p[0],x=p[1],g=(0,r.useState)(!1),j=g[0],w=g[1],N=(0,r.useCallback)((function(e){w(!0),x(e)}),[]),S=(0,r.useCallback)((function(e){m((0,c.Iy)(String(e)))}),[m]);l=_?(0,a.jsx)(q.O,{height:250}):v?(0,a.jsx)(o.xv,je({theme:o.lg.ERROR,size:o.yH.M,weight:o.fs.SEMIBOLD,className:ye.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):f.length?(0,a.jsxs)("div",je({className:(0,i.A)(ye.table,(t={},t[ye.tableWithCheckboxes]=!h,t),[])},{children:[(0,a.jsx)("div",je({className:ye.tableHead},{children:(0,a.jsxs)("div",je({className:ye.tableRow},{children:[!h&&(0,a.jsx)(_e.X,{className:ye.checkbox,id:"checkbox-standard-curriculum-all"}),(0,a.jsx)("div",je({className:(0,i.A)(ye.tableCell,{},[ye.tableCellId])},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"ID"}))})),(0,a.jsx)("div",je({className:ye.tableCell},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Специальность"}))})),(0,a.jsx)("div",je({className:ye.tableCell},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Сортировка"}))})),(0,a.jsx)("div",je({className:ye.tableCell},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS,weight:o.fs.SEMIBOLD},{children:"Дата приказа"}))})),(0,a.jsx)("div",{className:(0,i.A)(ye.tableCell,{},[ye.tableCellBtnsWrapper])})]}))})),(0,a.jsx)("div",je({className:ye.tableBody},{children:null==f?void 0:f.map((function(e){return(0,a.jsxs)("div",je({className:ye.tableRow},{children:[!h&&(0,a.jsx)(_e.X,{className:ye.checkbox,id:"checkbox-standard-curriculum-".concat(e.standard_curriculum_id)}),(0,a.jsx)("div",je({className:(0,i.A)(ye.tableCell,{},[ye.tableCellId])},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS},{children:e.standard_curriculum_id}))})),(0,a.jsx)("div",je({className:ye.tableCell},{children:(0,a.jsxs)(o.xv,je({size:o.yH.XS},{children:[e.specialty.shifr_spec," ","-"," ",e.specialty.speciality]}))})),(0,a.jsx)("div",je({className:ye.tableCell},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS},{children:e.sort}))})),(0,a.jsx)("div",je({className:ye.tableCell},{children:(0,a.jsx)(o.xv,je({size:o.yH.XS},{children:e.date_of_order?(0,me.default)(new Date(e.date_of_order),"dd.MM.yyyy"):""}))})),(0,a.jsxs)("div",je({className:(0,i.A)(ye.tableCell,{},[ye.tableCellBtns])},{children:[(0,a.jsx)(s.zx,je({theme:s.bn.CLEAR,title:"Редактировать",className:ye.editBtn,onClick:function(){S(e.standard_curriculum_id)}},{children:(0,a.jsx)(ve.J,{Svg:pe.Z})})),(0,a.jsx)(s.zx,je({theme:s.bn.CLEAR,title:"Удалить",className:ye.editBtn,onClick:function(){N(e)}},{children:(0,a.jsx)(ve.J,{Svg:be.Z})}))]}))]}),e.standard_curriculum_id)}))}))]})):(0,a.jsx)(o.xv,{children:"Ничего не найдено..."});var M=((n={})[ye.error]=!!v,n);return(0,a.jsxs)("div",je({className:(0,i.A)(ye.TableBlock,M,[d])},{children:[l,(0,a.jsx)(he.Dh,{standardCurriculum:y,visible:j,setVisible:w})]}))},Ne=function(e){var t;return null===(t=e.standardCurriculum)||void 0===t?void 0:t.data},Se=(0,de.oM)({name:"standardCurriculum",initialState:{data:void 0,isLoading:!0,error:void 0,page:"1",limit:"50"},reducers:{setPage:function(e,t){e.page=t.payload},setLimit:function(e,t){e.limit=t.payload}},extraReducers:function(e){e.addCase(fe.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(fe.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload.sort((function(e,t){return e.sort-t.sort}))})).addCase(fe.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),Me=(Se.actions,Se.reducer)},5781:(e,t,n)=>{n.d(t,{J:()=>i});var a=n(7168),i=(0,a.hg)("standardCurriculum/calculateQualificationTrainingTime",(function(e,t){return n=void 0,a=void 0,r=function(){var n,a;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(i){switch(i.label){case 0:n=t.rejectWithValue,a=t.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.api.post("/curriculum/standard-curricula/qualifications/training-time",e)];case 2:return[2,i.sent().data];case 3:return i.sent(),[2,n("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}));var n,a,i,r}))},321:(e,t,n)=>{n.d(t,{yT:()=>P,rj:()=>j,TB:()=>r,DL:()=>l,yx:()=>u,oE:()=>w,JS:()=>s.J,nB:()=>h,bT:()=>f,_M:()=>c,kc:()=>_,ft:()=>m,z$:()=>d});var a=n(7168),i=n(146),r=(0,a.hg)("standardCurriculum/editStandardCurriculumQualifications",(function(e,t){var n,a,r,l,o=e[0],u=e[1],c=e[2];return n=void 0,a=void 0,l=function(){var e,n,a;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(r){switch(r.label){case 0:e=t.rejectWithValue,n=t.extra,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.api.post("/curriculum/standard-curricula/".concat(o,"/modules/").concat(u,"/units/"),(0,i.Q)(c,["standard_curriculum_module_id"]))];case 2:return[2,r.sent().data];case 3:return a=r.sent(),[2,e({errors:a.response.data.errors,status:a.response.status})];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{u(l.next(e))}catch(e){t(e)}}function o(e){try{u(l.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,o)}u((l=l.apply(n,a||[])).next())}))})),l=(0,a.hg)("standardCurriculum/editStandardCurriculumModules",(function(e,t){var n,a,l,o,u=e[0],c=e[1];return n=void 0,a=void 0,o=function(){var e,n,a,l,o;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(s){switch(s.label){case 0:e=t.rejectWithValue,n=t.extra,a=t.dispatch,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.api.post("/curriculum/standard-curricula/".concat(u,"/modules/"),(0,i.Q)(c,["units","standard_curriculum_module_id"]))];case 2:return l=s.sent(),function(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}([],c.units.filter((function(e){return null===e.standard_curriculum_module_id})),!0).forEach((function(e){a(r([u,l.data.standard_curriculum_module_id,e]))})),[2,l.data];case 3:return o=s.sent(),[2,e({errors:o.response.data.errors,status:o.response.status})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{u(o.next(e))}catch(e){t(e)}}function r(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,r)}u((o=o.apply(n,a||[])).next())}))})),o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},u=(0,a.hg)("standardCurriculum/editStandardCurriculumQualifications",(function(e,t){var n,a,r,u,c=e[0],s=e[1];return n=void 0,a=void 0,u=function(){var e,n,a,r,u;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(d){switch(d.label){case 0:e=t.rejectWithValue,n=t.extra,a=t.dispatch,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.api.post("/curriculum/standard-curricula/".concat(c,"/qualifications/"),(0,i.Q)(s,["modules","total","standard_curriculum_qualification_id"]))];case 2:return r=d.sent(),s.modules.filter((function(e){return null===e.standard_curriculum_module_id})).forEach((function(e){a(l([c,o(o({},e),{standard_curriculum_id:c,standard_curriculum_qualification_id:r.data.standard_curriculum_qualification_id})]))})),[2,r.data];case 3:return u=d.sent(),[2,e({errors:u.response.data.errors,status:u.response.status})];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function l(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}o((u=u.apply(n,a||[])).next())}))})),c=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.editQualificationModalData},s=n(5781),d=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.newQualificationModalData},f=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.editModuleUnitModalData},h=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.editModuleModalData},m=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.newUnitModalData},_=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.newModuleModalData},v=function(e){var t;return null===(t=e.addStandardCurriculum)||void 0===t?void 0:t.data},p=(0,a.hg)("standardCurriculum/editStandardCurriculum",(function(e,t){return n=void 0,a=void 0,r=function(){var e,n,a,i,r,l;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(o){switch(o.label){case 0:e=t.rejectWithValue,n=t.extra,a=t.getState,i=null===(l=v(a()))||void 0===l?void 0:l.general_info,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.api.post("/curriculum/standard-curricula/",i)];case 2:return[2,o.sent().data];case 3:return r=o.sent(),[2,e({errors:r.response.data.errors,status:r.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}));var n,a,i,r})),b=function(){return b=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},b.apply(this,arguments)},y=function(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},x={data:{general_info:{date_of_order:null,sort:100,speciality_id:null},structure:{general_modules:[],qualifications:[]}},newModuleModalData:{standard_curriculum_module_id:null,educational_module_id:null,sort:100,has_in_basic_education:!0,has_in_general_education:!1,standard_curriculum_id:null,standard_curriculum_qualification_id:null,units:[]},newUnitModalData:{standard_curriculum_module_id:null,educational_modules_unit_id:null,sort:100,has_in_basic_education:!0,has_in_general_education:!1},newQualificationModalData:{standard_curriculum_qualification_id:null,consultations_hours_per_academic_year:null,sort:100,qualification_id:null,compulsory_education_basic_credits_from:null,compulsory_education_basic_credits_to:null,compulsory_education_general_credits_from:null,compulsory_education_general_credits_to:null,modules:[],extracurricular_activities_hours_per_week:null,total:{basicEducationFrom:{hours:null,credits:null},basicEducationTo:{hours:null,credits:null},generalEducationFrom:{hours:null,credits:null},generalEducationTo:{hours:null,credits:null}}},editModuleModalData:{data:void 0,newFields:void 0},editModuleUnitModalData:{data:void 0,newFields:void 0},editQualificationModalData:{data:void 0,newFields:void 0},isLoading:!1,errors:void 0,isLoadingQualificationTrainingTime:!1,errorQualificationTrainingTime:void 0},g=(0,a.oM)({name:"addStandardCurriculum",initialState:x,reducers:{setSpecialityId:function(e,t){e.data.general_info.speciality_id=t.payload,e.data.structure.qualifications=x.data.structure.qualifications},setSort:function(e,t){e.data.general_info.sort=t.payload},setDate:function(e,t){e.data.general_info.date_of_order=t.payload},changeNewModuleField:function(e,t){e.newModuleModalData[t.payload[1]]=Number(t.payload[0])},changeNewModuleCheck:function(e,t){e.newModuleModalData[t.payload[1]]=t.payload[0]},clearNewModuleData:function(e){e.newModuleModalData=x.newModuleModalData},saveEditModuleChangesGeneralModules:function(e,t){e.data.structure.general_modules=y(y([],e.data.structure.general_modules.filter((function(e){return e.educational_module_id!==t.payload[0]})),!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))},saveEditModuleChangesQualificationsStructure:function(e,t){e.data.structure.qualifications=e.data.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?b(b({},e),{modules:y(y([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[t.payload[2]],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},changeEditModuleField:function(e,t){e.editModuleModalData.newFields[t.payload[1]]=Number(t.payload[0])},changeEditModuleCheck:function(e,t){e.editModuleModalData.newFields[t.payload[1]]=t.payload[0]},setEditModuleItem:function(e,t){e.editModuleModalData.data=t.payload,e.editModuleModalData.newFields=t.payload},changeNewUnitField:function(e,t){e.newUnitModalData[t.payload[1]]=Number(t.payload[0])},changeNewUnitCheck:function(e,t){e.newUnitModalData[t.payload[1]]=t.payload[0]},clearNewUnitData:function(e){e.newUnitModalData=x.newUnitModalData},saveEditUnitChangesGeneralModules:function(e,t){e.data.structure.general_modules=e.data.structure.general_modules.map((function(e){return e.educational_module_id===t.payload[0]?b(b({},e),{units:y(y([],e.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[1]})),!0),[t.payload[2]],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},saveEditUnitChangesQualificationsStructure:function(e,t){var n=y([],e.data.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0].modules.filter((function(e){return e.educational_module_id===t.payload[1]}))[0];n.units=y(y([],n.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[2]})),!0),[t.payload[3]],!1).sort((function(e,t){return e.sort-t.sort})),e.data.structure.qualifications=e.data.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?b(b({},e),{modules:y(y([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[n],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},changeEditUnitField:function(e,t){e.editModuleUnitModalData.newFields[t.payload[1]]=Number(t.payload[0])},changeEditUnitCheck:function(e,t){e.editModuleUnitModalData.newFields[t.payload[1]]=t.payload[0]},setEditUnitItem:function(e,t){e.editModuleUnitModalData.data=t.payload,e.editModuleUnitModalData.newFields=t.payload},changeNewQualificationField:function(e,t){e.newQualificationModalData[t.payload[1]]=Number(t.payload[0])},clearNewQualificationData:function(e){e.newQualificationModalData=x.newQualificationModalData},saveEditQualificationChanges:function(e,t){e.data.structure.qualifications=y(y([],e.data.structure.qualifications.filter((function(e){return e.qualification_id!==t.payload[0]})),!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))},changeEditQualificationField:function(e,t){e.editQualificationModalData.newFields[t.payload[1]]=Number(t.payload[0])},setEditQualificationItem:function(e,t){e.editQualificationModalData.data=t.payload,e.editQualificationModalData.newFields=t.payload},addModuleToGeneralModules:function(e,t){e.data.structure.general_modules.push(t.payload),e.data.structure.general_modules=y([],e.data.structure.general_modules.sort((function(e,t){return e.sort-t.sort})),!0)},deleteModuleFromGeneralModules:function(e,t){var n=e.data.structure.general_modules.filter((function(e){return e.educational_module_id!==t.payload}));e.data.structure.general_modules=y([],n,!0).sort((function(e,t){return e.sort-t.sort}))},addUnitToGeneralModulesModule:function(e,t){e.data.structure.general_modules=e.data.structure.general_modules.map((function(e){return e.educational_module_id===t.payload[0]?b(b({},e),{units:y(y([],e.units,!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},deleteUnitFromGeneralModulesModule:function(e,t){e.data.structure.general_modules=e.data.structure.general_modules.map((function(e){return e.educational_module_id===t.payload[0]?b(b({},e),{units:y([],e.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[1]})),!0)}):b({},e)}))},addQualificationToStructure:function(e,t){e.data.structure.qualifications.push(t.payload),e.data.structure.qualifications=e.data.structure.qualifications.sort((function(e,t){return e.sort-t.sort}))},addTrainingTimeToQualification:function(e,t){var n=y([],e.data.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0];n.total=t.payload[1],e.data.structure.qualifications=y(y([],e.data.structure.qualifications.filter((function(e){return e.qualification_id!==t.payload[0]})),!0),[n],!1).sort((function(e,t){return e.sort-t.sort}))},deleteQualificationFromStructure:function(e,t){var n=e.data.structure.qualifications.filter((function(e){return e.qualification_id!==t.payload}));e.data.structure.qualifications=y([],n,!0)},addModuleToQualificationStructure:function(e,t){e.data.structure.qualifications=e.data.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?b(b({},e),{modules:y(y([],e.modules,!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},deleteModuleFromQualificationStructure:function(e,t){e.data.structure.qualifications=e.data.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?b(b({},e),{modules:y([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0)}):b({},e)}))},addUnitToQualificationModuleStructure:function(e,t){var n=y([],e.data.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0],a=y([],n.modules.filter((function(e){return e.educational_module_id===t.payload[1]})),!0)[0];a.units.push(t.payload[2]),a.units.sort((function(e,t){return e.sort-t.sort})),e.data.structure.qualifications=e.data.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?b(b({},e),{modules:y(y([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[a],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},deleteUnitFromQualificationModuleStructure:function(e,t){var n=y([],e.data.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0].modules.filter((function(e){return e.educational_module_id===t.payload[1]}))[0];n.units=n.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[2]})).sort((function(e,t){return e.sort-t.sort})),e.data.structure.qualifications=e.data.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?b(b({},e),{modules:y(y([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[n],!1).sort((function(e,t){return e.sort-t.sort}))}):b({},e)}))},clearData:function(e){e.data=x.data,e.errors=void 0}},extraReducers:function(e){e.addCase(p.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(p.fulfilled,(function(e){e.isLoading=!1})).addCase(p.rejected,(function(e,t){e.isLoading=!1,e.errors=t.payload})).addCase(s.J.pending,(function(e){e.errorQualificationTrainingTime=void 0,e.isLoadingQualificationTrainingTime=!0})).addCase(s.J.fulfilled,(function(e){e.isLoadingQualificationTrainingTime=!1})).addCase(s.J.rejected,(function(e,t){e.isLoadingQualificationTrainingTime=!1,e.errorQualificationTrainingTime=t.payload}))}}),j=g.actions,w=g.reducer,N=n(5893),S=n(4387),M=n(1134),F=n(6458),k=n(6959),C=n(1138),q=n(7294),E=n(4809),D=n(5461),A=n(9546),I=n(4475),T=n(1817),B=n(7882),O=n(6648),z=n(530),Q=n(9250),U=n(9086),H=n(9161),L=n(4302);const V={AddStandardCurriculum:"CHTeDmvb",top:"s54dcJTi",blockItem:"boIzBe8i",bottom:"RCE8t2JI",btnWrapper:"edgiTOY9",btn:"YwnLJjFs",deleteBtn:"FI6Djm2Q"};var R=function(){return R=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},G=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function l(e){try{u(a.next(e))}catch(e){r(e)}}function o(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}u((a=a.apply(e,t||[])).next())}))},X=function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},P=function(e){var t,n,a=e.className,i=(0,D.T)(),r=(0,Q.s0)(),o=(0,q.useState)(!1),c=o[0],s=o[1],d=(0,q.useState)(!1),f=d[0],h=d[1],m=(0,q.useState)(),_=m[0],b=m[1],y=(0,q.useRef)(null),x=(0,q.useState)(!1),g=x[0],w=x[1],P=(0,q.useState)(!1),W=P[0],J=P[1],Y=(0,q.useState)(!1),Z=Y[0],K=Y[1],$=(0,q.useState)(!1),ee=$[0],te=$[1],ne=(0,q.useState)(!1),ae=ne[0],ie=ne[1],re=(0,q.useState)(!1),le=re[0],oe=re[1],ue=(0,q.useState)(!1),ce=ue[0],se=ue[1],de=(0,q.useState)(!1),fe=de[0],he=de[1],me=(0,q.useState)(0),_e=me[0],ve=me[1],pe=(0,q.useState)(0),be=pe[0],ye=pe[1],xe=(0,q.useState)(0),ge=xe[0],je=xe[1],we=(0,q.useState)("general_modules"),Ne=we[0],Se=we[1],Me=(0,F.v9)(v),Fe=(0,F.v9)(k.K2),ke=(0,F.v9)(k.LD),Ce=(0,F.v9)(k.qA),qe=(0,F.v9)(B.Aq),Ee=(0,F.v9)(B.kp),De=(0,F.v9)(O.yl),Ae=(0,F.v9)(O.sE),Ie=(0,F.v9)(T.BH),Te=(0,F.v9)(T.ah),Be=(0,F.v9)(T.cH),Oe=(0,F.v9)(T.GM),ze=(0,q.useCallback)((function(e){i(j.deleteModuleFromGeneralModules(e))}),[i]),Qe=(0,q.useCallback)((function(e,t){i(j.deleteModuleFromQualificationStructure([e,t]))}),[i]),Ue=(0,q.useCallback)((function(e,t){i(j.deleteUnitFromGeneralModulesModule([e,t]))}),[i]),He=(0,q.useCallback)((function(e,t,n){i(j.deleteUnitFromQualificationModuleStructure([e,t,n]))}),[i]),Le=(0,q.useCallback)((function(e){i(j.deleteQualificationFromStructure(e))}),[i]),Ve=(0,q.useCallback)((function(){he(!0)}),[]);function Re(){return G(this,void 0,void 0,(function(){var e;return X(this,(function(t){switch(t.label){case 0:return[4,i(p())];case 1:return"rejected"===(e=t.sent()).meta.requestStatus&&h(!0),[2,e.payload]}}))}))}function Ge(e){return G(this,void 0,void 0,(function(){var t;return X(this,(function(n){switch(n.label){case 0:return t=Me.structure.qualifications.map((function(t){return i(u([e.standard_curriculum_id,t])).then((function(e){return e.meta.requestStatus})).catch((function(e){return b(z.F.success(e.message))}))})),[4,Promise.all(t)];case 1:return[2,n.sent()]}}))}))}function Xe(e){return G(this,void 0,void 0,(function(){var t;return X(this,(function(n){switch(n.label){case 0:return t=Me.structure.general_modules.map((function(t){return i(l([e.standard_curriculum_id,R(R({},t),{standard_curriculum_id:e.standard_curriculum_id})])).then((function(e){return e.meta.requestStatus})).catch((function(e){return b(z.F.success(e.message))}))})),[4,Promise.all(t)];case 1:return[2,n.sent()]}}))}))}return t=ke?(0,N.jsx)(C.O,{width:"50%",height:"350px",border:"4px",className:V.blockItem}):Ce?(0,N.jsx)(E.xv,R({theme:E.lg.ERROR,size:E.yH.M,weight:E.fs.SEMIBOLD,className:V.blockItem},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,N.jsx)(M.Tg,{className:V.blockItem,searchSelectActiveValue:Me&&Fe&&Me.general_info.speciality_id?Fe.data.filter((function(e){return e.id_spec===(null==Me?void 0:Me.general_info.speciality_id)}))[0].speciality:"null",onChangeSearchSelect:function(e,t){var n=Fe.data.filter((function(t){return t.speciality===e}))[0];i(j.setSpecialityId(n.id_spec))},sortValue:String(null==Me?void 0:Me.general_info.sort)||"",onChangeSort:function(e){i(j.setSort(Number(e.target.value)))},dateValue:Me&&Me.general_info.date_of_order?new Date(null==Me?void 0:Me.general_info.date_of_order):null,onChangeDate:function(e){i(j.setDate(e?(0,A.default)(new Date(e),"yyyy-MM-dd"):null))}}),n=qe?(0,N.jsx)(C.O,{width:"50%",height:"350px",border:"4px",className:V.blockItem}):Ee?(0,N.jsx)(E.xv,R({theme:E.lg.ERROR,size:E.yH.M,weight:E.fs.SEMIBOLD,className:V.blockItem},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,N.jsx)(M.fu,{className:V.blockItem,data:Me}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(I.lx,R({className:(0,S.A)(V.AddStandardCurriculum,{},[a]),noValidate:!0,validated:c,onSubmit:function(e){return G(void 0,void 0,void 0,(function(){var t,n,a,l,o,u;return X(this,(function(c){switch(c.label){case 0:return e.preventDefault(),t=e.currentTarget,h(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),s(!0),w(!0),t.checkValidity()?(null==Me?void 0:Me.general_info.speciality_id)&&Me.general_info.sort&&(null==Me?void 0:Me.structure.general_modules.length)&&Me.structure.qualifications.length?[4,Re()]:[3,4]:[3,5];case 1:return[4,Ge(n=c.sent())];case 2:return a=c.sent(),[4,Xe(n)];case 3:return l=c.sent(),o=a.filter((function(e){return"rejected"===e})),u=l.filter((function(e){return"rejected"===e})),o.length||u.length?(b(z.F.error("ТУП создан некорректно, присутствуют неверные поля, попробуйте заново")),i((0,L.EE)(String(n.standard_curriculum_id))),h(!0),w(!1),[2]):(i(j.clearData()),b(z.F.success("Типовой учебный план успешно добавлен")),r((0,U.P6)()),i((0,M.ko)()),w(!1),[3,5]);case 4:b(z.F.error("Необходимо заполнить все поля")),h(!0),w(!1),c.label=5;case 5:return[2]}}))}))}},{children:[(0,N.jsxs)("div",R({className:(0,S.A)(V.blockWrapper,{},[V.top])},{children:[t,n]})),(0,N.jsx)("div",R({className:(0,S.A)(V.blockWrapper,{},[V.middle])},{children:(0,N.jsx)(M.bK,{className:V.blockItem,setAddModuleModalVisible:J,setAddModuleUnitModalVisible:K,setAddQualificationModalVisible:te,setEditModuleModalVisible:ie,setEditModuleUnitModalVisible:oe,setEditQualificationModalVisible:se,onDeleteModuleFromGeneralModulesHandler:ze,onDeleteModuleFromQualificationStructureHandler:Qe,onDeleteModuleUnitFromGeneralModulesHandler:Ue,onDeleteModuleUnitFromQualificationStructureHandler:He,onDeleteQualificationFromStructureHandler:Le,data:Me,setModuleId:ve,setUnitId:ye,setQualId:je,setCurriculumStructureMode:Se,isLoading:Ie||Be||ke||qe||De,error:Te||Oe||Ce||Ee||Ae})})),(0,N.jsx)("div",R({className:(0,S.A)(V.blockWrapper,{},[V.bottom])},{children:(0,N.jsxs)("div",R({className:V.blockItem},{children:[(0,N.jsx)("div",R({className:V.btnWrapper},{children:f&&(0,N.jsx)(E.xv,R({size:E.yH.M,weight:E.fs.SEMIBOLD,theme:E.lg.ERROR},{children:"Форма заполнена некорректно"}))})),(0,N.jsxs)("div",R({className:V.btnWrapper},{children:[(0,N.jsx)(H.zx,R({className:V.btn,theme:H.bn.OUTLINE,onClick:Ve},{children:(0,N.jsx)(E.xv,R({weight:E.fs.SEMIBOLD},{children:"Назад к списку"}))})),(0,N.jsx)(H.zx,R({className:V.btn,type:"submit",disabled:g},{children:(0,N.jsx)(E.xv,R({weight:E.fs.SEMIBOLD},{children:"Сохранить"}))}))]}))]}))}))]})),(0,N.jsx)(I.KF,{ref:y,push:_,placement:"top-end"}),(0,N.jsx)(M.g1,{visible:W,setVisible:J,data:Me,mode:"add",structureMode:Ne,qualId:ge}),(0,N.jsx)(M.u4,{visible:Z,setVisible:K,data:Me,moduleId:_e,mode:"add",structureMode:Ne,qualId:ge}),(0,N.jsx)(M.xO,{visible:ee,setVisible:te,data:Me,mode:"add"}),(0,N.jsx)(M.yb,{visible:ae,setVisible:ie,data:Me,moduleId:_e,qualId:ge,mode:"add",structureMode:Ne}),(0,N.jsx)(M.$i,{visible:le,setVisible:oe,data:Me,qualId:ge,moduleId:_e,unitId:be,mode:"add",structureMode:Ne}),(0,N.jsx)(M.V3,{visible:ce,setVisible:se,data:Me,mode:"add",qualId:ge}),(0,N.jsx)(M.cM,{visible:fe,setVisible:he})]})}},4302:(e,t,n)=>{n.d(t,{Dh:()=>w,EE:()=>g,s0:()=>r,UL:()=>i,Ak:()=>l});var a=n(7168),i=(0,a.hg)("standardCurriculum/deleteStandardCurriculumModules",(function(e,t){var n,a,i,r,l=e[0],o=e[1];return n=void 0,a=void 0,r=function(){var e,n;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(a){switch(a.label){case 0:e=t.rejectWithValue,n=t.extra,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.api.delete("/curriculum/standard-curricula/".concat(l,"/modules/").concat(o))];case 2:return[2,a.sent().data];case 3:return"Failed to fetch"===a.sent().message?[2,e("timeout")]:[2,e("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}))})),r=(0,a.hg)("standardCurriculum/deleteStandardCurriculumModuleUnit",(function(e,t){var n,a,i,r,l=e[0],o=e[1],u=e[2];return n=void 0,a=void 0,r=function(){var e,n;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(a){switch(a.label){case 0:e=t.rejectWithValue,n=t.extra,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.api.delete("/curriculum/standard-curricula/".concat(l,"/modules/").concat(o,"/units/").concat(u))];case 2:return[2,a.sent().data];case 3:return"Failed to fetch"===a.sent().message?[2,e("timeout")]:[2,e("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}))})),l=(0,a.hg)("standardCurriculum/deleteStandardCurriculumQualification",(function(e,t){var n,a,i,r,l=e[0],o=e[1];return n=void 0,a=void 0,r=function(){var e,n;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(a){switch(a.label){case 0:e=t.rejectWithValue,n=t.extra,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.api.delete("/curriculum/standard-curricula/".concat(l,"/qualifications/").concat(o))];case 2:return[2,a.sent().data];case 3:return"Failed to fetch"===a.sent().message?[2,e("timeout")]:[2,e("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}))})),o=n(5893),u=n(4387),c=n(4475),s=n(2308),d=n(1783),f=n(7294),h=n(4809),m=n(5461),_=n(530),v=n(9250),p=n(9086),b=n(9161);const y={footerBtn:"mmHlEWEG",redBtn:"MTGBurs2",deleteText:"onzb9j1j"};var x=n(1134),g=(0,a.hg)("standardCurriculum/deleteStandardCurriculum",(function(e,t){return n=void 0,a=void 0,r=function(){var n,a,i,r;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(l){switch(l.label){case 0:n=t.rejectWithValue,a=t.extra,i=t.dispatch,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,a.api.delete("/curriculum/standard-curricula/".concat(e))];case 2:return r=l.sent(),i((0,x.ko)()),[2,r.data];case 3:return"Failed to fetch"===l.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}));var n,a,i,r})),j=function(){return j=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},w=function(e){var t=e.className,n=e.standardCurriculum,a=e.visible,i=e.setVisible,r=e.withReturnBack,l=(0,m.T)(),x=(0,f.useState)(),w=x[0],N=x[1],S=(0,f.useRef)(null),M=(0,f.useState)(!1),F=M[0],k=M[1],C=(0,v.s0)(),q=function(){i(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.Tk,j({className:(0,u.A)(y.DeleteStandardCurriculum,{},[t]),visible:a,onClose:q,size:"lg",alignment:"center"},{children:[(0,o.jsx)(c.p0,{children:(0,o.jsxs)(c.fl,{children:["Удаление ТУП №",null==n?void 0:n.standard_curriculum_id]})}),(0,o.jsx)(c.sD,{children:(0,o.jsxs)(h.xv,j({size:h.yH.XM,className:y.deleteText},{children:["Вы действительно хотите удалить типовой учебный план"," ",(0,o.jsxs)("span",{children:["№",null==n?void 0:n.standard_curriculum_id]})," ","и все связанные с ним данные?"]}))}),(0,o.jsx)(c.Ym,j({className:y.footer},{children:(0,o.jsxs)("div",j({className:y.footerBtns},{children:[(0,o.jsx)(b.zx,j({theme:b.bn.OUTLINE,className:y.footerBtn,onClick:q},{children:(0,o.jsx)(h.xv,j({size:h.yH.XS,weight:h.fs.SEMIBOLD},{children:"Отмена"}))})),(0,o.jsxs)(b.zx,j({theme:b.bn.ERROR,className:(0,u.A)(y.footerBtn,{},[y.redBtn]),onClick:function(){var e;e=n.standard_curriculum_id.toString(),k(!0),l(g(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(N(_.F.success("ТУП №".concat(null==n?void 0:n.standard_curriculum_id," удален"))),q(),k(!1),r&&C((0,p.P6)())):"rejected"===e.meta.requestStatus&&(N(_.F.error("Произошла ошибка при удалении, попробуйте снова")),k(!1))}))},disabled:F},{children:[(0,o.jsx)(h.xv,j({size:h.yH.XS,weight:h.fs.SEMIBOLD},{children:"Удалить"})),(0,o.jsx)(s.Z,{icon:d.N,className:y.btnIcon})]}))]}))}))]})),(0,o.jsx)(c.KF,{ref:S,push:w,placement:"top-end"})]})}},4562:(e,t,n)=>{n.d(t,{m6:()=>te,ap:()=>p,u4:()=>b,Kc:()=>l,xJ:()=>r,nq:()=>a,d7:()=>u,Ol:()=>o,xi:()=>i});var a=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.editQualificationModalData},i=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.newQualificationModalData},r=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.editModuleUnitModalData},l=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.editModuleModalData},o=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.newUnitModalData},u=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.newModuleModalData},c=n(7168),s=n(5781),d=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.newFields},f=(0,c.hg)("standardCurriculum/editStandardCurriculum",(function(e,t){return n=void 0,a=void 0,r=function(){var n,a,i,r,l,o;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(u){switch(u.label){case 0:n=t.rejectWithValue,a=t.extra,i=t.getState,r=null===(o=d(i()))||void 0===o?void 0:o.general_info,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.api.put("/curriculum/standard-curricula/".concat(e),r)];case 2:return[2,u.sent().data];case 3:return l=u.sent(),[2,n({errors:l.response.data.errors,status:l.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}));var n,a,i,r})),h=function(){return h=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},m=function(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},_={data:{general_info:{date_of_order:null,sort:100,speciality_id:null},structure:{general_modules:[],qualifications:[]}},newFields:void 0,newModuleModalData:{standard_curriculum_module_id:null,educational_module_id:null,sort:100,has_in_basic_education:!0,has_in_general_education:!1,standard_curriculum_id:null,standard_curriculum_qualification_id:null,units:[]},newUnitModalData:{standard_curriculum_module_id:null,educational_modules_unit_id:null,sort:100,has_in_basic_education:!0,has_in_general_education:!1},newQualificationModalData:{standard_curriculum_qualification_id:null,consultations_hours_per_academic_year:null,sort:100,qualification_id:null,compulsory_education_basic_credits_from:null,compulsory_education_basic_credits_to:null,compulsory_education_general_credits_from:null,compulsory_education_general_credits_to:null,modules:[],extracurricular_activities_hours_per_week:null,total:{basicEducationFrom:{hours:null,credits:null},basicEducationTo:{hours:null,credits:null},generalEducationFrom:{hours:null,credits:null},generalEducationTo:{hours:null,credits:null}}},editModuleModalData:{data:void 0,newFields:void 0},editModuleUnitModalData:{data:void 0,newFields:void 0},editQualificationModalData:{data:void 0,newFields:void 0},modulesToDelete:[],moduleUnitsToDelete:[],qualificationsToDelete:[],isLoading:!1,errors:void 0,isLoadingQualificationTrainingTime:!1,errorQualificationTrainingTime:void 0},v=(0,c.oM)({name:"editStandardCurriculum",initialState:_,reducers:{setSpecialityId:function(e,t){e[t.payload[0]].general_info.speciality_id=t.payload[1],"newFields"===t.payload[0]&&e.newFields.structure.qualifications.forEach((function(t){t.standard_curriculum_qualification_id&&e.qualificationsToDelete.push(t)})),e[t.payload[0]].structure.qualifications=_.data.structure.qualifications},setSort:function(e,t){e[t.payload[0]].general_info.sort=t.payload[1]},setDate:function(e,t){e[t.payload[0]].general_info.date_of_order=t.payload[1]},changeNewModuleField:function(e,t){e.newModuleModalData[t.payload[1]]=Number(t.payload[0])},changeNewModuleCheck:function(e,t){e.newModuleModalData[t.payload[1]]=t.payload[0]},clearNewModuleData:function(e){e.newModuleModalData=_.newModuleModalData},saveEditModuleChangesGeneralModules:function(e,t){e.newFields.structure.general_modules=m(m([],e.newFields.structure.general_modules.filter((function(e){return e.educational_module_id!==t.payload[0]})),!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))},saveEditModuleChangesQualificationsStructure:function(e,t){e.newFields.structure.qualifications=e.newFields.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?h(h({},e),{modules:m(m([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[t.payload[2]],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},changeEditModuleField:function(e,t){e.editModuleModalData.newFields[t.payload[1]]=Number(t.payload[0])},changeEditModuleCheck:function(e,t){e.editModuleModalData.newFields[t.payload[1]]=t.payload[0]},setEditModuleItem:function(e,t){e.editModuleModalData.data=t.payload,e.editModuleModalData.newFields=t.payload},changeNewUnitField:function(e,t){e.newUnitModalData[t.payload[1]]=Number(t.payload[0])},changeNewUnitCheck:function(e,t){e.newUnitModalData[t.payload[1]]=t.payload[0]},clearNewUnitData:function(e){e.newUnitModalData=_.newUnitModalData},saveEditUnitChangesGeneralModules:function(e,t){e.newFields.structure.general_modules=e.newFields.structure.general_modules.map((function(e){return e.educational_module_id===t.payload[0]?h(h({},e),{units:m(m([],e.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[1]})),!0),[t.payload[2]],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},saveEditUnitChangesQualificationsStructure:function(e,t){var n=m([],e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0].modules.filter((function(e){return e.educational_module_id===t.payload[1]}))[0];n.units=m(m([],n.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[2]})),!0),[t.payload[3]],!1).sort((function(e,t){return e.sort-t.sort})),e.newFields.structure.qualifications=e.newFields.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?h(h({},e),{modules:m(m([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[n],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},changeEditUnitField:function(e,t){e.editModuleUnitModalData.newFields[t.payload[1]]=Number(t.payload[0])},changeEditUnitCheck:function(e,t){e.editModuleUnitModalData.newFields[t.payload[1]]=t.payload[0]},setEditUnitItem:function(e,t){e.editModuleUnitModalData.data=t.payload,e.editModuleUnitModalData.newFields=t.payload},changeNewQualificationField:function(e,t){e.newQualificationModalData[t.payload[1]]=Number(t.payload[0])},clearNewQualificationData:function(e){e.newQualificationModalData=_.newQualificationModalData},saveEditQualificationChanges:function(e,t){e.newFields.structure.qualifications=m(m([],e.newFields.structure.qualifications.filter((function(e){return e.qualification_id!==t.payload[0]})),!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))},changeEditQualificationField:function(e,t){e.editQualificationModalData.newFields[t.payload[1]]=Number(t.payload[0])},setEditQualificationItem:function(e,t){e.editQualificationModalData.data=t.payload,e.editQualificationModalData.newFields=t.payload},addModuleToGeneralModulesFromServer:function(e,t){e.data.structure.general_modules=t.payload.sort((function(e,t){return e.sort-t.sort}))},addModuleToGeneralModules:function(e,t){e.newFields.structure.general_modules.push(t.payload),e.newFields.structure.general_modules=m([],e.newFields.structure.general_modules.sort((function(e,t){return e.sort-t.sort})),!0)},deleteModuleFromGeneralModules:function(e,t){var n=e.newFields.structure.general_modules.filter((function(e){return e.educational_module_id!==t.payload})),a=e.newFields.structure.general_modules.filter((function(e){return e.educational_module_id===t.payload}))[0];a&&a.standard_curriculum_module_id&&e.modulesToDelete.push(a),e.newFields.structure.general_modules=m([],n,!0).sort((function(e,t){return e.sort-t.sort}))},addUnitToGeneralModulesModule:function(e,t){e.newFields.structure.general_modules=e.newFields.structure.general_modules.map((function(e){return e.educational_module_id===t.payload[0]?h(h({},e),{units:m(m([],e.units,!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},deleteUnitFromGeneralModulesModule:function(e,t){var n=e.newFields.structure.general_modules.filter((function(e){return e.educational_module_id===t.payload[0]}))[0].units.filter((function(e){return e.educational_modules_unit_id===t.payload[1]}))[0];n&&n.standard_curriculum_modules_unit_id&&e.moduleUnitsToDelete.push(n),e.newFields.structure.general_modules=e.newFields.structure.general_modules.map((function(e){return e.educational_module_id===t.payload[0]?h(h({},e),{units:m([],e.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[1]})),!0)}):h({},e)}))},addQualificationToStructureFromServer:function(e,t){e.data.structure.qualifications=t.payload.sort((function(e,t){return e.sort-t.sort}))},addQualificationToStructure:function(e,t){e.newFields.structure.qualifications.push(t.payload),e.newFields.structure.qualifications=e.newFields.structure.qualifications.sort((function(e,t){return e.sort-t.sort}))},addTrainingTimeToQualification:function(e,t){var n=m([],e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0];n.total=t.payload[1],e.newFields.structure.qualifications=m(m([],e.newFields.structure.qualifications.filter((function(e){return e.qualification_id!==t.payload[0]})),!0),[n],!1).sort((function(e,t){return e.sort-t.sort}))},deleteQualificationFromStructure:function(e,t){var n=e.newFields.structure.qualifications.filter((function(e){return e.qualification_id!==t.payload})),a=e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload}))[0];a&&a.standard_curriculum_qualification_id&&e.qualificationsToDelete.push(a),e.newFields.structure.qualifications=m([],n,!0)},addModuleToQualificationStructure:function(e,t){e.newFields.structure.qualifications=e.newFields.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?h(h({},e),{modules:m(m([],e.modules,!0),[t.payload[1]],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},deleteModuleFromQualificationStructure:function(e,t){var n=e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]}))[0].modules.filter((function(e){return e.educational_module_id===t.payload[1]}))[0];n&&n.standard_curriculum_module_id&&e.modulesToDelete.push(n),e.newFields.structure.qualifications=e.newFields.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?h(h({},e),{modules:m([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0)}):h({},e)}))},addUnitToQualificationModuleStructure:function(e,t){var n=m([],e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0],a=m([],n.modules.filter((function(e){return e.educational_module_id===t.payload[1]})),!0)[0];a.units.push(t.payload[2]),a.units.sort((function(e,t){return e.sort-t.sort})),e.newFields.structure.qualifications=e.newFields.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?h(h({},e),{modules:m(m([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[a],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},deleteUnitFromQualificationModuleStructure:function(e,t){var n=e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]}))[0].modules.filter((function(e){return e.educational_module_id===t.payload[1]}))[0].units.filter((function(e){return e.educational_modules_unit_id===t.payload[2]}))[0];n&&n.standard_curriculum_modules_unit_id&&e.moduleUnitsToDelete.push(n);var a=m([],e.newFields.structure.qualifications.filter((function(e){return e.qualification_id===t.payload[0]})),!0)[0].modules.filter((function(e){return e.educational_module_id===t.payload[1]}))[0];a.units=a.units.filter((function(e){return e.educational_modules_unit_id!==t.payload[2]})).sort((function(e,t){return e.sort-t.sort})),e.newFields.structure.qualifications=e.newFields.structure.qualifications.map((function(e){return e.qualification_id===t.payload[0]?h(h({},e),{modules:m(m([],e.modules.filter((function(e){return e.educational_module_id!==t.payload[1]})),!0),[a],!1).sort((function(e,t){return e.sort-t.sort}))}):h({},e)}))},setDataToChange:function(e){e.newFields=e.data},clearData:function(e){e.newFields=e.data,e.modulesToDelete=[],e.moduleUnitsToDelete=[],e.qualificationsToDelete=[],e.errors=void 0}},extraReducers:function(e){e.addCase(f.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(f.fulfilled,(function(e){e.isLoading=!1})).addCase(f.rejected,(function(e,t){e.isLoading=!1,e.errors=t.payload})).addCase(s.J.pending,(function(e){e.errorQualificationTrainingTime=void 0,e.isLoadingQualificationTrainingTime=!0})).addCase(s.J.fulfilled,(function(e){e.isLoadingQualificationTrainingTime=!1})).addCase(s.J.rejected,(function(e,t){e.isLoadingQualificationTrainingTime=!1,e.errorQualificationTrainingTime=t.payload}))}}),p=v.actions,b=v.reducer,y=n(5893),x=n(4387),g=n(1134),j=n(6458),w=n(6959),N=n(1138),S=n(7294),M=n(4809),F=n(5461),k=n(9546),C=n(4475),q=n(1817),E=n(7882),D=n(6648),A=n(530),I=n(9250),T=n(9086),B=n(622),O=n(6890),z=n(4302),Q=n(3009),U=n(146),H=n(321),L=n(9161),V=(0,c.hg)("standardCurriculum/editStandardCurriculumQualifications",(function(e,t){var n,a,i,r,l=e[0],o=e[1],u=e[2];return n=void 0,a=void 0,r=function(){var e,n,a;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(i){switch(i.label){case 0:e=t.rejectWithValue,n=t.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.put("/curriculum/standard-curricula/".concat(l,"/modules/").concat(o,"/units/").concat(u.standard_curriculum_modules_unit_id),(0,U.Q)(u,["standard_curriculum_module_id"]))];case 2:return[2,i.sent().data];case 3:return a=i.sent(),[2,e({errors:a.response.data.errors,status:a.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}))})),R=(0,c.hg)("standardCurriculum/editStandardCurriculumModules",(function(e,t){var n,a,i,r,l=e[0],o=e[1];return n=void 0,a=void 0,r=function(){var e,n,a,i,r;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(u){switch(u.label){case 0:e=t.rejectWithValue,n=t.extra,a=t.dispatch,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.api.put("/curriculum/standard-curricula/".concat(l,"/modules/").concat(o.standard_curriculum_module_id),(0,U.Q)(o,["units","standard_curriculum_module_id"]))];case 2:return i=u.sent(),o.units.forEach((function(e){a(V([l,o.standard_curriculum_module_id,e]))})),[2,i.data];case 3:return r=u.sent(),[2,e({errors:r.response.data.errors,status:r.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}))})),G=function(){return G=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},X=(0,c.hg)("standardCurriculum/editStandardCurriculumQualifications",(function(e,t){var n,a,i,r,l=e[0],o=e[1];return n=void 0,a=void 0,r=function(){var e,n,a,i,r;return function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(u){switch(u.label){case 0:e=t.rejectWithValue,n=t.extra,a=t.dispatch,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.api.put("/curriculum/standard-curricula/".concat(l,"/qualifications/").concat(o.standard_curriculum_qualification_id),(0,U.Q)(o,["modules","total","standard_curriculum_qualification_id"]))];case 2:return i=u.sent(),o.modules.forEach((function(e){a(R([l,G(G({},e),{standard_curriculum_id:l,standard_curriculum_qualification_id:o.standard_curriculum_qualification_id})]))})),[2,i.data];case 3:return r=u.sent(),[2,e({errors:r.response.data.errors,status:r.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{u(r.next(e))}catch(e){t(e)}}function o(e){try{u(r.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,o)}u((r=r.apply(n,a||[])).next())}))}));const P={EditStandardCurriculum:"t1uzmWEF",top:"RFtIU4u2",blockItem:"GD7zhwHJ",bottom:"TptZ9tMo",btnWrapper:"XZGrcafw",btn:"sCwtFVOf",deleteBtn:"xOsZaLTK"};var W=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.data},J=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.modulesToDelete},Y=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.moduleUnitsToDelete},Z=function(e){var t;return null===(t=e.editStandardCurriculum)||void 0===t?void 0:t.qualificationsToDelete},K=function(){return K=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},K.apply(this,arguments)},$=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function l(e){try{u(a.next(e))}catch(e){r(e)}}function o(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}u((a=a.apply(e,t||[])).next())}))},ee=function(e,t){var n,a,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(n=1,a&&(i=2&o[0]?a.return:o[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},te=function(e){var t,n,a=e.className,i=(0,F.T)(),r=(0,I.s0)(),l=(0,S.useState)(!1),o=l[0],u=l[1],c=(0,S.useState)(!1),s=c[0],h=c[1],m=(0,S.useState)(),_=m[0],v=m[1],b=(0,S.useRef)(null),V=(0,S.useState)(!1),G=V[0],te=V[1],ne=(0,I.TH)().pathname,ae=(0,S.useState)(!1),ie=ae[0],re=ae[1],le=(0,S.useState)(!1),oe=le[0],ue=le[1],ce=(0,S.useState)(!1),se=ce[0],de=ce[1],fe=(0,S.useState)(!1),he=fe[0],me=fe[1],_e=(0,S.useState)(!1),ve=_e[0],pe=_e[1],be=(0,S.useState)(!1),ye=be[0],xe=be[1],ge=(0,S.useState)(!1),je=ge[0],we=ge[1],Ne=(0,U.Q)((0,j.v9)(Q.qJ),["modules","qualifications"]),Se=(0,S.useState)(0),Me=Se[0],Fe=Se[1],ke=(0,S.useState)(0),Ce=ke[0],qe=ke[1],Ee=(0,S.useState)(0),De=Ee[0],Ae=Ee[1],Ie=ne.split("/"),Te=Ie[Ie.length-1],Be=(0,S.useState)("general_modules"),Oe=Be[0],ze=Be[1],Qe=(0,j.v9)(d),Ue=(0,j.v9)(W),He=(0,j.v9)(w.K2),Le=(0,j.v9)(w.LD),Ve=(0,j.v9)(w.qA),Re=(0,j.v9)(E.Aq),Ge=(0,j.v9)(E.kp),Xe=(0,j.v9)(D.yl),Pe=(0,j.v9)(D.sE),We=(0,j.v9)(q.BH),Je=(0,j.v9)(q.ah),Ye=(0,j.v9)(q.cH),Ze=(0,j.v9)(q.GM),Ke=(0,j.v9)(J),$e=(0,j.v9)(Y),et=(0,j.v9)(Z),tt=(0,S.useCallback)((function(e){i(p.deleteModuleFromGeneralModules(e))}),[i]),nt=(0,S.useCallback)((function(e,t){i(p.deleteModuleFromQualificationStructure([e,t]))}),[i]),at=(0,S.useCallback)((function(e,t){i(p.deleteUnitFromGeneralModulesModule([e,t]))}),[i]),it=(0,S.useCallback)((function(e,t,n){i(p.deleteUnitFromQualificationModuleStructure([e,t,n]))}),[i]),rt=(0,S.useCallback)((function(e){i(p.deleteQualificationFromStructure(e))}),[i]),lt=(0,S.useCallback)((function(){r((0,T.P6)())}),[r]),ot=(0,S.useCallback)((function(){we(!0)}),[]),ut=(0,S.useCallback)((function(){var e=(0,B.T)(Ue,Qe);(0,O.Q)(e)||(i(p.clearData()),v(A.F.success("Изменения успешно отменены")))}),[i,Ue,Qe]);function ct(){return $(this,void 0,void 0,(function(){var e;return ee(this,(function(t){switch(t.label){case 0:return[4,i(f(Ne.standard_curriculum_id))];case 1:return"rejected"===(e=t.sent()).meta.requestStatus&&h(!0),[2,e.payload]}}))}))}function st(){return $(this,void 0,void 0,(function(){var e,t;return ee(this,(function(n){switch(n.label){case 0:return e=Qe.structure.qualifications.filter((function(e){return null!==e.standard_curriculum_qualification_id})),t=e.map((function(e){return i(X([Ne.standard_curriculum_id,e])).then((function(e){return e.meta.requestStatus})).catch((function(e){return v(A.F.success(e.message))}))})),[4,Promise.all(t)];case 1:return[2,n.sent()]}}))}))}function dt(){return $(this,void 0,void 0,(function(){var e,t;return ee(this,(function(n){switch(n.label){case 0:return e=Qe.structure.general_modules.filter((function(e){return e.standard_curriculum_module_id&&null!==e.standard_curriculum_module_id})),t=e.map((function(e){return i(R([Ne.standard_curriculum_id,K(K({},e),{standard_curriculum_id:Ne.standard_curriculum_id})])).then((function(e){return e.meta.requestStatus})).catch((function(e){return v(A.F.success(e.message))}))})),[4,Promise.all(t)];case 1:return[2,n.sent()]}}))}))}function ft(e){return $(this,void 0,void 0,(function(){var t;return ee(this,(function(n){switch(n.label){case 0:return t=e.map((function(e){return i((0,H.DL)([Ne.standard_curriculum_id,K(K({},e),{standard_curriculum_id:Ne.standard_curriculum_id})])).then((function(e){return e})).catch((function(e){return v(A.F.success(e.message))}))})),[4,Promise.all(t)];case 1:return[2,n.sent()]}}))}))}function ht(e){return $(this,void 0,void 0,(function(){var t;return ee(this,(function(n){switch(n.label){case 0:return t=e.map((function(e){return i((0,H.yx)([Ne.standard_curriculum_id,e])).then((function(e){return e})).catch((function(e){return v(A.F.success(e.message))}))})),[4,Promise.all(t)];case 1:return[2,n.sent()]}}))}))}function mt(e,t){return $(this,void 0,void 0,(function(){return ee(this,(function(n){return i((0,H.TB)([Ne.standard_curriculum_id,t,e])).then((function(e){return e})).catch((function(e){return v(A.F.success(e.message))})),[2]}))}))}return t=Le?(0,y.jsx)(N.O,{width:"50%",height:"350px",border:"4px",className:P.blockItem}):Ve?(0,y.jsx)(M.xv,K({theme:M.lg.ERROR,size:M.yH.M,weight:M.fs.SEMIBOLD,className:P.blockItem},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,y.jsx)(g.Tg,{className:P.blockItem,searchSelectActiveValue:Qe&&He&&Qe.general_info.speciality_id?He.data.filter((function(e){return e.id_spec===(null==Qe?void 0:Qe.general_info.speciality_id)}))[0].speciality:"null",onChangeSearchSelect:function(e,t){var n=He.data.filter((function(t){return t.speciality===e}))[0];i(p.setSpecialityId(["newFields",n.id_spec]))},sortValue:String(null==Qe?void 0:Qe.general_info.sort)||"",onChangeSort:function(e){i(p.setSort(["newFields",Number(e.target.value)]))},dateValue:Qe&&Qe.general_info.date_of_order?new Date(null==Qe?void 0:Qe.general_info.date_of_order):null,onChangeDate:function(e){i(p.setDate(["newFields",e?(0,k.default)(new Date(e),"yyyy-MM-dd"):null]))}}),n=Re?(0,y.jsx)(N.O,{width:"50%",height:"350px",border:"4px",className:P.blockItem}):Ge?(0,y.jsx)(M.xv,K({theme:M.lg.ERROR,size:M.yH.M,weight:M.fs.SEMIBOLD,className:P.blockItem},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,y.jsx)(g.fu,{className:P.blockItem,data:Qe}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(C.lx,K({className:(0,x.A)(P.EditStandardCurriculum,{},[a]),noValidate:!0,validated:o,onSubmit:function(e){return $(void 0,void 0,void 0,(function(){var t,n,a,r,l,o,c,s,d;return ee(this,(function(f){switch(f.label){case 0:return e.preventDefault(),t=e.currentTarget,h(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),u(!0),te(!0),t.checkValidity()?(n=(0,B.T)(Ue,Qe),(0,O.Q)(n)?(v(A.F.error("Для сохранения вы должны внести изменения!")),te(!1),[3,11]):[3,1]):[3,11];case 1:return te(!0),[4,ct()];case 2:return f.sent(),[4,st()];case 3:return a=f.sent(),[4,dt()];case 4:return r=f.sent(),l=a.filter((function(e){return"rejected"===e})),o=r.filter((function(e){return"rejected"===e})),l.length||o.length?(v(A.F.error("ТУП отредактирован некорректно, присутствуют неверные поля, попробуйте заново")),h(!0),te(!1),[2]):(c=Qe.structure.general_modules.filter((function(e){return null===e.standard_curriculum_module_id})),s=[],Qe.structure.qualifications.forEach((function(e){e.standard_curriculum_qualification_id&&e.modules.forEach((function(t){null===t.standard_curriculum_module_id&&s.push(K(K({},t),{standard_curriculum_qualification_id:e.standard_curriculum_qualification_id}))}))})),d=Qe.structure.qualifications.filter((function(e){return null===e.standard_curriculum_qualification_id})),Qe.structure.general_modules.forEach((function(e){null!==e.standard_curriculum_module_id&&e.units.forEach((function(t){null===t.standard_curriculum_module_id&&mt(t,e.standard_curriculum_module_id)}))})),Qe.structure.qualifications.forEach((function(e){null!==e.standard_curriculum_qualification_id&&e.modules.forEach((function(e){null!==e.standard_curriculum_module_id&&e.units.forEach((function(t){null===t.standard_curriculum_module_id&&mt(t,e.standard_curriculum_module_id)}))}))})),c.length?[4,ft(c)]:[3,6]);case 5:f.sent(),f.label=6;case 6:return s.length?[4,ft(s)]:[3,8];case 7:f.sent(),f.label=8;case 8:return d.length?[4,ht(d)]:[3,10];case 9:f.sent(),f.label=10;case 10:(null==Ke?void 0:Ke.length)&&Ke.forEach((function(e){!function(e){$(this,void 0,void 0,(function(){return ee(this,(function(t){return i((0,z.UL)([Ne.standard_curriculum_id,e])).then((function(e){return e})).catch((function(e){return v(A.F.success(e.message))})),[2]}))}))}(e.standard_curriculum_module_id)})),(null==$e?void 0:$e.length)&&$e.forEach((function(e){!function(e,t){$(this,void 0,void 0,(function(){return ee(this,(function(n){return i((0,z.s0)([Ne.standard_curriculum_id,e,t])).then((function(e){return e})).catch((function(e){return v(A.F.success(e.message))})),[2]}))}))}(e.standard_curriculum_module_id,e.standard_curriculum_modules_unit_id)})),(null==et?void 0:et.length)&&et.forEach((function(e){!function(e){$(this,void 0,void 0,(function(){return ee(this,(function(t){return i((0,z.Ak)([Ne.standard_curriculum_id,e])).then((function(e){return e})).catch((function(e){return v(A.F.success(e.message))})),[2]}))}))}(e.standard_curriculum_qualification_id)})),setTimeout((function(){v(A.F.success("Информация о ТУП успешно обновлена")),i((0,Q._N)(Te)),i(p.clearData()),te(!1)}),1e3),f.label=11;case 11:return[2]}}))}))}},{children:[(0,y.jsxs)("div",K({className:(0,x.A)(P.blockWrapper,{},[P.top])},{children:[t,n]})),(0,y.jsx)("div",K({className:(0,x.A)(P.blockWrapper,{},[P.middle])},{children:(0,y.jsx)(g.bK,{className:P.blockItem,setAddModuleModalVisible:re,setAddModuleUnitModalVisible:ue,setAddQualificationModalVisible:de,setEditModuleModalVisible:me,setEditModuleUnitModalVisible:pe,setEditQualificationModalVisible:xe,onDeleteModuleFromGeneralModulesHandler:tt,onDeleteModuleFromQualificationStructureHandler:nt,onDeleteModuleUnitFromGeneralModulesHandler:at,onDeleteModuleUnitFromQualificationStructureHandler:it,onDeleteQualificationFromStructureHandler:rt,data:Qe,setModuleId:Fe,setUnitId:qe,setQualId:Ae,setCurriculumStructureMode:ze,isLoading:We||Ye||Le||Re||Xe,error:Je||Ze||Ve||Ge||Pe})})),(0,y.jsx)("div",K({className:(0,x.A)(P.blockWrapper,{},[P.bottom])},{children:(0,y.jsxs)("div",K({className:P.blockItem},{children:[(0,y.jsxs)("div",K({className:P.btnWrapper},{children:[s&&(0,y.jsx)(M.xv,K({size:M.yH.M,weight:M.fs.SEMIBOLD,theme:M.lg.ERROR},{children:"Форма заполнена некорректно"})),(0,y.jsx)(L.zx,K({className:(0,x.A)(P.btn,{},[P.deleteBtn]),theme:L.bn.ERROR,onClick:ot,disabled:G},{children:(0,y.jsx)(M.xv,K({weight:M.fs.SEMIBOLD},{children:"Удалить"}))}))]})),(0,y.jsxs)("div",K({className:P.btnWrapper},{children:[(0,y.jsx)(L.zx,K({className:(0,x.A)(P.btn,{},[P.defaultBtn]),theme:L.bn.OUTLINE,onClick:lt,disabled:G},{children:(0,y.jsx)(M.xv,K({weight:M.fs.SEMIBOLD},{children:"Назад к списку"}))})),(0,y.jsx)(L.zx,K({className:(0,x.A)(P.btn,{},[P.defaultBtn]),theme:L.bn.OUTLINE,onClick:ut,disabled:G},{children:(0,y.jsx)(M.xv,K({weight:M.fs.SEMIBOLD},{children:"Отменить изменения"}))})),(0,y.jsx)(L.zx,K({className:(0,x.A)(P.btn,{},[P.saveBtn]),type:"submit",disabled:G},{children:(0,y.jsx)(M.xv,K({weight:M.fs.SEMIBOLD},{children:"Сохранить"}))}))]}))]}))}))]})),(0,y.jsx)(C.KF,{ref:b,push:_,placement:"top-end"}),(0,y.jsx)(g.g1,{visible:ie,setVisible:re,data:Qe,mode:"edit",structureMode:Oe,qualId:De}),(0,y.jsx)(g.u4,{visible:oe,setVisible:ue,data:Qe,moduleId:Me,mode:"edit",structureMode:Oe,qualId:De}),(0,y.jsx)(g.xO,{visible:se,setVisible:de,data:Qe,mode:"edit"}),(0,y.jsx)(g.yb,{visible:he,setVisible:me,data:Qe,moduleId:Me,qualId:De,mode:"edit",structureMode:Oe}),(0,y.jsx)(g.$i,{visible:ve,setVisible:pe,data:Qe,qualId:De,moduleId:Me,unitId:Ce,mode:"edit",structureMode:Oe}),(0,y.jsx)(g.V3,{visible:ye,setVisible:xe,data:Qe,mode:"edit",qualId:De}),(0,y.jsx)(z.Dh,{standardCurriculum:Ne,visible:je,setVisible:we,withReturnBack:!0})]})}},146:(e,t,n)=>{n.d(t,{Q:()=>i});var a=function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},i=function(e,t){for(var n=a({},e),i=0,r=t;i<r.length;i++){var l=r[i];n.hasOwnProperty(l)&&delete n[l]}return n}}}]);
!(function () { try { const e = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; const t = (new Error()).stack; t && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[t] = 'd3469275-71dc-4275-b672-9543caf27b8f', e._sentryDebugIdIdentifier = 'sentry-dbid-d3469275-71dc-4275-b672-9543caf27b8f'); } catch (e) {} }()); const _global = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; _global.SENTRY_RELEASE = { id: '45ee1168f5cf48e9753bace26323152d3b61cb67' }, (self.webpackChunkproduction_project = self.webpackChunkproduction_project || []).push([[4425], {
    4425: (e, t, n) => {
        n.r(t), n.d(t, { default: () => F }); const s = n(5893); const r = n(4387); const i = n(7294); const a = n(1150); const o = n(918); const c = n(7168); const u = (0, c.hg)('studentGroups/assistant/fetchAutoDistributionStudentGroupsGeneratedDistribution', ((e, t) => {
            return n = void 0, s = void 0, i = function () {
                let e; let n; let s; return (function (e, t) {
                    let n; let s; let r; let i; let a = {
                        label: 0, sent() { if (1 & r[0]) throw r[1]; return r[1]; }, trys: [], ops: [],
                    }; return i = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (i[Symbol.iterator] = function () { return this; }), i; function o(o) { return function (c) { return (function (o) { if (n) throw new TypeError('Generator is already executing.'); for (;i && (i = 0, o[0] && (a = 0)), a;) try { if (n = 1, s && (r = 2 & o[0] ? s.return : o[0] ? s.throw || ((r = s.return) && r.call(s), 0) : s.next) && !(r = r.call(s, o[1])).done) return r; switch (s = 0, r && (o = [2 & o[0], r.value]), o[0]) { case 0: case 1: r = o; break; case 4: return a.label++, { value: o[1], done: !1 }; case 5: a.label++, s = o[1], o = [0]; continue; case 7: o = a.ops.pop(), a.trys.pop(); continue; default: if (!((r = (r = a.trys).length > 0 && r[r.length - 1]) || o[0] !== 6 && o[0] !== 2)) { a = 0; continue; } if (o[0] === 3 && (!r || o[1] > r[0] && o[1] < r[3])) { a.label = o[1]; break; } if (o[0] === 6 && a.label < r[1]) { a.label = r[1], r = o; break; } if (r && a.label < r[2]) { a.label = r[2], a.ops.push(o); break; }r[2] && a.ops.pop(), a.trys.pop(); continue; }o = t.call(e, a); } catch (e) { o = [6, e], s = 0; } finally { n = r = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, c])); }; }
                }(this, ((r) => { switch (r.label) { case 0: e = t.rejectWithValue, n = t.extra, t.dispatch, r.label = 1; case 1: return r.trys.push([1, 3,, 4]), [4, n.api.get('/assistant/students/groups/generate-distribution/')]; case 2: return [2, r.sent().data]; case 3: return (s = r.sent()).message === 'Failed to fetch' ? [2, e({ status: 500, error: 'timeout' })] : [2, e({ status: s.response.status, error: s.response.data.message })]; case 4: return [2]; } })));
            }, new ((r = void 0) || (r = Promise))(((e, t) => { function a(e) { try { c(i.next(e)); } catch (e) { t(e); } } function o(e) { try { c(i.throw(e)); } catch (e) { t(e); } } function c(t) { let n; t.done ? e(t.value) : (n = t.value, n instanceof r ? n : new r(((e) => { e(n); }))).then(a, o); }c((i = i.apply(n, s || [])).next()); })); let n; let s; let r; let i;
        })); const l = function (e) { let t; return (t = e.autoDistributionStudentGroupsAssistant) === null || void 0 === t ? void 0 : t.generatedDistribution.data; }; const d = function (e) { let t; return (t = e.autoDistributionStudentGroupsAssistant) === null || void 0 === t ? void 0 : t.generatedDistribution.isLoading; }; const f = function (e) { let t; return (t = e.autoDistributionStudentGroupsAssistant) === null || void 0 === t ? void 0 : t.generatedDistribution.error; }; const h = (0, c.hg)('studentGroups/assistant/massLinkStudentsToGroups', ((e, t) => {
            return n = void 0, s = void 0, i = function () {
                let e; let n; let s; let r; let i; return (function (e, t) {
                    let n; let s; let r; let i; let a = {
                        label: 0, sent() { if (1 & r[0]) throw r[1]; return r[1]; }, trys: [], ops: [],
                    }; return i = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (i[Symbol.iterator] = function () { return this; }), i; function o(o) { return function (c) { return (function (o) { if (n) throw new TypeError('Generator is already executing.'); for (;i && (i = 0, o[0] && (a = 0)), a;) try { if (n = 1, s && (r = 2 & o[0] ? s.return : o[0] ? s.throw || ((r = s.return) && r.call(s), 0) : s.next) && !(r = r.call(s, o[1])).done) return r; switch (s = 0, r && (o = [2 & o[0], r.value]), o[0]) { case 0: case 1: r = o; break; case 4: return a.label++, { value: o[1], done: !1 }; case 5: a.label++, s = o[1], o = [0]; continue; case 7: o = a.ops.pop(), a.trys.pop(); continue; default: if (!((r = (r = a.trys).length > 0 && r[r.length - 1]) || o[0] !== 6 && o[0] !== 2)) { a = 0; continue; } if (o[0] === 3 && (!r || o[1] > r[0] && o[1] < r[3])) { a.label = o[1]; break; } if (o[0] === 6 && a.label < r[1]) { a.label = r[1], r = o; break; } if (r && a.label < r[2]) { a.label = r[2], a.ops.push(o); break; }r[2] && a.ops.pop(), a.trys.pop(); continue; }o = t.call(e, a); } catch (e) { o = [6, e], s = 0; } finally { n = r = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, c])); }; }
                }(this, ((a) => { switch (a.label) { case 0: e = t.rejectWithValue, n = t.extra, s = t.getState, r = (i = l(s())) === null || void 0 === i ? void 0 : i.studentsGroupsComparison, a.label = 1; case 1: return a.trys.push([1, 3,, 4]), [4, n.api.post('/college/groups/students/batch', r)]; case 2: return [2, a.sent().data]; case 3: return a.sent(), [2, e('ERROR')]; case 4: return [2]; } })));
            }, new ((r = void 0) || (r = Promise))(((e, t) => { function a(e) { try { c(i.next(e)); } catch (e) { t(e); } } function o(e) { try { c(i.throw(e)); } catch (e) { t(e); } } function c(t) { let n; t.done ? e(t.value) : (n = t.value, n instanceof r ? n : new r(((e) => { e(n); }))).then(a, o); }c((i = i.apply(n, s || [])).next()); })); let n; let s; let r; let i;
        })); const v = (0, c.oM)({
            name: 'autoDistributionStudentGroups',
            initialState: { generatedDistribution: { data: void 0, isLoading: !0, error: void 0 }, massLink: { data: void 0, isLoading: !0, error: void 0 } },
            reducers: {},
            extraReducers(e) {
                e.addCase(u.pending, ((e) => { e.generatedDistribution.data = void 0, e.generatedDistribution.isLoading = !0; })).addCase(u.fulfilled, ((e, t) => { e.generatedDistribution.isLoading = !1, e.generatedDistribution.data = t.payload; })).addCase(u.rejected, ((e, t) => { e.generatedDistribution.isLoading = !1, e.generatedDistribution.error = t.payload; })).addCase(h.pending, ((e) => { e.massLink.data = void 0, e.massLink.isLoading = !0; }))
                    .addCase(h.fulfilled, ((e, t) => { e.massLink.isLoading = !1, e.massLink.data = t.payload; }))
                    .addCase(h.rejected, ((e, t) => { e.massLink.isLoading = !1, e.massLink.error = t.payload; }));
            },
        }); const p = (v.actions, v.reducer); const g = n(9250); const b = n(9086); const x = n(4809); const m = n(9161); const y = n(4475); const j = n(6458); const w = '_cJbuTpV'; const S = function (e) { let t; return (t = e.autoDistributionStudentGroupsAssistant) === null || void 0 === t ? void 0 : t.massLink.data; }; const D = function (e) { let t; return (t = e.autoDistributionStudentGroupsAssistant) === null || void 0 === t ? void 0 : t.massLink.isLoading; }; const L = function (e) { let t; return (t = e.autoDistributionStudentGroupsAssistant) === null || void 0 === t ? void 0 : t.massLink.error; }; let E = function () { return E = Object.assign || function (e) { for (var t, n = 1, s = arguments.length; n < s; n++) for (const r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }, E.apply(this, arguments); }; const O = function (e) { let t; const n = e.className; const a = (0, g.s0)(); const o = (0, j.v9)(S); const c = (0, j.v9)(D); const u = (0, j.v9)(L); const l = (0, i.useCallback)((() => { a((0, b.S6)()); }), [a]); const d = (0, i.useCallback)((() => { window.location.replace((0, b.iy)()); }), []); return c ? (0, s.jsxs)('div', { className: (0, r.A)('T1fa5zIU', {}, [n]), children: [(0, s.jsx)(y.LQ, { color: 'primary', className: 'qxgMsYpG' }), (0, s.jsx)(x.xv, { size: x.yH.XL, weight: x.fs.SEMIBOLD, children: 'Идет распределение студентов по группам…' })] }) : (t = u ? (0, s.jsxs)(s.Fragment, { children: [(0, s.jsx)(x.xv, { size: x.yH.XL, weight: x.fs.SEMIBOLD, children: 'При распределении студентов произошла ошибка' }), (0, s.jsxs)('div', { className: 'ESDV9dcS', children: [(0, s.jsx)(m.zx, { onClick: d, children: (0, s.jsx)(x.xv, { weight: x.fs.SEMIBOLD, children: 'Попробовать снова' }) }), (0, s.jsx)(m.zx, { onClick: l, className: w, children: (0, s.jsx)(x.xv, { weight: x.fs.SEMIBOLD, children: 'Вернуться в таблицу групп' }) })] })] }) : (0, s.jsxs)(s.Fragment, { children: [(0, s.jsxs)(x.xv, { size: x.yH.XL, weight: x.fs.SEMIBOLD, children: ['По учебным группам распределено', ' ', o == null ? void 0 : o.count, ' ', 'студентов'] }), (0, s.jsx)(m.zx, { onClick: l, className: w, children: (0, s.jsx)(x.xv, { weight: x.fs.SEMIBOLD, children: 'Открыть таблицу групп' }) })] }), (0, s.jsx)('div', { className: (0, r.A)('CjH4B4ts', {}, [n]), children: t })); }; const N = 'N72H0Q_p'; const k = 'U4WBkKuT'; let M = function () { return M = Object.assign || function (e) { for (var t, n = 1, s = arguments.length; n < s; n++) for (const r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }, M.apply(this, arguments); }; const A = (0, i.memo)(((e) => {
            let t; let n; let i; const a = e.className; const o = e.active; return (0, s.jsxs)(y.n2, {
                className: (0, r.A)('ev0KeFvc', {}, [a]), variant: 'pills', layout: 'fill', children: [(0, s.jsx)(y.U6, { children: (0, s.jsx)(y.AQ, { active: o === 1, className: (0, r.A)(N, (t = {}, t[k] = o === 1, t), []), children: 'Введение' }) }), (0, s.jsx)(y.U6, { children: (0, s.jsx)(y.AQ, { active: o === 2, className: (0, r.A)(N, (n = {}, n[k] = o === 2, n), []), children: 'Распределение' }) }), (0, s.jsx)(y.U6, { children: (0, s.jsx)(y.AQ, { active: o === 3, className: (0, r.A)(N, (i = {}, i[k] = o === 3, i), []), children: 'Завершение' }) })],
            });
        })); let I = function () { return I = Object.assign || function (e) { for (var t, n = 1, s = arguments.length; n < s; n++) for (const r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }, I.apply(this, arguments); }; const C = (0, i.memo)(((e) => {
            const t = e.className; const n = e.changeActiveTab; return (0, s.jsxs)('div', {
                className: (0, r.A)('ECS5VVx2', {}, [t]),
                children: [(0, s.jsx)(x.xv, {
                    size: x.yH.M, weight: x.fs.SEMIBOLD, align: x.PH.CENTER, children: 'В рамках данного процесса "Ассистент" распределяет известных системе студентов без группы - по уже существующим группам.',
                }), (0, s.jsx)(x.xv, {
                    size: x.yH.M, weight: x.fs.SEMIBOLD, align: x.PH.CENTER, children: 'Если для студента не была найдена подходящая группа - он останется без привязки к группе.',
                }), (0, s.jsx)(m.zx, {
                    className: 'm63VZ4Z4', size: m.qE.L, onClick() { n(2); }, children: (0, s.jsx)(x.xv, { weight: x.fs.SEMIBOLD, children: 'Далее' }),
                })],
            });
        })); const G = {
            tab: 'zdETr3OT', tabWithoutSettings: 'yIZK0tSY', settings: 'JHv5r2EX', backBtn: 'Gl7RA9Fh',
        }; const z = n(5461); const H = n(1138); const B = {
            descr: 'Wjt5F09m', settings: '_0p4iceHG', groups: 'YFbcQ9fz', students: 'QGnOiit8',
        }; let T = function () { return T = Object.assign || function (e) { for (var t, n = 1, s = arguments.length; n < s; n++) for (const r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }, T.apply(this, arguments); }; const R = (0, i.memo)(((e) => {
            let t; const n = e.className; const a = e.changeActiveTab; const o = e.returnToStudentGroupsPage; const c = (0, z.T)(); const v = (0, j.v9)(l); const p = (0, j.v9)(d); const g = (0, j.v9)(f); const b = (0, i.useCallback)((() => { a(3), c(h()); }), [a, c]); return (0, i.useEffect)((() => { c(u()); }), [c]), t = p ? (0, s.jsx)(H.O, { height: 500, width: '100%' }) : g ? (0, s.jsx)(x.xv, {
                theme: x.lg.ERROR, size: x.yH.M, weight: x.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (v == null ? void 0 : v.groups.length) ? (0, s.jsxs)('div', { className: B.groups, children: [v == null ? void 0 : v.groups.map(((e) => (0, s.jsxs)('div', { className: B.group, children: [(0, s.jsxs)(x.xv, { size: x.yH.M, weight: x.fs.SEMIBOLD, children: ['Группа', ' ', '"', e.name, '"'] }), (0, s.jsx)('div', { className: B.students, children: e.students.map(((e, t) => { const n = ''.concat(e.user.last_name, ' ').concat(e.user.first_name, ' ').concat(e.user.patronymic || ''); return (0, s.jsx)('div', { className: B.student, children: (0, s.jsxs)(x.xv, { weight: x.fs.MEDIUM, size: x.yH.XM, children: [t + 1, ')', ' ', n] }) }, e.students_id); })) })] }, e.id_group))), ((v == null ? void 0 : v.studentsWithoutGroupsCount) || 0) > 0 && (0, s.jsxs)('div', { className: B.group, children: [(0, s.jsx)(x.xv, { size: x.yH.M, weight: x.fs.SEMIBOLD, children: 'Студенты без группы' }), (0, s.jsx)('div', { className: B.students, children: (0, s.jsx)('div', { className: B.student, children: (0, s.jsxs)(x.xv, { weight: x.fs.MEDIUM, size: x.yH.XM, children: ['Количество студентов без группы:', ' ', v == null ? void 0 : v.studentsWithoutGroupsCount, ' ', 'чел.'] }) }) })] })] }) : (0, s.jsx)(x.xv, {
                size: x.yH.L, weight: x.fs.SEMIBOLD, align: x.PH.CENTER, children: 'Отсутствует распределение студентов по группам',
            }), (0, s.jsxs)(s.Fragment, {
                children: [(0, s.jsxs)('div', {
                    className: (0, r.A)(B.AutoDistributionStudentsGroupsProcess, {}, [n]),
                    children: [(0, s.jsx)(x.xv, { size: x.yH.XL, weight: x.fs.SEMIBOLD, children: 'Распределение студентов по группам' }), (0, s.jsx)(x.xv, {
                        size: x.yH.XM, weight: x.fs.MEDIUM, className: B.descr, children: 'Ниже перечислены группы и студенты, которые будут привязаны к этим группам. Внимательно проверьте правильность распределения студентов по группам, если всё верно - переходите на следующий шаг.',
                    }), t],
                }), (0, s.jsxs)('div', {
                    className: B.settings,
                    children: [(0, s.jsx)(m.zx, {
                        theme: m.bn.ERROR, className: B.backBtn, onClick: o, children: (0, s.jsx)(x.xv, { size: x.yH.XS, weight: x.fs.SEMIBOLD, children: 'Отмена' }),
                    }), (0, s.jsx)(m.zx, {
                        className: B.nextBtn, onClick: b, disabled: p || !!g || !(v == null ? void 0 : v.groups.length), children: (0, s.jsx)(x.xv, { size: x.yH.XS, weight: x.fs.SEMIBOLD, children: 'Далее' }),
                    })],
                })],
            });
        })); let P = function () { return P = Object.assign || function (e) { for (var t, n = 1, s = arguments.length; n < s; n++) for (const r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }, P.apply(this, arguments); }; const _ = (0, i.memo)(((e) => { const t = e.className; const n = (0, i.useState)(1); const a = n[0]; const o = n[1]; const c = (0, g.s0)(); const u = (0, i.useCallback)(((e) => { o(e); }), []); const l = (0, i.useCallback)((() => { c((0, b.S6)()); }), [c]); return (0, s.jsxs)('div', { className: (0, r.A)(G.AutoDistributionStudentsGroups, {}, [t]), children: [(0, s.jsx)(A, { active: a }), a === 1 && (0, s.jsx)(C, { changeActiveTab: u }), a === 2 && (0, s.jsx)(R, { changeActiveTab: u, returnToStudentGroupsPage: l, className: G.tab }), a === 3 && (0, s.jsx)(O, { className: G.tabWithoutSettings })] }); })); const U = {}; let W = function () { return W = Object.assign || function (e) { for (var t, n = 1, s = arguments.length; n < s; n++) for (const r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }, W.apply(this, arguments); }; const X = { autoDistributionStudentGroupsAssistant: p }; const F = (0, i.memo)(((e) => { const t = e.className; return (0, s.jsx)(o.B, { title: 'LMS - Автоматическое распределение студентов по группам', children: (0, s.jsx)(a.W, { reducers: X, removeAfterUnmount: !0, children: (0, s.jsx)('div', { className: (0, r.A)(U.AutoDistributionStudentGroupsPagePage, {}, [t]), children: (0, s.jsx)(_, {}) }) }) }); }));
    },
    1150: (e, t, n) => { n.d(t, { W: () => a }); const s = n(5893); const r = n(7294); const i = n(6458); var a = function (e) { const t = e.children; const n = e.reducers; const a = e.removeAfterUnmount; const o = (0, i.oR)(); const c = (0, i.I0)(); return (0, r.useEffect)((() => (Object.entries(n).forEach(((e) => { const t = e[0]; const n = e[1]; o.reducerManager.add(t, n), c({ type: '@INIT '.concat(t, ' reducer') }); })), function () { a && Object.entries(n).forEach(((e) => { const t = e[0]; o.reducerManager.remove(t), c({ type: '@DESTROY '.concat(t, ' reducer') }); })); })), []), (0, s.jsx)(s.Fragment, { children: t }); }; },
}]);

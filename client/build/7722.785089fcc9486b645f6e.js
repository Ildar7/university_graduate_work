!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6b1a2a8a-9ccf-4e75-9cfc-c845b263ce4d",e._sentryDebugIdIdentifier="sentry-dbid-6b1a2a8a-9ccf-4e75-9cfc-c845b263ce4d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[7722],{9142:(e,t,n)=>{n.d(t,{d7:()=>l.d,f7:()=>s,S1:()=>i,vn:()=>a,hB:()=>c});var i=function(e){var t;return null===(t=e.specialityDetail)||void 0===t?void 0:t.error},a=function(e){var t;return null===(t=e.specialityDetail)||void 0===t?void 0:t.isLoading},s=function(e){var t;return null===(t=e.specialityDetail)||void 0===t?void 0:t.data},l=n(7610),r=(0,n(7168).oM)({name:"specialityDetail",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(l.d.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(l.d.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})).addCase(l.d.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),c=(r.actions,r.reducer)},7610:(e,t,n)=>{n.d(t,{d:()=>s});var i=n(7168),a=n(1771),s=(0,i.hg)("specialties/fetchStandardCurriculumDetail",(function(e,t){return n=void 0,i=void 0,l=function(){var n,i,s,l;return function(e,t){var n,i,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(l=0)),l;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,i=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){l.label=r[1];break}if(6===r[0]&&l.label<a[1]){l.label=a[1],a=r;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(r);break}a[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(r){switch(r.label){case 0:n=t.rejectWithValue,i=t.extra,s=t.dispatch,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.api.get("/college/specialties/".concat(e))];case 2:return l=r.sent(),s(a.Kt.setSpecialityData(l.data)),[2,l.data];case 3:return"Failed to fetch"===r.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,t){function a(e){try{c(l.next(e))}catch(e){t(e)}}function r(e){try{c(l.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(a,r)}c((l=l.apply(n,i||[])).next())}));var n,i,s,l}))},6959:(e,t,n)=>{n.d(t,{dF:()=>M,kY:()=>i.k,K2:()=>V,qA:()=>R,LD:()=>A,z:()=>H.z,Ej:()=>X.E,cW:()=>P,Ys:()=>K});var i=n(6325),a=n(5893),s=n(4387),l=n(7294),r=n(5461),c=n(6458),o=n(1138),d=n(4809),u=n(1759),f=n(1771),h=n(4475),v=n(2308),p=n(1783),b=n(779),x=n(9142),y=n(9161);const m={"modal-dialog":"jh4dOwMe",tabBtn:"IBNjMyUP",tabsButtonsBlock:"Kk8XvmIn",title:"jqqodH4m",footerBtn:"TkjoFj7F",redBtn:"XYXW0z15",settings:"jsUu9xXK",newAddField:"FpIkSgMz",tabBlock:"HFKe1FSl",footer:"Qcjdo223",message:"h1cQUbVp",messageIcon:"DHUlNJUB",checkboxText:"s7nfX7Jk"};var g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)},j=function(e){var t=e.className,n=e.visible,i=e.setVisible,u=e.specialityId,f=e.onDeleteSpeciality,j=e.onEditSpeciality,w=(0,r.T)(),S=(0,c.v9)(x.f7),k=(0,c.v9)(x.vn),N=(0,c.v9)(x.S1);(0,l.useEffect)((function(){u&&w((0,x.d7)(u))}),[w,u]);var B,C=function(){i(!1)};return B=k?(0,a.jsx)(o.O,{width:"100%",height:120}):N?(0,a.jsx)(d.xv,g({theme:d.lg.ERROR,size:d.yH.M,weight:d.fs.BOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,a.jsx)("div",g({className:m.tab},{children:(0,a.jsxs)("div",g({className:m.tabBlock},{children:[(0,a.jsx)("div",g({className:m.settings},{children:(0,a.jsxs)("div",g({className:m.newAddField},{children:[(0,a.jsx)("h6",g({className:m.newAddFieldTitle},{children:"ID специальности"})),(0,a.jsx)(d.xv,g({size:d.yH.S,weight:d.fs.BOLD},{children:null==S?void 0:S.id_spec}))]}))})),(0,a.jsx)("div",g({className:m.settings},{children:(0,a.jsxs)("div",g({className:m.newAddField},{children:[(0,a.jsx)("h6",g({className:m.newAddFieldTitle},{children:"Наименование"})),(0,a.jsx)(d.xv,g({size:d.yH.S,weight:d.fs.BOLD},{children:null==S?void 0:S.speciality}))]}))})),(0,a.jsx)("div",g({className:m.settings},{children:(0,a.jsxs)("div",g({className:m.newAddField},{children:[(0,a.jsx)("h6",g({className:m.newAddFieldTitle},{children:"Код специальности"})),(0,a.jsx)(d.xv,g({size:d.yH.S,weight:d.fs.BOLD},{children:null==S?void 0:S.shifr_spec}))]}))}))]}))})),(0,a.jsxs)(h.Tk,g({className:(0,s.A)(m.ViewSpeciality,{},[t,"view-student-modal"]),visible:n,onClose:C,alignment:"center"},{children:[(0,a.jsx)(h.p0,{children:k?(0,a.jsx)(o.O,{width:200,height:30}):(0,a.jsxs)(h.fl,{children:["Специальность №",null==S?void 0:S.id_spec]})}),(0,a.jsx)(h.sD,{children:B}),(0,a.jsxs)(h.Ym,g({className:m.footer},{children:[(0,a.jsx)("div",{}),(0,a.jsxs)("div",g({className:m.footerBtns},{children:[(0,a.jsx)(y.zx,g({theme:y.bn.OUTLINE,className:m.footerBtn,onClick:C},{children:(0,a.jsx)(d.xv,g({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"Закрыть"}))})),(0,a.jsxs)(y.zx,g({theme:y.bn.ERROR,className:(0,s.A)(m.footerBtn,{},[m.redBtn]),onClick:function(){f(S),C()},disabled:k||!!N},{children:[(0,a.jsx)(d.xv,g({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"Удалить"})),(0,a.jsx)(v.Z,{icon:p.N,className:m.btnIcon})]})),(0,a.jsxs)(y.zx,g({color:"primary",className:m.footerBtn,onClick:function(){j(u),C()},disabled:k||!!N},{children:[(0,a.jsx)(d.xv,g({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"Редактировать"})),(0,a.jsx)(v.Z,{icon:b.C,className:m.btnIcon})]}))]}))]}))]}))},w=n(530);const S={footerBtn:"v5UllmI1",redBtn:"RsN8q_YS",deleteText:"uKIUePjR"};var k=n(7168),N=(0,k.hg)("specialties/deleteStandardCurriculum",(function(e,t){return n=void 0,a=void 0,l=function(){var n,a,s,l;return function(e,t){var n,i,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(l=0)),l;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,i=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){l.label=r[1];break}if(6===r[0]&&l.label<a[1]){l.label=a[1],a=r;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(r);break}a[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(r){switch(r.label){case 0:n=t.rejectWithValue,a=t.extra,s=t.dispatch,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.api.delete("/college/specialties/".concat(e))];case 2:return l=r.sent(),s((0,i.k)()),[2,l.data];case 3:return"Failed to fetch"===r.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{c(l.next(e))}catch(e){t(e)}}function r(e){try{c(l.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,r)}c((l=l.apply(n,a||[])).next())}));var n,a,s,l})),B=function(){return B=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B.apply(this,arguments)},C=function(e){var t=e.className,n=e.speciality,i=e.visible,c=e.setVisible,o=(0,r.T)(),u=(0,l.useState)(),f=u[0],b=u[1],x=(0,l.useRef)(null),m=(0,l.useState)(!1),g=m[0],j=m[1],k=function(){c(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.Tk,B({className:(0,s.A)(S.DeleteSpeciality,{},[t]),visible:i,onClose:k,size:"lg",alignment:"center"},{children:[(0,a.jsx)(h.p0,{children:(0,a.jsxs)(h.fl,{children:["Удаление специальности №",null==n?void 0:n.id_spec]})}),(0,a.jsx)(h.sD,{children:(0,a.jsxs)(d.xv,B({size:d.yH.XM,className:S.deleteText},{children:["Вы действительно хотите удалить специальность"," ",(0,a.jsxs)("span",{children:["№",null==n?void 0:n.id_spec," ","-"," ",'"'.concat(null==n?void 0:n.speciality,'"')]})," ","и все связанные с ним данные?"]}))}),(0,a.jsx)(h.Ym,B({className:S.footer},{children:(0,a.jsxs)("div",B({className:S.footerBtns},{children:[(0,a.jsx)(y.zx,B({theme:y.bn.OUTLINE,className:S.footerBtn,onClick:k},{children:(0,a.jsx)(d.xv,B({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(y.zx,B({theme:y.bn.ERROR,className:(0,s.A)(S.footerBtn,{},[S.redBtn]),onClick:function(){var e;e=n.id_spec.toString(),j(!0),o(N(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(b(w.F.success("Специальность №".concat(null==n?void 0:n.id_spec," удалена"))),k(),j(!1)):"rejected"===e.meta.requestStatus&&(b(w.F.error("Произошла ошибка при удалении, попробуйте снова")),j(!1))}))},disabled:g},{children:[(0,a.jsx)(d.xv,B({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"Удалить"})),(0,a.jsx)(v.Z,{icon:p.N,className:S.btnIcon})]}))]}))}))]})),(0,a.jsx)(h.KF,{ref:x,push:f,placement:"top-end"})]})},E=n(6837),I=n(1353),O=n(773),D=n(5606),L=n(2008),F=n(596),z=n(4164),R=function(e){var t;return null===(t=e.specialties)||void 0===t?void 0:t.error},A=function(e){var t;return null===(t=e.specialties)||void 0===t?void 0:t.isLoading};const _={TableBlock:"OEPzL2DO",table:"tnDjxOYs",tableRow:"euJhp5AZ",tableCell:"dbug8KEs",tableHead:"QQOUPe9m",tableCellId:"MkFoDUIE",tableBody:"ikuQ_hk2",tableSortIcon:"G_oA4fx2",active:"Bz3xbK3w",cellTextBg:"kxSe14lf",tableCellBtns:"uDtmASMZ",tableCellBtnsWrapper:"Mf8IHCFS",editBtn:"o2_dI_jT",checkbox:"vixfkQkC",tableWithCheckboxes:"XrKLj5OW"};var T=function(){return T=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T.apply(this,arguments)},M=function(e){var t,n,h,v,p=e.className,b=e.data,x=e.exportDisabled,m=(0,r.T)(),g=(0,c.v9)(A),w=(0,c.v9)(R),S=(0,c.v9)(u.DU),k=(0,c.v9)(u.Qg),N=(0,l.useState)(),B=N[0],M=N[1],H=(0,l.useState)(!1),X=H[0],V=H[1],Z=(0,l.useState)(!1),P=Z[0],K=Z[1],U=(0,l.useState)(!1),Y=U[0],W=U[1],q=(0,l.useState)(),J=q[0],G=q[1],Q=function(e){K(!0),G(e)},$=(0,l.useCallback)((function(e){W(!0),M(e)}),[]);(0,l.useEffect)((function(){m(u.f$.setSort("id_spec"))}),[m]);var ee,te=(0,l.useCallback)((function(e){m(u.f$.setSort(e)),m((0,i.k)())}),[m]);ee=g?(0,a.jsx)(o.O,{height:250}):w?(0,a.jsx)(d.xv,T({theme:d.lg.ERROR,size:d.yH.M,weight:d.fs.SEMIBOLD,className:_.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):b.length?(0,a.jsxs)("div",T({className:(0,s.A)(_.table,(t={},t[_.tableWithCheckboxes]=!x,t),[])},{children:[(0,a.jsx)("div",T({className:_.tableHead},{children:(0,a.jsxs)("div",T({className:_.tableRow},{children:[!x&&(0,a.jsx)(E.X,{className:_.checkbox,id:"checkbox-specialties-all"}),(0,a.jsxs)(y.zx,T({theme:y.bn.CLEAR,className:(0,s.A)(_.tableCell,{},[_.tableCellId]),onClick:function(){te("id_spec")}},{children:[(0,a.jsx)(d.xv,T({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"ID специальности"})),(0,a.jsx)(I.J,{Svg:"asc"===k?O.Z:D.Z,className:(0,s.A)(_.tableSortIcon,(n={},n[_.active]="id_spec"===S,n),[])})]})),(0,a.jsxs)(y.zx,T({theme:y.bn.CLEAR,className:_.tableCell,onClick:function(){te("speciality")}},{children:[(0,a.jsx)(d.xv,T({size:d.yH.XS,weight:d.fs.SEMIBOLD},{children:"Наименование"})),(0,a.jsx)(I.J,{Svg:"asc"===k?O.Z:D.Z,className:(0,s.A)(_.tableSortIcon,(h={},h[_.active]="speciality"===S,h),[])})]})),(0,a.jsx)("div",{className:(0,s.A)(_.tableCell,{},[_.tableCellBtnsWrapper])})]}))})),(0,a.jsx)("div",T({className:_.tableBody},{children:null==b?void 0:b.map((function(e){return(0,a.jsxs)("div",T({className:_.tableRow},{children:[!x&&(0,a.jsx)(E.X,{className:_.checkbox,id:"checkbox-specialties-".concat(e.id_spec)}),(0,a.jsx)("div",T({className:(0,s.A)(_.tableCell,{},[_.tableCellId])},{children:(0,a.jsx)(d.xv,T({size:d.yH.XS},{children:e.id_spec}))})),(0,a.jsx)("div",T({className:_.tableCell},{children:(0,a.jsx)(d.xv,T({size:d.yH.XS},{children:e.speciality}))})),(0,a.jsxs)("div",T({className:(0,s.A)(_.tableCell,{},[_.tableCellBtns])},{children:[(0,a.jsx)(y.zx,T({theme:y.bn.CLEAR,title:"Просмотр",className:_.editBtn,onClick:function(){var t;t=e.id_spec.toString(),V(!0),G(t)}},{children:(0,a.jsx)(I.J,{Svg:L.Z})})),(0,a.jsx)(y.zx,T({theme:y.bn.CLEAR,title:"Редактировать",className:_.editBtn,onClick:function(){Q(e.id_spec.toString())}},{children:(0,a.jsx)(I.J,{Svg:F.Z})})),(0,a.jsx)(y.zx,T({theme:y.bn.CLEAR,title:"Удалить",className:_.editBtn,onClick:function(){$(e)}},{children:(0,a.jsx)(I.J,{Svg:z.Z})}))]}))]}),e.id_spec)}))}))]})):(0,a.jsx)(d.xv,{children:"Ничего не найдено..."});var ne=((v={})[_.error]=!!w,v);return(0,a.jsxs)("div",T({className:(0,s.A)(_.TableBlock,ne,[p])},{children:[ee,(0,a.jsx)(j,{visible:X,setVisible:V,specialityId:J,onDeleteSpeciality:$,onEditSpeciality:Q}),(0,a.jsx)(f.Zu,{visible:P,setVisible:K,specialityId:J,onDeleteSpeciality:$}),(0,a.jsx)(C,{speciality:B,visible:Y,setVisible:W})]}))},H=n(5795),X=n(1303),V=function(e){var t;return null===(t=e.specialties)||void 0===t?void 0:t.data},Z=(0,k.oM)({name:"specialties",initialState:{data:void 0,isLoading:!0,error:void 0,page:"1",limit:"50"},reducers:{setPage:function(e,t){e.page=t.payload},setLimit:function(e,t){e.limit=t.payload}},extraReducers:function(e){e.addCase(i.k.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(i.k.fulfilled,(function(e,t){e.isLoading=!1,e.data={data:t.payload.data,pagination:t.payload.pagination}})).addCase(i.k.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),P=Z.actions,K=Z.reducer},5795:(e,t,n)=>{n.d(t,{z:()=>i});var i=function(e){var t;return null===(t=e.specialties)||void 0===t?void 0:t.limit}},1303:(e,t,n)=>{n.d(t,{E:()=>i});var i=function(e){var t;return null===(t=e.specialties)||void 0===t?void 0:t.page}},6325:(e,t,n)=>{n.d(t,{k:()=>c});var i=n(7168),a=n(1759),s=n(121),l=n(1303),r=n(5795),c=(0,i.hg)("students/fetchSpecialties",(function(e,t){return n=void 0,i=void 0,o=function(){var e,n,i,c,o,d;return function(e,t){var n,i,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(l=0)),l;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,i=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){l.label=r[1];break}if(6===r[0]&&l.label<a[1]){l.label=a[1],a=r;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(r);break}a[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(u){switch(u.label){case 0:e=t.rejectWithValue,n=t.extra,i=t.getState,c={pageSelector:l.E,limitSelector:r.z,sortFieldSelector:a.DU,sortOrderSelector:a.Qg},o=(0,s.o)("/college/specialties",c,i()),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.api.get(o)];case 2:return[2,u.sent().data];case 3:return"Failed to fetch"===(d=u.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:d.response.status,error:d.response.data.message})];case 4:return[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(a,s)}l((o=o.apply(n,i||[])).next())}));var n,i,c,o}))},1771:(e,t,n)=>{n.d(t,{Zu:()=>D,Kt:()=>o,sG:()=>d});var i=n(7168),a=n(6959),s=n(7610),l=function(e){var t;return null===(t=e.editSpeciality)||void 0===t?void 0:t.newFields},r=(0,i.hg)("specialties/editSpeciality",(function(e,t){return n=void 0,i=void 0,c=function(){var n,i,r,c,o,d,u,f;return function(e,t){var n,i,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(l=0)),l;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,i=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){l.label=r[1];break}if(6===r[0]&&l.label<a[1]){l.label=a[1],a=r;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(r);break}a[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(h){switch(h.label){case 0:n=t.rejectWithValue,i=t.extra,r=t.dispatch,c=t.getState,o=l(c()),d={name:null==o?void 0:o.title,code:null==o?void 0:o.code},h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i.api.put("/college/specialties/".concat(e),d)];case 2:return u=h.sent(),r((0,a.kY)()),r((0,s.d)(e)),[2,u.data];case 3:return f=h.sent(),[2,n({errors:f.response.data.errors,status:f.response.status})];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{l(c.next(e))}catch(e){t(e)}}function s(e){try{l(c.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((c=c.apply(n,i||[])).next())}));var n,i,r,c})),c=(0,i.oM)({name:"editSpeciality",initialState:{data:void 0,newFields:void 0,isLoading:!1,errors:void 0},reducers:{setSpecialityData:function(e,t){t.payload&&(e.data=t.payload,e.newFields={title:e.data.speciality,code:e.data.shifr_spec})},setTitle:function(e,t){e.newFields.title=t.payload},setCode:function(e,t){e.newFields.code=t.payload},clearNewFields:function(e){var t,n;e.newFields={title:(null===(t=e.data)||void 0===t?void 0:t.speciality)||null,code:(null===(n=e.data)||void 0===n?void 0:n.shifr_spec)||null},e.errors=void 0}},extraReducers:function(e){e.addCase(r.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(r.fulfilled,(function(e){e.isLoading=!1})).addCase(r.rejected,(function(e,t){e.isLoading=!1,e.errors=t.payload}))}}),o=c.actions,d=c.reducer,u=n(5893),f=n(4387),h=n(4475),v=n(1138),p=n(2308),b=n(5044),x=n(1783),y=n(8263),m=n(4809),g=n(7294),j=n(5461),w=n(6458),S=n(530),k=n(1385),N=n(9142),B=n(9161),C=function(e){var t;return null===(t=e.editSpeciality)||void 0===t?void 0:t.isLoading},E=function(e){var t;return null===(t=e.editSpeciality)||void 0===t?void 0:t.errors};const I={tabBtn:"d68Swo89",tabsButtonsBlock:"yKjZnJY7",title:"uTM4Z0Ds",footerBtn:"cxP05qxd",greenBtn:"gWJ8Awru",redBtn:"hl9EPkFx",settings:"xrgxYv2v",newAddField:"GYuqLVEh",tabBlock:"fFc_23n0",form:"FgbSExLi",footer:"al13kbVF",message:"fqIkYj_u",messageIcon:"Lolb6SPK"};var O=function(){return O=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},O.apply(this,arguments)},D=function(e){var t=e.className,n=e.visible,i=e.setVisible,s=e.specialityId,c=e.onDeleteSpeciality,d=(0,j.T)(),D=(0,g.useState)(),L=D[0],F=D[1],z=(0,g.useRef)(null),R=(0,g.useState)(!1),A=R[0],_=R[1],T=(0,g.useState)(!1),M=T[0],H=T[1],X=(0,w.v9)(N.f7),V=(0,w.v9)(N.vn),Z=(0,w.v9)(N.S1),P=(0,w.v9)(C),K=(0,w.v9)(l),U=(0,w.v9)(E);(0,w.v9)(a.K2),(0,g.useEffect)((function(){s&&d((0,N.d7)(s))}),[d,s]);var Y,W=function(){i(!1),_(!1),H(!1)},q=function(){W(),d(o.clearNewFields())};return Y=P||V?(0,u.jsx)(v.O,{width:"100%",height:80}):Z?(0,u.jsx)(m.xv,O({theme:m.lg.ERROR,size:m.yH.M,weight:m.fs.SEMIBOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,u.jsx)("div",O({className:I.tab},{children:(0,u.jsxs)("div",O({className:I.tabBlock},{children:[(0,u.jsx)("div",O({className:I.settings},{children:(0,u.jsxs)("div",O({className:I.newAddField},{children:[(0,u.jsx)("h6",O({className:I.newAddFieldTitle},{children:"Наименование специальности"})),(0,u.jsx)(k.h,{type:"text",placeholder:"маркетолог",feedbackValid:U?"":"Здорово!",invalid:!!U,feedbackInvalid:"Введите корректные данные",value:(null==K?void 0:K.title)||"",onChange:function(e){d(o.setTitle(e.target.value))}})]}))})),(0,u.jsx)("div",O({className:I.settings},{children:(0,u.jsxs)("div",O({className:I.newAddField},{children:[(0,u.jsx)("h6",O({className:I.newAddFieldTitle},{children:"Код специальности"})),(0,u.jsx)(k.h,{type:"text",placeholder:"05200",feedbackValid:U?"":"Здорово!",invalid:!!U,feedbackInvalid:"Введите корректные данные",value:(null==K?void 0:K.code)||"",onChange:function(e){d(o.setCode(e.target.value))}})]}))}))]}))})),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.Tk,O({className:(0,f.A)(I.EditSpeciality,{},[t]),visible:n,onClose:W,size:"lg",alignment:"center"},{children:(0,u.jsxs)(h.lx,O({className:(0,f.A)(I.form,{},["needs-validation"]),noValidate:!0,validated:A,onSubmit:function(e){return t=void 0,n=void 0,a=function(){var t,n;return function(e,t){var n,i,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(l=0)),l;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,i=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){l.label=r[1];break}if(6===r[0]&&l.label<a[1]){l.label=a[1],a=r;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(r);break}a[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}(this,(function(i){switch(i.label){case 0:return e.preventDefault(),t=e.currentTarget,H(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),_(!0),t.checkValidity()?(null==X?void 0:X.speciality)!==(null==K?void 0:K.title)||(null==X?void 0:X.shifr_spec)!==(null==K?void 0:K.code)?[3,1]:(F(S.F.error("Для сохранения вы должны внести изменения!")),[3,3]):[3,3];case 1:return[4,d(r(s))];case 2:"fulfilled"===(n=i.sent()).meta.requestStatus&&(F(S.F.success("Информация о специальности успешно обновлена")),q()),"rejected"===n.meta.requestStatus&&H(!0),i.label=3;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,s){function l(e){try{c(a.next(e))}catch(e){s(e)}}function r(e){try{c(a.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,r)}c((a=a.apply(t,n||[])).next())}));var t,n,i,a}},{children:[(0,u.jsx)(h.p0,{children:P||V?(0,u.jsx)(v.O,{width:200,height:30}):(0,u.jsxs)(h.fl,{children:["Изменение специальности №",null==X?void 0:X.id_spec]})}),(0,u.jsx)(h.sD,{children:Y}),(0,u.jsxs)(h.Ym,O({className:I.footer},{children:[(0,u.jsx)("div",O({className:I.message},{children:M&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p.Z,{icon:b.D,customClassName:I.messageIcon}),(0,u.jsx)(m.xv,O({size:m.yH.M,weight:m.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,u.jsxs)("div",O({className:I.footerBtns},{children:[(0,u.jsx)(B.zx,O({theme:B.bn.OUTLINE,className:I.footerBtn,onClick:q},{children:(0,u.jsx)(m.xv,O({size:m.yH.XS,weight:m.fs.SEMIBOLD},{children:"Отмена"}))})),(0,u.jsxs)(B.zx,O({theme:B.bn.ERROR,className:(0,f.A)(I.footerBtn,{},[I.redBtn]),onClick:function(){c(X),W()},disabled:V||P||!!Z},{children:[(0,u.jsx)(m.xv,O({size:m.yH.XS,weight:m.fs.SEMIBOLD},{children:"Удалить"})),(0,u.jsx)(p.Z,{icon:x.N,className:I.btnIcon})]})),(0,u.jsxs)(B.zx,O({type:"submit",className:(0,f.A)(I.footerBtn,{},[I.greenBtn]),disabled:V||P||!!Z},{children:[(0,u.jsx)(m.xv,O({size:m.yH.XS,weight:m.fs.SEMIBOLD},{children:"Сохранить"})),(0,u.jsx)(p.Z,{icon:y.F,className:I.btnIcon})]}))]}))]}))]}))})),(0,u.jsx)(h.KF,{ref:z,push:L,placement:"top-end"})]})}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="95b48e29-441c-4a72-87d0-30ece1c0796d",e._sentryDebugIdIdentifier="sentry-dbid-95b48e29-441c-4a72-87d0-30ece1c0796d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[7284],{4108:(e,n,t)=>{t.d(n,{l9:()=>u,YR:()=>o,mT:()=>r,Hq:()=>a,_F:()=>i});var a=function(e){var n;return null===(n=e.eduModuleDetail)||void 0===n?void 0:n.error},i=function(e){var n;return null===(n=e.eduModuleDetail)||void 0===n?void 0:n.isLoading},r=function(e){var n;return null===(n=e.eduModuleDetail)||void 0===n?void 0:n.data},s=t(7168),l=t(1633),o=(0,s.hg)("references/fetchEducationalModuleDetail",(function(e,n){return t=void 0,a=void 0,r=function(){var t,a,i,r;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(s){switch(s.label){case 0:t=n.rejectWithValue,a=n.extra,i=n.dispatch,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,a.api.get("/curriculum/educational-modules/".concat(e))];case 2:return r=s.sent(),i(l.Fg.setEditEduModuleData(r.data)),[2,r.data];case 3:return"Failed to fetch"===s.sent().message?[2,t("timeout")]:[2,t("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,n){function s(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(t,a||[])).next())}));var t,a,i,r})),c=(0,s.oM)({name:"educationalModuleDetail",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(o.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(o.fulfilled,(function(e,n){e.isLoading=!1,e.data=n.payload})).addCase(o.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload}))}}),u=(c.actions,c.reducer)},1817:(e,n,t)=>{t.d(n,{fe:()=>H,pt:()=>v,Eb:()=>r,$w:()=>i,Ai:()=>c,ah:()=>u,BH:()=>d,zy:()=>s,GM:()=>l,cH:()=>o});var a=t(7168),i=(0,a.hg)("references/fetchEducationalUnits",(function(e,n){return t=void 0,a=void 0,r=function(){var e,t,a;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(i){switch(i.label){case 0:e=n.rejectWithValue,t=n.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.api.get("/curriculum/educational-modules/units")];case 2:return[2,i.sent().data];case 3:return"Failed to fetch"===(a=i.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:a.response.status,error:a.response.data.message})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,n){function s(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(t,a||[])).next())}));var t,a,i,r})),r=(0,a.hg)("references/fetchEducationalModules",(function(e,n){return t=void 0,a=void 0,r=function(){var e,t,a;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(i){switch(i.label){case 0:e=n.rejectWithValue,t=n.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.api.get("/curriculum/educational-modules")];case 2:return[2,i.sent().data];case 3:return"Failed to fetch"===(a=i.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:a.response.status,error:a.response.data.message})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,n){function s(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(t,a||[])).next())}));var t,a,i,r})),s=function(e){var n;return null===(n=e.eduModules)||void 0===n?void 0:n.dataUnits},l=function(e){var n;return null===(n=e.eduModules)||void 0===n?void 0:n.errorUnits},o=function(e){var n;return null===(n=e.eduModules)||void 0===n?void 0:n.isLoadingUnits},c=function(e){var n;return null===(n=e.eduModules)||void 0===n?void 0:n.data},u=function(e){var n;return null===(n=e.eduModules)||void 0===n?void 0:n.error},d=function(e){var n;return null===(n=e.eduModules)||void 0===n?void 0:n.isLoading},f=(0,a.oM)({name:"educationalModules",initialState:{data:void 0,dataUnits:[],isLoading:!0,isLoadingUnits:!0,error:void 0,errorUnits:void 0},reducers:{setUnitsToData:function(e){for(var n=e.data.length,t=function(n){var t=e.data[n].module_id,a=e.dataUnits.filter((function(e){return e.module_id===t}));e.data[n].units=a},a=0;a<n;a++)t(a)}},extraReducers:function(e){e.addCase(r.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(r.fulfilled,(function(e,n){e.isLoading=!1,e.data=n.payload})).addCase(r.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload})).addCase(i.pending,(function(e){e.errorUnits=void 0,e.isLoadingUnits=!0})).addCase(i.fulfilled,(function(e,n){e.isLoadingUnits=!1,e.dataUnits=n.payload})).addCase(i.rejected,(function(e,n){e.isLoadingUnits=!1,e.errorUnits=n.payload}))}}),h=f.actions,v=f.reducer,m=t(5893),p=t(4387),b=t(4475),x=t(2308),y=t(7152),g=t(1783),j=t(3280),w=t(7294),N=t(5461),S=t(6458),k=t(1138),E=t(4809),C=t(530),O=t(9161);const F={footerBtn:"d4dOfC0r",redBtn:"quEfHV1T",deleteText:"CK1rHd5f"};var I=(0,a.hg)("reference/deleteEduUnit",(function(e,n){return t=void 0,a=void 0,l=function(){var t,a,s,l;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(o){switch(o.label){case 0:t=n.rejectWithValue,a=n.extra,s=n.dispatch,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,a.api.delete("/curriculum/educational-modules/".concat(e))];case 2:return l=o.sent(),s(r()),s(i()),[2,l.data];case 3:return"Failed to fetch"===o.sent().message?[2,t("timeout")]:[2,t("ERROR")];case 4:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,n){function i(e){try{o(l.next(e))}catch(e){n(e)}}function r(e){try{o(l.throw(e))}catch(e){n(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,r)}o((l=l.apply(t,a||[])).next())}));var t,a,s,l})),B=function(){return B=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},B.apply(this,arguments)},M=function(e){var n=e.className,t=e.eduModule,a=e.visible,i=e.setVisible,r=(0,N.T)(),s=(0,w.useState)(),l=s[0],o=s[1],c=(0,w.useRef)(null),u=(0,w.useState)(!1),d=u[0],f=u[1],h=function(){i(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(b.Tk,B({className:(0,p.A)(F.DeleteEduModuleType,{},[n]),visible:a,onClose:h,size:"lg",alignment:"center"},{children:[(0,m.jsx)(b.p0,{children:(0,m.jsxs)(b.fl,{children:["Удаление модуля №",null==t?void 0:t.module_id]})}),(0,m.jsx)(b.sD,{children:(0,m.jsxs)(E.xv,B({size:E.yH.XM,className:F.deleteText},{children:["Вы действительно хотите удалить модуль"," ",(0,m.jsxs)("span",{children:["№",null==t?void 0:t.module_id," ","-"," ",'"'.concat(null==t?void 0:t.name,'"')]})," ","и все связанные с ним данные?"]}))}),(0,m.jsx)(b.Ym,B({className:F.footer},{children:(0,m.jsxs)("div",B({className:F.footerBtns},{children:[(0,m.jsx)(O.zx,B({theme:O.bn.OUTLINE,className:F.footerBtn,onClick:h},{children:(0,m.jsx)(E.xv,B({size:E.yH.XS,weight:E.fs.SEMIBOLD},{children:"Отмена"}))})),(0,m.jsxs)(O.zx,B({theme:O.bn.ERROR,className:(0,p.A)(F.footerBtn,{},[F.redBtn]),onClick:function(){var e;e=t.module_id.toString(),f(!0),r(I(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(o(C.F.success("Модуль №".concat(null==t?void 0:t.module_id," удален"))),h(),f(!1)):"rejected"===e.meta.requestStatus&&(o(C.F.error("Произошла ошибка при удалении, попробуйте снова")),f(!1))}))},disabled:d},{children:[(0,m.jsx)(E.xv,B({size:E.yH.XS,weight:E.fs.SEMIBOLD},{children:"Удалить"})),(0,m.jsx)(x.Z,{icon:g.N,className:F.btnIcon})]}))]}))}))]})),(0,m.jsx)(b.KF,{ref:c,push:l,placement:"top-end"})]})},A=t(1633),T=t(7974);const D={footerBtn:"TTPyNqbf",redBtn:"ljF4l2mY",deleteText:"L5NO7Fgs"};var L=(0,a.hg)("reference/deleteEduUnit",(function(e,n){var t,a,s,l,o=e[0],c=e[1];return t=void 0,a=void 0,l=function(){var e,t,a,s;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(l){switch(l.label){case 0:e=n.rejectWithValue,t=n.extra,a=n.dispatch,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t.api.delete("/curriculum/educational-modules/".concat(o,"/units/").concat(c))];case 2:return s=l.sent(),a(r()),a(i()),[2,s.data];case 3:return"Failed to fetch"===l.sent().message?[2,e("timeout")]:[2,e("ERROR")];case 4:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,n){function i(e){try{o(l.next(e))}catch(e){n(e)}}function r(e){try{o(l.throw(e))}catch(e){n(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,r)}o((l=l.apply(t,a||[])).next())}))})),R=function(){return R=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},R.apply(this,arguments)},z=function(e){var n=e.className,t=e.eduUnit,a=e.visible,i=e.setVisible,r=(0,N.T)(),s=(0,w.useState)(),l=s[0],o=s[1],c=(0,w.useRef)(null),u=(0,w.useState)(!1),d=u[0],f=u[1],h=function(){i(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(b.Tk,R({className:(0,p.A)(D.DeleteEduUnitType,{},[n]),visible:a,onClose:h,size:"lg",alignment:"center"},{children:[(0,m.jsx)(b.p0,{children:(0,m.jsxs)(b.fl,{children:["Удаление модульной единицы №",null==t?void 0:t.unit_id]})}),(0,m.jsx)(b.sD,{children:(0,m.jsxs)(E.xv,R({size:E.yH.XM,className:D.deleteText},{children:["Вы действительно хотите удалить модульную единицу"," ",(0,m.jsxs)("span",{children:["№",null==t?void 0:t.unit_id," ","-"," ",'"'.concat(null==t?void 0:t.name,'"')]})," ","и все связанные с ней данные?"]}))}),(0,m.jsx)(b.Ym,R({className:D.footer},{children:(0,m.jsxs)("div",R({className:D.footerBtns},{children:[(0,m.jsx)(O.zx,R({theme:O.bn.OUTLINE,className:D.footerBtn,onClick:h},{children:(0,m.jsx)(E.xv,R({size:E.yH.XS,weight:E.fs.SEMIBOLD},{children:"Отмена"}))})),(0,m.jsxs)(O.zx,R({theme:O.bn.ERROR,className:(0,p.A)(D.footerBtn,{},[D.redBtn]),onClick:function(){var e,n;e=String(t.module_id),n=String(t.unit_id),f(!0),r(L([e,n])).then((function(e){"fulfilled"===e.meta.requestStatus?(o(C.F.success("Модульная единица №".concat(null==t?void 0:t.unit_id," удалена"))),h(),f(!1)):"rejected"===e.meta.requestStatus&&(o(C.F.error("Произошла ошибка при удалении, попробуйте снова")),f(!1))}))},disabled:d},{children:[(0,m.jsx)(E.xv,R({size:E.yH.XS,weight:E.fs.SEMIBOLD},{children:"Удалить"})),(0,m.jsx)(x.Z,{icon:g.N,className:D.btnIcon})]}))]}))}))]})),(0,m.jsx)(b.KF,{ref:c,push:l,placement:"top-end"})]})},U=t(354);const _={row:"vkZNaOaH",rowAccordion:"KVmHf9Td",mainRow:"MKOtFjjH",column:"eT2zolra",firstColumn:"F3clt8jo",secondColumn:"fmmWr0wx",sixthColumn:"kmZnqK32",rowBody:"ABdJjNM0",rowInner:"vwTbDgwU",secondColumnInner:"To_eCneO",unitId:"H3EQWuhH",editBtn:"P5AYTzGP",btn:"usQS2xMp",btnGreen:"sysn_3Od",addUserIcon:"xPmkIvJy"};var V=function(){return V=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},V.apply(this,arguments)},H=function(e){var n=e.className,t=e.data,a=e.addingModalText,i=e.setVisibleAddEduModule,r=(0,N.T)(),f=(0,S.v9)(c),v=(0,S.v9)(s),C=(0,S.v9)(d),F=(0,S.v9)(o),I=(0,S.v9)(u),B=(0,S.v9)(l),D=(0,w.useState)(!1),L=D[0],R=D[1],H=(0,w.useState)(!1),P=H[0],q=H[1],G=(0,w.useState)(),X=G[0],Z=G[1],Y=(0,w.useState)(),K=Y[0],W=Y[1],Q=(0,w.useState)(!1),J=Q[0],$=Q[1],ee=(0,w.useState)(!1),ne=ee[0],te=ee[1],ae=(0,w.useState)(!1),ie=ae[0],re=ae[1],se=(0,w.useState)(),le=se[0],oe=se[1],ce=(0,w.useState)(),ue=ce[0],de=ce[1];(0,w.useEffect)((function(){C||I||!f||F||B||!v||r(h.setUnitsToData())}),[r,I,C,B,F,v]);var fe,he=(0,w.useCallback)((function(){i(!0)}),[i]),ve=(0,w.useCallback)((function(e){q(!0),Z(e)}),[]),me=(0,w.useCallback)((function(e){re(!0),oe(e)}),[]);return fe=C||F?(0,m.jsx)(k.O,{width:"100%",height:400,border:"8px"}):I||B?(0,m.jsx)(E.xv,V({theme:E.lg.ERROR,size:E.yH.M,weight:E.fs.SEMIBOLD,className:_.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):t&&t.length?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",V({className:(0,p.A)(_.row,{},[_.mainRow])},{children:[(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.firstColumn])},{children:"ID"})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.secondColumn])},{children:"Название"})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.thirdColumn])},{children:"Сокращение"})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.fourthColumn])},{children:"Сортировка"})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.fifthColumn])},{children:"Кредитов на модуль"})),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.sixthColumn])})]})),null==t?void 0:t.map((function(e){return(0,m.jsxs)(b.Ob,V({itemKey:e.module_id,className:(0,p.A)(_.row,{},[_.rowAccordion])},{children:[(0,m.jsxs)(b.Lv,V({className:_.rowHeader},{children:[(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.firstColumn])},{children:e.module_id})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.secondColumn])},{children:e.name})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.thirdColumn])},{children:e.short_name})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.fourthColumn])},{children:e.sort})),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.fifthColumn])},{children:e.study_time_in_credits?e.study_time_in_credits:"Нет"})),(0,m.jsxs)("div",V({className:(0,p.A)(_.column,{},[_.sixthColumn])},{children:[(0,m.jsx)(O.zx,V({theme:O.bn.OUTLINE,title:"Редактировать",className:_.editBtn,onClick:function(){var n;n=e.module_id.toString(),R(!0),W(n)}},{children:(0,m.jsx)(x.Z,{icon:y.l,customClassName:_.btnIcon})})),(0,m.jsx)(O.zx,V({theme:O.bn.OUTLINE,title:"Удалить",className:_.editBtn,onClick:function(){ve(e)}},{children:(0,m.jsx)(x.Z,{icon:g.N,customClassName:_.btnIcon})}))]}))]})),(0,m.jsxs)(b.qI,V({className:_.rowBody},{children:[e.units&&e.units.length?(0,m.jsx)("div",V({className:_.rowList},{children:e.units.map((function(e){return(0,m.jsxs)("div",V({className:(0,p.A)(_.row,{},[_.rowInner])},{children:[(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.firstColumn])}),(0,m.jsxs)("div",V({className:(0,p.A)(_.column,{},[_.secondColumn,_.secondColumnInner])},{children:[(0,m.jsx)("span",V({className:_.unitId},{children:e.unit_id})),(0,m.jsx)("span",{children:e.name})]})),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.thirdColumn])}),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.fourthColumn])},{children:e.sort})),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.fifthColumn])}),(0,m.jsxs)("div",V({className:(0,p.A)(_.column,{},[_.sixthColumn])},{children:[(0,m.jsx)(O.zx,V({theme:O.bn.OUTLINE,title:"Редактировать",className:_.editBtn,onClick:function(){var n,t;n=String(e.module_id),t=String(e.unit_id),te(!0),W(n),de(t)}},{children:(0,m.jsx)(x.Z,{icon:y.l,customClassName:_.btnIcon})})),(0,m.jsx)(O.zx,V({theme:O.bn.OUTLINE,title:"Удалить",className:_.editBtn,onClick:function(){me(e)}},{children:(0,m.jsx)(x.Z,{icon:g.N,customClassName:_.btnIcon})}))]}))]}),e.unit_id)}))})):"",(0,m.jsxs)("div",V({className:_.row},{children:[(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.firstColumn])}),(0,m.jsx)("div",V({className:(0,p.A)(_.column,{},[_.secondColumn])},{children:(0,m.jsx)(O.zx,V({theme:O.bn.OUTLINE,className:_.btn,onClick:function(){var n;n=String(e.module_id),$(!0),W(n)}},{children:(0,m.jsx)(E.xv,V({size:E.yH.XS},{children:"Добавить модульную единицу"}))}))})),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.thirdColumn])}),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.fourthColumn])}),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.fifthColumn])}),(0,m.jsx)("div",{className:(0,p.A)(_.column,{},[_.sixthColumn])})]}))]}))]}),e.module_id)}))]}):"Ничего не найдено...",(0,m.jsxs)("div",V({className:(0,p.A)(_.EducationalModules,{},[n])},{children:[(0,m.jsxs)(b.uz,V({alwaysOpen:!0,className:_.table},{children:[(0,m.jsxs)(O.zx,V({className:(0,p.A)(_.btn,{},[_.btnGreen]),onClick:he,disabled:!!I||!!B||C||F},{children:[(0,m.jsx)(E.xv,V({size:E.yH.XS,weight:E.fs.SEMIBOLD},{children:a})),(0,m.jsx)(x.Z,{icon:j.q,className:(0,p.A)(_.btnIcon,{},[_.addUserIcon])})]})),fe]})),(0,m.jsx)(A.wr,{visible:L,setVisible:R,eduModuleId:K,onDeleteEduModule:ve}),(0,m.jsx)(M,{eduModule:X,visible:P,setVisible:q}),(0,m.jsx)(T.mE,{visible:J,setVisible:$,moduleId:Number(K)}),(0,m.jsx)(U.ID,{visible:ne,setVisible:te,eduUnitId:ue,eduModuleId:K,onDeleteEduUnit:me}),(0,m.jsx)(z,{eduUnit:le,visible:ie,setVisible:re})]}))}},767:(e,n,t)=>{t.d(n,{xZ:()=>u,n2:()=>o,F:()=>r,PR:()=>a,zS:()=>i});var a=function(e){var n;return null===(n=e.eduUnitDetail)||void 0===n?void 0:n.error},i=function(e){var n;return null===(n=e.eduUnitDetail)||void 0===n?void 0:n.isLoading},r=function(e){var n;return null===(n=e.eduUnitDetail)||void 0===n?void 0:n.data},s=t(7168),l=t(354),o=(0,s.hg)("references/fetchEducationalUnitDetail",(function(e,n){var t,a,i,r,s=e[0],o=e[1];return t=void 0,a=void 0,r=function(){var e,t,a,i;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(r){switch(r.label){case 0:e=n.rejectWithValue,t=n.extra,a=n.dispatch,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.api.get("/curriculum/educational-modules/".concat(s,"/units/").concat(o))];case 2:return i=r.sent(),a(l.Ch.setEditEduUnitData(i.data)),[2,i.data];case 3:return"Failed to fetch"===r.sent().message?[2,e("timeout")]:[2,e("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,n){function s(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(t,a||[])).next())}))})),c=(0,s.oM)({name:"educationalUnitDetail",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(o.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(o.fulfilled,(function(e,n){e.isLoading=!1,e.data=n.payload})).addCase(o.rejected,(function(e,n){e.isLoading=!1,e.error=n.payload}))}}),u=(c.actions,c.reducer)},1633:(e,n,t)=>{t.d(n,{wr:()=>T,Fg:()=>u,yw:()=>d});var a=t(7168),i=t(1817),r=t(4108),s=function(e){var n;return null===(n=e.editEduModule)||void 0===n?void 0:n.newFields},l=(0,a.hg)("reference/editEduUnit",(function(e,n){return t=void 0,a=void 0,o=function(){var t,a,l,o,c,u,d;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(f){switch(f.label){case 0:t=n.rejectWithValue,a=n.extra,l=n.dispatch,o=n.getState,c=s(o()),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a.api.put("/curriculum/educational-modules/".concat(e),c)];case 2:return u=f.sent(),l((0,i.Eb)()),l((0,i.$w)()),l((0,r.YR)(e)),[2,u.data];case 3:return d=f.sent(),[2,t({errors:d.response.data.errors,status:d.response.status})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,n){function i(e){try{s(o.next(e))}catch(e){n(e)}}function r(e){try{s(o.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof l?t:new l((function(e){e(t)}))).then(i,r)}s((o=o.apply(t,a||[])).next())}));var t,a,l,o})),o={data:void 0,newFields:void 0,isLoading:!1,errors:void 0},c=(0,a.oM)({name:"editEduModule",initialState:o,reducers:{setEditEduModuleData:function(e,n){n.payload&&(e.data=n.payload,e.newFields=n.payload)},setName:function(e,n){e.newFields.name=n.payload},setShortName:function(e,n){e.newFields.short_name=n.payload},setSort:function(e,n){e.newFields.sort=Number(n.payload)},setStudyTimeInCredits:function(e,n){e.newFields.study_time_in_credits=Number(n.payload)},clearNewFields:function(e){e.newFields=o.data,e.errors=void 0}},extraReducers:function(e){e.addCase(l.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(l.fulfilled,(function(e){e.isLoading=!1})).addCase(l.rejected,(function(e,n){e.isLoading=!1,e.errors=n.payload}))}}),u=c.actions,d=c.reducer,f=t(5893),h=t(4387),v=t(4475),m=t(1138),p=t(2308),b=t(5044),x=t(1783),y=t(8263),g=t(4809),j=t(7294),w=t(5461),N=t(6458),S=t(530),k=t(1385),E=t(622),C=t(6890),O=t(9161),F=function(e){var n;return null===(n=e.editEduModule)||void 0===n?void 0:n.isLoading},I=function(e){var n;return null===(n=e.editEduModule)||void 0===n?void 0:n.errors};const B={tabBtn:"G09YWBom",tabsButtonsBlock:"HlxFSHYA",title:"YZ9MS7zg",footerBtn:"JuTl6ajW",greenBtn:"NsOs9EMO",redBtn:"a2ijgGG4",settings:"Mi0tWkTt",newAddField:"zyglcO5y",tabBlock:"pf8hRtf7",form:"XbfD1tYf",footer:"xOzjrkh8",message:"bRydMWP9",messageIcon:"lrXA4fQJ"};var M=function(e){var n;return null===(n=e.editEduModule)||void 0===n?void 0:n.data},A=function(){return A=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},A.apply(this,arguments)},T=function(e){var n=e.className,t=e.visible,a=e.setVisible,i=e.eduModuleId,o=e.onDeleteEduModule,c=(0,w.T)(),d=(0,j.useState)(),T=d[0],D=d[1],L=(0,j.useRef)(null),R=(0,j.useState)(!1),z=R[0],U=R[1],_=(0,j.useState)(!1),V=_[0],H=_[1],P=(0,N.v9)(r.mT),q=(0,N.v9)(r._F),G=(0,N.v9)(r.Hq),X=(0,N.v9)(M),Z=(0,N.v9)(F),Y=(0,N.v9)(s),K=(0,N.v9)(I);(0,j.useEffect)((function(){i&&c((0,r.YR)(i))}),[c,i]);var W,Q=function(){a(!1),U(!1),H(!1)},J=function(){Q(),c(u.clearNewFields())},$=(0,j.useCallback)((function(e){c(u.setName(e.target.value))}),[c]),ee=(0,j.useCallback)((function(e){c(u.setShortName(e.target.value))}),[c]),ne=(0,j.useCallback)((function(e){c(u.setSort(e.target.value))}),[c]),te=(0,j.useCallback)((function(e){c(u.setStudyTimeInCredits(e.target.value))}),[c]);return W=Z||q?(0,f.jsx)(m.O,{width:"100%",height:80}):G?(0,f.jsx)(g.xv,A({theme:g.lg.ERROR,size:g.yH.M,weight:g.fs.SEMIBOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,f.jsx)("div",A({className:B.tab},{children:(0,f.jsxs)("div",A({className:B.tabBlock},{children:[(0,f.jsx)("div",A({className:B.settings},{children:(0,f.jsxs)("div",A({className:B.newAddField},{children:[(0,f.jsx)("h6",A({className:B.newAddFieldTitle},{children:"Название"})),(0,f.jsx)(k.h,{type:"text",placeholder:"Базовые модули",feedbackValid:K?"":"Здорово!",invalid:!!K,feedbackInvalid:"Введите корректные данные",value:(null==Y?void 0:Y.name)||"",onChange:$})]}))})),(0,f.jsx)("div",A({className:B.settings},{children:(0,f.jsxs)("div",A({className:B.newAddField},{children:[(0,f.jsx)("h6",A({className:B.newAddFieldTitle},{children:"Сокращение"})),(0,f.jsx)(k.h,{type:"text",placeholder:"БМ",feedbackValid:K?"":"Здорово!",invalid:!!K,feedbackInvalid:"Введите корректные данные",value:(null==Y?void 0:Y.short_name)||"",onChange:ee})]}))})),(0,f.jsx)("div",A({className:B.settings},{children:(0,f.jsxs)("div",A({className:B.newAddField},{children:[(0,f.jsx)("h6",A({className:B.newAddFieldTitle},{children:"Сортировка"})),(0,f.jsx)(k.h,{type:"number",placeholder:"100",min:100,step:100,feedbackValid:K?"":"Здорово!",invalid:!!K,feedbackInvalid:"Введите корректные данные",value:String(null==Y?void 0:Y.sort)||"",onChange:ne})]}))})),(0,f.jsx)("div",A({className:B.settings},{children:(0,f.jsxs)("div",A({className:B.newAddField},{children:[(0,f.jsx)("h6",A({className:B.newAddFieldTitle},{children:"Кредитов на модуль"})),(0,f.jsx)(k.h,{type:"number",placeholder:"60",feedbackValid:K?"":"Здорово!",invalid:!!K,feedbackInvalid:"Введите корректные данные",value:String(null==Y?void 0:Y.study_time_in_credits)||"",onChange:te})]}))}))]}))})),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v.Tk,A({className:(0,h.A)(B.EditEduModule,{},[n]),visible:t,onClose:Q,size:"lg",alignment:"center"},{children:(0,f.jsxs)(v.lx,A({className:(0,h.A)(B.form,{},["needs-validation"]),noValidate:!0,validated:z,onSubmit:function(e){return n=void 0,t=void 0,r=function(){var n,t,a;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(r){switch(r.label){case 0:return e.preventDefault(),n=e.currentTarget,H(!n.checkValidity()),n.checkValidity()||e.stopPropagation(),U(!0),n.checkValidity()?(t=(0,E.T)(X,Y),(0,C.Q)(t)?(D(S.F.error("Для сохранения вы должны внести изменения!")),[3,3]):[3,1]):[3,3];case 1:return[4,c(l(i))];case 2:"fulfilled"===(a=r.sent()).meta.requestStatus&&(D(S.F.success("Информация о модуле успешно обновлена")),J()),"rejected"===a.meta.requestStatus&&H(!0),r.label=3;case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,i){function s(e){try{o(r.next(e))}catch(e){i(e)}}function l(e){try{o(r.throw(e))}catch(e){i(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,l)}o((r=r.apply(n,t||[])).next())}));var n,t,a,r}},{children:[(0,f.jsx)(v.p0,{children:Z||q?(0,f.jsx)(m.O,{width:200,height:30}):(0,f.jsxs)(v.fl,{children:["Изменение модуля №",null==P?void 0:P.module_id]})}),(0,f.jsx)(v.sD,{children:W}),(0,f.jsxs)(v.Ym,A({className:B.footer},{children:[(0,f.jsx)("div",A({className:B.message},{children:V&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.Z,{icon:b.D,customClassName:B.messageIcon}),(0,f.jsx)(g.xv,A({size:g.yH.M,weight:g.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,f.jsxs)("div",A({className:B.footerBtns},{children:[(0,f.jsx)(O.zx,A({theme:O.bn.OUTLINE,className:B.footerBtn,onClick:J},{children:(0,f.jsx)(g.xv,A({size:g.yH.XS,weight:g.fs.SEMIBOLD},{children:"Отмена"}))})),(0,f.jsxs)(O.zx,A({theme:O.bn.ERROR,className:(0,h.A)(B.footerBtn,{},[B.redBtn]),onClick:function(){o(P),Q()},disabled:q||Z||!!G},{children:[(0,f.jsx)(g.xv,A({size:g.yH.XS,weight:g.fs.SEMIBOLD},{children:"Удалить"})),(0,f.jsx)(p.Z,{icon:x.N,className:B.btnIcon})]})),(0,f.jsxs)(O.zx,A({type:"submit",className:(0,h.A)(B.footerBtn,{},[B.greenBtn]),disabled:q||Z||!!G},{children:[(0,f.jsx)(g.xv,A({size:g.yH.XS,weight:g.fs.SEMIBOLD},{children:"Сохранить"})),(0,f.jsx)(p.Z,{icon:y.F,className:B.btnIcon})]}))]}))]}))]}))})),(0,f.jsx)(v.KF,{ref:L,push:T,placement:"top-end"})]})}},7974:(e,n,t)=>{t.d(n,{mE:()=>I,TW:()=>d});var a=t(7168),i=t(1817),r=function(e){var n;return null===(n=e.addEduUnit)||void 0===n?void 0:n.data},s=function(){return s=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},s.apply(this,arguments)},l=(0,a.hg)("references/addEduUnit",(function(e,n){return t=void 0,a=void 0,o=function(){var t,a,l,o,c,d,f,h;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(v){switch(v.label){case 0:t=n.rejectWithValue,a=n.extra,l=n.dispatch,o=n.getState,c=r(o()),d=s(s({},c),{module_id:e}),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,a.api.post("/curriculum/educational-modules/".concat(e,"/units"),d)];case 2:return f=v.sent(),l((0,i.Eb)()),l((0,i.$w)()),l(u.clearData()),[2,f.data];case 3:return h=v.sent(),[2,t({errors:h.response.data.errors,status:h.response.status})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,n){function i(e){try{s(o.next(e))}catch(e){n(e)}}function r(e){try{s(o.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof l?t:new l((function(e){e(t)}))).then(i,r)}s((o=o.apply(t,a||[])).next())}));var t,a,l,o})),o={data:{name:"",sort:null},isLoading:!1,errors:void 0},c=(0,a.oM)({name:"addEduUnit",initialState:o,reducers:{clearData:function(e){e.data=o.data},setName:function(e,n){e.data.name=n.payload},setSort:function(e,n){e.data.sort=Number(n.payload)}},extraReducers:function(e){e.addCase(l.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(l.fulfilled,(function(e){e.isLoading=!1})).addCase(l.rejected,(function(e,n){e.isLoading=!1,e.errors=n.payload}))}}),u=c.actions,d=c.reducer,f=t(5893),h=t(4387),v=t(5461),m=t(7294),p=t(4475),b=t(1385),x=t(2308),y=t(5044),g=t(3280),j=t(4809),w=t(6458),N=t(530),S=t(4108),k=t(1138),E=t(9161);const C={tabBtn:"a71Cv7j5",tabsButtonsBlock:"CIMDM7ZX",title:"V8bwEK7L",settings:"t8lSnj86",newAddField:"n5GrQ5XJ",tabBlock:"VrDOO9wE",form:"VaNRmc3I",footerBtn:"gl14CEzR",greenBtn:"vH0hpxyh",footer:"cmi7qg20",message:"qVtGvghu",messageIcon:"rKapC7oO"};var O=function(e){var n;return null===(n=e.addEduUnit)||void 0===n?void 0:n.errors},F=function(){return F=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},F.apply(this,arguments)},I=function(e){var n,t=e.className,a=e.visible,i=e.setVisible,s=e.moduleId,o=(0,v.T)(),c=(0,m.useState)(!1),d=c[0],I=c[1],B=(0,m.useState)(!1),M=B[0],A=B[1],T=(0,m.useState)(),D=T[0],L=T[1],R=(0,m.useRef)(null),z=(0,w.v9)(S.mT),U=(0,w.v9)(S._F),_=(0,w.v9)(S.Hq),V=(0,w.v9)(r),H=(0,w.v9)(O),P=(0,m.useCallback)((function(){i(!1)}),[i]),q=function(){P(),I(!1),A(!1)},G=(0,m.useCallback)((function(e){o(u.setName(e.target.value))}),[o]),X=(0,m.useCallback)((function(e){o(u.setSort(e.target.value))}),[o]);return(0,m.useEffect)((function(){s&&o((0,S.YR)("".concat(s)))}),[o,s]),n=U?(0,f.jsx)(k.O,{width:"100%",height:80}):_?(0,f.jsx)(j.xv,F({theme:j.lg.ERROR,size:j.yH.M,weight:j.fs.SEMIBOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,f.jsx)("div",F({className:C.tab},{children:(0,f.jsxs)("div",F({className:C.tabBlock},{children:[(0,f.jsx)("div",F({className:C.settings},{children:(0,f.jsxs)("div",F({className:C.newAddField},{children:[(0,f.jsx)("h6",F({className:C.newAddFieldTitle},{children:"Модуль"})),(0,f.jsx)(p.jO,{type:"text",value:"".concat(null==z?void 0:z.module_id," - ").concat(null==z?void 0:z.name)||"",readOnly:!0})]}))})),(0,f.jsx)("div",F({className:C.settings},{children:(0,f.jsxs)("div",F({className:C.newAddField},{children:[(0,f.jsx)("h6",F({className:C.newAddFieldTitle},{children:"Название*"})),(0,f.jsx)(b.h,{type:"text",placeholder:"Развитие и совершенствование физических качеств",feedbackValid:H?"":"Здорово!",invalid:!!H,feedbackInvalid:"Введите корректные данные!",value:(null==V?void 0:V.name)||"",onChange:G,required:!0})]}))})),(0,f.jsx)("div",F({className:C.settings},{children:(0,f.jsxs)("div",F({className:C.newAddField},{children:[(0,f.jsx)("h6",F({className:C.newAddFieldTitle},{children:"Сортировка*"})),(0,f.jsx)(b.h,{type:"number",placeholder:"100",min:100,step:100,feedbackValid:H?"":"Здорово!",invalid:!!H,feedbackInvalid:"Введите корректные данные!",value:String(null==V?void 0:V.sort)||"",onChange:X,required:!0})]}))}))]}))})),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.Tk,F({className:(0,h.A)(C.AddEduUnit,{},[t]),visible:a,onClose:P,size:"lg",alignment:"center"},{children:(0,f.jsxs)(p.lx,F({className:(0,h.A)(C.form,{},["needs-validation"]),noValidate:!0,validated:d,onSubmit:function(e){return n=void 0,t=void 0,i=function(){var n,t;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(a){switch(a.label){case 0:return e.preventDefault(),n=e.currentTarget,A(!n.checkValidity()),n.checkValidity()||e.stopPropagation(),I(!0),n.checkValidity()?(null==V?void 0:V.name)&&V.sort?[4,o(l(s))]:[3,2]:[3,3];case 1:return"fulfilled"===(t=a.sent()).meta.requestStatus&&(L(N.F.success("Модуль добавлен")),q()),"rejected"===t.meta.requestStatus&&A(!0),[3,3];case 2:A(!0),a.label=3;case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,r){function s(e){try{o(i.next(e))}catch(e){r(e)}}function l(e){try{o(i.throw(e))}catch(e){r(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,l)}o((i=i.apply(n,t||[])).next())}));var n,t,a,i}},{children:[(0,f.jsx)(p.p0,{children:(0,f.jsx)(p.fl,{children:"Добавить модульную единицу"})}),(0,f.jsx)(p.sD,{children:n}),(0,f.jsxs)(p.Ym,F({className:C.footer},{children:[(0,f.jsx)("div",F({className:C.message},{children:M&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z,{icon:y.D,customClassName:C.messageIcon}),(0,f.jsx)(j.xv,F({size:j.yH.M,weight:j.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,f.jsxs)("div",F({className:C.footerBtns},{children:[(0,f.jsx)(E.zx,F({theme:E.bn.OUTLINE,className:C.footerBtn,onClick:q},{children:(0,f.jsx)(j.xv,F({size:j.yH.XS,weight:j.fs.SEMIBOLD},{children:"Отмена"}))})),(0,f.jsxs)(E.zx,F({type:"submit",className:(0,h.A)(C.footerBtn,{},[C.greenBtn])},{children:[(0,f.jsx)(j.xv,F({size:j.yH.XS,weight:j.fs.SEMIBOLD},{children:"Добавить"})),(0,f.jsx)(x.Z,{icon:g.q,className:C.btnIcon})]}))]}))]}))]}))})),(0,f.jsx)(p.KF,{ref:R,push:D,placement:"top-end"})]})}},354:(e,n,t)=>{t.d(n,{ID:()=>D,Ch:()=>d,tC:()=>f});var a=t(7168),i=t(1817),r=t(4108),s=t(767),l=function(e){var n;return null===(n=e.editEduUnit)||void 0===n?void 0:n.newFields},o=(0,a.hg)("reference/editEduUnit",(function(e,n){var t,a,o,c,u=e[0],d=e[1];return t=void 0,a=void 0,c=function(){var e,t,a,o,c,f,h;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(v){switch(v.label){case 0:e=n.rejectWithValue,t=n.extra,a=n.dispatch,o=n.getState,c=l(o()),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,t.api.put("/curriculum/educational-modules/".concat(u,"/units/").concat(d),c)];case 2:return f=v.sent(),a((0,i.Eb)()),a((0,i.$w)()),a((0,r.YR)(u)),a((0,s.n2)([u,d])),[2,f.data];case 3:return h=v.sent(),[2,e({errors:h.response.data.errors,status:h.response.status})];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{s(c.next(e))}catch(e){n(e)}}function r(e){try{s(c.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,r)}s((c=c.apply(t,a||[])).next())}))})),c={data:void 0,newFields:void 0,isLoading:!1,errors:void 0},u=(0,a.oM)({name:"editEduUnit",initialState:c,reducers:{setEditEduUnitData:function(e,n){n.payload&&(e.data=n.payload,e.newFields=n.payload)},setName:function(e,n){e.newFields.name=n.payload},setSort:function(e,n){e.newFields.sort=Number(n.payload)},clearNewFields:function(e){e.newFields=c.data,e.errors=void 0}},extraReducers:function(e){e.addCase(o.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(o.fulfilled,(function(e){e.isLoading=!1})).addCase(o.rejected,(function(e,n){e.isLoading=!1,e.errors=n.payload}))}}),d=u.actions,f=u.reducer,h=t(5893),v=t(4387),m=t(4475),p=t(1138),b=t(2308),x=t(5044),y=t(1783),g=t(8263),j=t(4809),w=t(7294),N=t(5461),S=t(6458),k=t(530),E=t(1385),C=t(622),O=t(6890),F=t(9161),I=function(e){var n;return null===(n=e.editEduUnit)||void 0===n?void 0:n.isLoading},B=function(e){var n;return null===(n=e.editEduUnit)||void 0===n?void 0:n.errors};const M={tabBtn:"MQEXqzCE",tabsButtonsBlock:"do6bEDEy",title:"awnrlsTG",footerBtn:"zbDSi4RX",greenBtn:"QKzwJ3aL",redBtn:"qCGDuBoP",settings:"uOVZMHKr",newAddField:"gOeaamnG",tabBlock:"lwHodmCF",form:"obkD1zRr",footer:"sUJhqKzB",message:"poVC_KQB",messageIcon:"c1dYxAiQ"};var A=function(e){var n;return null===(n=e.editEduUnit)||void 0===n?void 0:n.data},T=function(){return T=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},T.apply(this,arguments)},D=function(e){var n=e.className,t=e.visible,a=e.setVisible,i=e.eduUnitId,c=e.eduModuleId,u=e.onDeleteEduUnit,f=(0,N.T)(),D=(0,w.useState)(),L=D[0],R=D[1],z=(0,w.useRef)(null),U=(0,w.useState)(!1),_=U[0],V=U[1],H=(0,w.useState)(!1),P=H[0],q=H[1],G=(0,S.v9)(r.mT),X=(0,S.v9)(r._F),Z=(0,S.v9)(r.Hq),Y=(0,S.v9)(s.F),K=(0,S.v9)(s.zS),W=(0,S.v9)(s.PR),Q=(0,S.v9)(A),J=(0,S.v9)(I),$=(0,S.v9)(l),ee=(0,S.v9)(B);(0,w.useEffect)((function(){c&&f((0,r.YR)(c))}),[f,c]),(0,w.useEffect)((function(){i&&f((0,s.n2)([c,i]))}),[f,c,i]);var ne,te=function(){a(!1),V(!1),q(!1)},ae=function(){te(),f(d.clearNewFields())},ie=(0,w.useCallback)((function(e){f(d.setName(e.target.value))}),[f]),re=(0,w.useCallback)((function(e){f(d.setSort(e.target.value))}),[f]);return ne=J||K||X?(0,h.jsx)(p.O,{width:"100%",height:80}):W||Z?(0,h.jsx)(j.xv,T({theme:j.lg.ERROR,size:j.yH.M,weight:j.fs.SEMIBOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,h.jsx)("div",T({className:M.tab},{children:(0,h.jsxs)("div",T({className:M.tabBlock},{children:[(0,h.jsx)("div",T({className:M.settings},{children:(0,h.jsxs)("div",T({className:M.newAddField},{children:[(0,h.jsx)("h6",T({className:M.newAddFieldTitle},{children:"Модуль"})),(0,h.jsx)(m.jO,{type:"text",value:"".concat(null==G?void 0:G.module_id," - ").concat(null==G?void 0:G.name)||"",readOnly:!0})]}))})),(0,h.jsx)("div",T({className:M.settings},{children:(0,h.jsxs)("div",T({className:M.newAddField},{children:[(0,h.jsx)("h6",T({className:M.newAddFieldTitle},{children:"Название"})),(0,h.jsx)(E.h,{type:"text",placeholder:"Развитие и совершенствование физических качеств",feedbackValid:ee?"":"Здорово!",invalid:!!ee,feedbackInvalid:"Введите корректные данные",value:(null==$?void 0:$.name)||"",onChange:ie})]}))})),(0,h.jsx)("div",T({className:M.settings},{children:(0,h.jsxs)("div",T({className:M.newAddField},{children:[(0,h.jsx)("h6",T({className:M.newAddFieldTitle},{children:"Сортировка"})),(0,h.jsx)(E.h,{type:"number",placeholder:"100",min:100,step:100,feedbackValid:ee?"":"Здорово!",invalid:!!ee,feedbackInvalid:"Введите корректные данные",value:String(null==$?void 0:$.sort)||"",onChange:re})]}))}))]}))})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Tk,T({className:(0,v.A)(M.EditEduUnit,{},[n]),visible:t,onClose:te,size:"lg",alignment:"center"},{children:(0,h.jsxs)(m.lx,T({className:(0,v.A)(M.form,{},["needs-validation"]),noValidate:!0,validated:_,onSubmit:function(e){return n=void 0,t=void 0,r=function(){var n,t,a;return function(e,n){var t,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(s=0)),s;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,a=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(e,s)}catch(e){l=[6,e],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}(this,(function(r){switch(r.label){case 0:return e.preventDefault(),n=e.currentTarget,q(!n.checkValidity()),n.checkValidity()||e.stopPropagation(),V(!0),n.checkValidity()?(t=(0,C.T)(Q,$),(0,O.Q)(t)?(R(k.F.error("Для сохранения вы должны внести изменения!")),[3,3]):[3,1]):[3,3];case 1:return[4,f(o([c,i]))];case 2:"fulfilled"===(a=r.sent()).meta.requestStatus&&(R(k.F.success("Информация о модульной единице успешно обновлена")),ae()),"rejected"===a.meta.requestStatus&&q(!0),r.label=3;case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,i){function s(e){try{o(r.next(e))}catch(e){i(e)}}function l(e){try{o(r.throw(e))}catch(e){i(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,l)}o((r=r.apply(n,t||[])).next())}));var n,t,a,r}},{children:[(0,h.jsx)(m.p0,{children:J||K?(0,h.jsx)(p.O,{width:200,height:30}):(0,h.jsxs)(m.fl,{children:["Изменение модульной единицы №",null==Y?void 0:Y.unit_id]})}),(0,h.jsx)(m.sD,{children:ne}),(0,h.jsxs)(m.Ym,T({className:M.footer},{children:[(0,h.jsx)("div",T({className:M.message},{children:P&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b.Z,{icon:x.D,customClassName:M.messageIcon}),(0,h.jsx)(j.xv,T({size:j.yH.M,weight:j.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,h.jsxs)("div",T({className:M.footerBtns},{children:[(0,h.jsx)(F.zx,T({theme:F.bn.OUTLINE,className:M.footerBtn,onClick:ae},{children:(0,h.jsx)(j.xv,T({size:j.yH.XS,weight:j.fs.SEMIBOLD},{children:"Отмена"}))})),(0,h.jsxs)(F.zx,T({theme:F.bn.ERROR,className:(0,v.A)(M.footerBtn,{},[M.redBtn]),onClick:function(){u(Y),te()},disabled:K||J||!!W},{children:[(0,h.jsx)(j.xv,T({size:j.yH.XS,weight:j.fs.SEMIBOLD},{children:"Удалить"})),(0,h.jsx)(b.Z,{icon:y.N,className:M.btnIcon})]})),(0,h.jsxs)(F.zx,T({type:"submit",className:(0,v.A)(M.footerBtn,{},[M.greenBtn]),disabled:K||J||!!W},{children:[(0,h.jsx)(j.xv,T({size:j.yH.XS,weight:j.fs.SEMIBOLD},{children:"Сохранить"})),(0,h.jsx)(b.Z,{icon:g.F,className:M.btnIcon})]}))]}))]}))]}))})),(0,h.jsx)(m.KF,{ref:z,push:L,placement:"top-end"})]})}}}]);
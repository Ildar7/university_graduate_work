!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="373be496-90a1-41ac-9063-c0e5390f44c0",e._sentryDebugIdIdentifier="sentry-dbid-373be496-90a1-41ac-9063-c0e5390f44c0")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[6648],{6648:(e,n,t)=>{t.d(n,{s4:()=>O,tb:()=>o,kg:()=>i,rb:()=>s,MX:()=>r,sE:()=>c,yl:()=>u,kn:()=>l,a1:()=>k,vW:()=>D});var a=t(7168),o=(0,a.hg)("settings/fetchCollegeCoreOptions",(function(e,n){return t=void 0,a=void 0,r=function(){var e,t,a,o;return function(e,n){var t,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(u){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(i=0)),i;)try{if(t=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],a=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(r){switch(r.label){case 0:e=n.rejectWithValue,t=n.extra,a=n.dispatch,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.api.get("/core/options/")];case 2:return o=r.sent(),a(k.setDataToChange(o.data)),[2,o.data];case 3:return r.sent(),[2,e("ERROR")];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{u(r.next(e))}catch(e){n(e)}}function l(e){try{u(r.throw(e))}catch(e){n(e)}}function u(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,l)}u((r=r.apply(t,a||[])).next())}));var t,a,o,r})),r=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.dataToChange},i=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.isLoadingChangeField},l=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.tabs},u=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.isLoadingCollegeData},c=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.errorCollegeData},s=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.data},d=t(5893),f=t(4387),p=t(5461),g=t(7294),v=t(6458),h=t(4475),y=t(530),b=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.changeStatus},C=t(9161),w=t(4809),m=(0,a.hg)("settings/changeCollegeCoreOptionField",(function(e,n){return t=void 0,a=void 0,i=function(){var t,a,r,i;return function(e,n){var t,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(u){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(i=0)),i;)try{if(t=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],a=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(l){switch(l.label){case 0:t=n.rejectWithValue,a=n.extra,r=n.dispatch,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,a.api.put("/core/options/",e)];case 2:return i=l.sent(),r(o()),[2,i.data];case 3:return l.sent(),[2,t("ERROR")];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,n){function o(e){try{u(i.next(e))}catch(e){n(e)}}function l(e){try{u(i.throw(e))}catch(e){n(e)}}function u(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}u((i=i.apply(t,a||[])).next())}));var t,a,r,i})),x=function(){return x=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},x.apply(this,arguments)},j=function(e,n,t){if(t||2===arguments.length)for(var a,o=0,r=n.length;o<r;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return e.concat(a||Array.prototype.slice.call(n))},S=(0,a.oM)({name:"settingsMainCollege",initialState:{data:void 0,dataToChange:void 0,tabs:[],isLoadingCollegeData:!0,errorCollegeData:void 0,changeStatus:void 0,isLoadingChangeField:!1,errorChangeField:void 0},reducers:{undefineChangeStatus:function(e){e.changeStatus=void 0},undefineChangeError:function(e){e.errorChangeField=void 0},setDataToChange:function(e,n){e.dataToChange=n.payload},setTabs:function(e,n){e.tabs=j([],n.payload,!0)},changeActiveTab:function(e,n){var t=e.tabs.map((function(e){return x(x({},e),{active:!1})})).map((function(e){return e.name===n.payload?x(x({},e),{active:!0}):x({},e)}));e.tabs=j([],t,!0)},editOptionValue:function(e,n){"number"===n.payload[3]?n.payload[2].includes(".")||(e.dataToChange[n.payload[0]].options=e.dataToChange[n.payload[0]].options.map((function(e){return e.id===n.payload[1]?x(x({},e),{value:Number(n.payload[2])}):x({},e)}))):e.dataToChange[n.payload[0]].options=e.dataToChange[n.payload[0]].options.map((function(e){return e.id===n.payload[1]?x(x({},e),{value:n.payload[2]}):x({},e)}))}},extraReducers:function(e){e.addCase(o.pending,(function(e){e.errorCollegeData=void 0,e.isLoadingCollegeData=!0})).addCase(o.fulfilled,(function(e,n){e.isLoadingCollegeData=!1,e.data=n.payload})).addCase(o.rejected,(function(e,n){e.isLoadingCollegeData=!1,e.errorCollegeData=n.payload})).addCase(m.pending,(function(e){e.errorChangeField=void 0,e.isLoadingChangeField=!0})).addCase(m.fulfilled,(function(e,n){e.isLoadingChangeField=!1,e.changeStatus=n.payload})).addCase(m.rejected,(function(e,n){e.isLoadingChangeField=!1,e.errorChangeField=n.payload}))}}),k=S.actions,D=S.reducer,F=function(e){var n;return null===(n=e.settingsMainCollege)||void 0===n?void 0:n.errorChangeField};const T={SettingsMainCollege:"vAPDBnnK",section:"bh3dLknj",optionsSave:"FPDo6fLt"};var E=function(){return E=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},E.apply(this,arguments)},O=function(e){var n=e.className,t=e.options,a=e.activeTabName,o=(0,p.T)(),l=(0,v.v9)(s),u=(0,v.v9)(r),c=(0,v.v9)(b),x=(0,v.v9)(F),j=(0,v.v9)(i),S=(0,g.useState)(),D=S[0],O=S[1],L=(0,g.useRef)(null),M=(0,g.useCallback)((function(e,n,t){o(k.editOptionValue([a,e,n,t]))}),[a,o]);return(0,g.useEffect)((function(){"ERROR"===x&&(O(y.F.error("Произошла ошибка при попытке сохранить изменения, попробуйте снова")),o(k.undefineChangeError()))}),[x,o]),(0,g.useEffect)((function(){"Updated"===c&&(O(y.F.success("Изменения успешно сохранены")),o(k.undefineChangeStatus()))}),[c,o]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",E({className:(0,f.A)(T.SettingsMainCollege,{},[n])},{children:[(0,d.jsx)("div",E({className:T.section},{children:t.map((function(e){return(0,d.jsxs)("div",E({className:T.inputWrapper},{children:[(0,d.jsx)("h6",E({className:T.fieldTitle},{children:e.title})),(0,d.jsx)(h.jO,{type:"string"===e.type?"text":"number",value:String(e.value),onChange:function(n){M(e.id,n.target.value,e.type)}})]}),e.id)}))})),(0,d.jsx)(C.zx,E({type:"button",onClick:function(){var e=l[a].options,n=u[a].options,t=e.map((function(e){var t,a=n.filter((function(n){return n.id===e.id}))[0];if(a.value!==e.value)return(t={})[a.id]=a.value,t})),r=t.filter((function(e){return e}));if(r.length){var i=r.reduce((function(e,n){return Object.assign(e,n)}),{});o(m(i))}else O(y.F.error("Для сохранения вы должны внести изменения!"))},className:T.optionsSave,disabled:j},{children:(0,d.jsx)(w.xv,E({weight:w.fs.SEMIBOLD},{children:"Сохранить"}))}))]})),(0,d.jsx)(h.KF,{ref:L,push:D,placement:"top-end"})]})}}}]);
!(function () { try { const e = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; const t = (new Error()).stack; t && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[t] = '6763b306-a2bd-456e-8f4e-f2666eda0d6e', e._sentryDebugIdIdentifier = 'sentry-dbid-6763b306-a2bd-456e-8f4e-f2666eda0d6e'); } catch (e) {} }()); const _global = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; _global.SENTRY_RELEASE = { id: '45ee1168f5cf48e9753bace26323152d3b61cb67' }, (self.webpackChunkproduction_project = self.webpackChunkproduction_project || []).push([[3609], {
    5131: (e, t, n) => {
        n.d(t, { Z: () => u }); let r; let o; const a = n(7294); function s() { return s = Object.assign ? Object.assign.bind() : function (e) { for (let t = 1; t < arguments.length; t++) { const n = arguments[t]; for (const r in n)Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]); } return e; }, s.apply(this, arguments); } const u = function (e) {
            return a.createElement('svg', s({
                width: 20, height: 20, fill: 'none', xmlns: 'http://www.w3.org/2000/svg',
            }, e), r || (r = a.createElement('path', { d: 'M7.5 3.75h-.833c-1.965 0-2.947 0-3.557.61-.61.61-.61 1.592-.61 3.557v4.166c0 1.964 0 2.946.61 3.557.61.61 1.592.61 3.557.61H7.5m0-10.853c0-1.911 0-2.867.59-3.39.588-.522 1.49-.365 3.29-.051l1.942.339c1.996.347 2.993.522 3.585 1.253.593.733.593 1.791.593 3.909v5.087c0 2.117 0 3.175-.592 3.908-.593.731-1.591.905-3.586 1.254l-1.94.338c-1.802.314-2.703.471-3.292-.052-.59-.522-.59-1.478-.59-3.389V5.397Z', stroke: '#fff', strokeWidth: 1.5 })), o || (o = a.createElement('path', {
                d: 'M10 9.167v1.666', stroke: '#fff', strokeWidth: 1.5, strokeLinecap: 'round',
            })));
        };
    },
    5026: (e, t, n) => {
        n.r(t), n.d(t, { default: () => le }); let r; const o = n(5893); const a = n(4387); const s = n(7294); const u = n(7168); const c = (0, u.hg)('students/moveStudentsInGroups', ((e, t) => {
            let n; let r; let o; let a; const s = e[0]; const u = e[1]; return n = void 0, r = void 0, a = function () {
                let e; let n; let r; return (function (e, t) {
                    let n; let r; let o; let a; let s = {
                        label: 0, sent() { if (1 & o[0]) throw o[1]; return o[1]; }, trys: [], ops: [],
                    }; return a = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol === 'function' && (a[Symbol.iterator] = function () { return this; }), a; function u(u) { return function (c) { return (function (u) { if (n) throw new TypeError('Generator is already executing.'); for (;a && (a = 0, u[0] && (s = 0)), s;) try { if (n = 1, r && (o = 2 & u[0] ? r.return : u[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, u[1])).done) return o; switch (r = 0, o && (u = [2 & u[0], o.value]), u[0]) { case 0: case 1: o = u; break; case 4: return s.label++, { value: u[1], done: !1 }; case 5: s.label++, r = u[1], u = [0]; continue; case 7: u = s.ops.pop(), s.trys.pop(); continue; default: if (!((o = (o = s.trys).length > 0 && o[o.length - 1]) || u[0] !== 6 && u[0] !== 2)) { s = 0; continue; } if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) { s.label = u[1]; break; } if (u[0] === 6 && s.label < o[1]) { s.label = o[1], o = u; break; } if (o && s.label < o[2]) { s.label = o[2], s.ops.push(u); break; }o[2] && s.ops.pop(), s.trys.pop(); continue; }u = t.call(e, s); } catch (e) { u = [6, e], r = 0; } finally { n = o = 0; } if (5 & u[0]) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 }; }([u, c])); }; }
                }(this, ((o) => { switch (o.label) { case 0: e = t.rejectWithValue, n = t.extra, o.label = 1; case 1: return o.trys.push([1, 3,, 4]), [4, n.api.post('/college/groups/'.concat(s, '/students/'), u)]; case 2: return [2, o.sent().data]; case 3: return r = o.sent(), [2, e({ error: r.response.data.errors, status: r.response.status })]; case 4: return [2]; } })));
            }, new ((o = void 0) || (o = Promise))(((e, t) => { function s(e) { try { c(a.next(e)); } catch (e) { t(e); } } function u(e) { try { c(a.throw(e)); } catch (e) { t(e); } } function c(t) { let n; t.done ? e(t.value) : (n = t.value, n instanceof o ? n : new o(((e) => { e(n); }))).then(s, u); }c((a = a.apply(n, r || [])).next()); }));
        })); const i = n(146); const l = function (e) { let t; return (t = e.studentsInGroups) === null || void 0 === t ? void 0 : t.create; }; const d = function (e) { let t; return (t = e.studentsInGroups) === null || void 0 === t ? void 0 : t.delete; }; const f = function (e) { let t; return (t = e.studentsInGroups) === null || void 0 === t ? void 0 : t.isLoading; }; const h = function (e) { let t; return (t = e.studentsInGroups) === null || void 0 === t ? void 0 : t.error; }; const p = function (e) { let t; return (t = e.studentsInGroups) === null || void 0 === t ? void 0 : t.dataFrom; }; const v = function (e) { let t; return (t = e.studentsInGroups) === null || void 0 === t ? void 0 : t.dataTo; }; const b = (0, u.hg)('students/deleteStudentsInGroups', ((e, t) => {
            return n = void 0, r = void 0, a = function () {
                let e; let n; let r; let o; let a; let s; return (function (e, t) {
                    let n; let r; let o; let a; let s = {
                        label: 0, sent() { if (1 & o[0]) throw o[1]; return o[1]; }, trys: [], ops: [],
                    }; return a = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol === 'function' && (a[Symbol.iterator] = function () { return this; }), a; function u(u) { return function (c) { return (function (u) { if (n) throw new TypeError('Generator is already executing.'); for (;a && (a = 0, u[0] && (s = 0)), s;) try { if (n = 1, r && (o = 2 & u[0] ? r.return : u[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, u[1])).done) return o; switch (r = 0, o && (u = [2 & u[0], o.value]), u[0]) { case 0: case 1: o = u; break; case 4: return s.label++, { value: u[1], done: !1 }; case 5: s.label++, r = u[1], u = [0]; continue; case 7: u = s.ops.pop(), s.trys.pop(); continue; default: if (!((o = (o = s.trys).length > 0 && o[o.length - 1]) || u[0] !== 6 && u[0] !== 2)) { s = 0; continue; } if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) { s.label = u[1]; break; } if (u[0] === 6 && s.label < o[1]) { s.label = o[1], o = u; break; } if (o && s.label < o[2]) { s.label = o[2], s.ops.push(u); break; }o[2] && s.ops.pop(), s.trys.pop(); continue; }u = t.call(e, s); } catch (e) { u = [6, e], r = 0; } finally { n = o = 0; } if (5 & u[0]) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 }; }([u, c])); }; }
                }(this, ((u) => { switch (u.label) { case 0: e = t.rejectWithValue, n = t.extra, r = t.getState, o = d(r()), a = (0, i.Q)(o, ['groupId']), u.label = 1; case 1: return u.trys.push([1, 3,, 4]), [4, n.api.delete('/college/groups/'.concat(o.groupId, '/students/'), { data: a })]; case 2: return [2, u.sent().data]; case 3: return s = u.sent(), [2, e({ error: s.response.data.errors, status: s.response.status })]; case 4: return [2]; } })));
            }, new ((o = void 0) || (o = Promise))(((e, t) => { function s(e) { try { c(a.next(e)); } catch (e) { t(e); } } function u(e) { try { c(a.throw(e)); } catch (e) { t(e); } } function c(t) { let n; t.done ? e(t.value) : (n = t.value, n instanceof o ? n : new o(((e) => { e(n); }))).then(s, u); }c((a = a.apply(n, r || [])).next()); })); let n; let r; let o; let a;
        })); let g = function () { return g = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, g.apply(this, arguments); }; const m = function (e, t, n) { if (n || arguments.length === 2) for (var r, o = 0, a = t.length; o < a; o++)!r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)), r[o] = t[o]); return e.concat(r || Array.prototype.slice.call(t)); }; const y = {
            create: [], delete: void 0, isLoading: !1, error: void 0, dataFrom: [], dataTo: [],
        }; const w = (0, u.oM)({
            name: 'studentsInGroups',
            initialState: y,
            reducers: {
                setCreateStudents(e, t) { let n; let r; let o; const a = t.payload; const s = a[0]; const u = a[1]; ((n = e.create) === null || void 0 === n ? void 0 : n.filter(((e) => e.groupId === s))[0]) ? e.create = (r = e.create) === null || void 0 === r ? void 0 : r.map(((e) => (e.groupId === s ? ({ ...e, students: Array.from(new Set(m(m([], e.students, !0), u, !0))) }) : e))) : (o = e.create) === null || void 0 === o || o.push({ groupId: s, students: u }); }, setDeleteStudents(e, t) { const n = t.payload; const r = n[0]; const o = n[1]; e.delete = { groupId: r, students: o }; }, changeCreateStudents(e, t) { let n; const r = t.payload; const o = r[0]; const a = r[1]; e.create = (n = e.create) === null || void 0 === n ? void 0 : n.map(((e) => (e.groupId !== o ? e : ({ ...e, students: e.students.filter(((e) => e !== a)) })))); }, changeDeleteStudents(e, t) { let n; e.delete = { ...e.delete, students: ((n = e.delete) === null || void 0 === n ? void 0 : n.students.filter(((e) => e !== t.payload))) || [] }; }, setDataFrom(e, t) { e.dataFrom = t.payload; }, setDataTo(e, t) { e.dataTo = t.payload; }, clearStudentsIds(e) { e.create = y.create, e.delete = y.delete; },
            },
            extraReducers(e) {
                e.addCase(c.pending, ((e) => { e.error = void 0, e.isLoading = !0; })).addCase(c.fulfilled, ((e) => { e.isLoading = !1; })).addCase(c.rejected, ((e, t) => { e.isLoading = !1, e.error = t.payload; })).addCase(b.pending, ((e) => { e.error = void 0, e.isLoading = !0; }))
                    .addCase(b.fulfilled, ((e) => { e.isLoading = !1; }))
                    .addCase(b.rejected, ((e, t) => { e.isLoading = !1, e.error = t.payload; }));
            },
        }); const x = w.actions; const k = w.reducer; const j = n(9250); const S = n(5461); const C = n(9741); const N = n(6458); const _ = n(1138); const L = n(4809); const O = n(9161); const I = n(1353); const E = n(5131); const D = n(9456); const G = n(8321); function R() { return R = Object.assign ? Object.assign.bind() : function (e) { for (let t = 1; t < arguments.length; t++) { const n = arguments[t]; for (const r in n)Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]); } return e; }, R.apply(this, arguments); } const A = function (e) { return s.createElement('svg', R({ xmlns: 'http://www.w3.org/2000/svg', viewBox: '0 0 448 512' }, e), r || (r = s.createElement('path', { d: 'M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h306.7L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z' }))); }; const B = n(9086); const T = n(4475); const F = n(530); const P = n(100); const M = n(3483); const z = n(9649); const X = n(7730); const H = n(6837); const V = {
            students: 'qYO5tMLN', studentsList: 'ihqfo6CJ', search: 'rKkXnoD8', studentRow: 'QLRRkcZG', studentLabel: 'XXH0a8SK',
        }; let J = function () { return J = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, J.apply(this, arguments); }; const Z = function (e, t, n) { if (n || arguments.length === 2) for (var r, o = 0, a = t.length; o < a; o++)!r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)), r[o] = t[o]); return e.concat(r || Array.prototype.slice.call(t)); }; const q = (0, s.memo)(((e) => {
            let t; let n; const r = e.className; const u = e.value; const c = e.onChangeValue; const i = e.toGroupCode; const l = e.studentsData; const d = e.setStudentsData; const f = (0, s.useState)(''); const h = f[0]; const p = f[1]; const v = (0, s.useState)(!0); const b = v[0]; const g = v[1]; const m = (0, s.useState)(!1); const y = m[0]; const w = m[1]; const k = (0, s.useState)([]); const j = k[0]; const O = k[1]; const I = (0, S.T)(); const E = (0, N.v9)(C.qb); const D = (t = (0, N.v9)(C.qb)) === null || void 0 === t ? void 0 : t.map(((e) => e.code)); const G = (0, s.useCallback)(((e) => { p(e); }), []); const R = (0, s.useCallback)(((e, t) => { const n = j == null ? void 0 : j.filter(((e) => e.students_id === t))[0]; n && (n.checked = e, O(Z(Z([], (j == null ? void 0 : j.filter(((e) => e.students_id !== t))) || [], !0), [n], !1).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id)))); }), [j]); return (0, s.useEffect)((() => {
                let e; let t; let n; let r; e = void 0, t = void 0, r = function () {
                    let e; let t; let n; let r; return (function (e, t) {
                        let n; let r; let o; let a; let s = {
                            label: 0, sent() { if (1 & o[0]) throw o[1]; return o[1]; }, trys: [], ops: [],
                        }; return a = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol === 'function' && (a[Symbol.iterator] = function () { return this; }), a; function u(u) { return function (c) { return (function (u) { if (n) throw new TypeError('Generator is already executing.'); for (;a && (a = 0, u[0] && (s = 0)), s;) try { if (n = 1, r && (o = 2 & u[0] ? r.return : u[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, u[1])).done) return o; switch (r = 0, o && (u = [2 & u[0], o.value]), u[0]) { case 0: case 1: o = u; break; case 4: return s.label++, { value: u[1], done: !1 }; case 5: s.label++, r = u[1], u = [0]; continue; case 7: u = s.ops.pop(), s.trys.pop(); continue; default: if (!((o = (o = s.trys).length > 0 && o[o.length - 1]) || u[0] !== 6 && u[0] !== 2)) { s = 0; continue; } if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) { s.label = u[1]; break; } if (u[0] === 6 && s.label < o[1]) { s.label = o[1], o = u; break; } if (o && s.label < o[2]) { s.label = o[2], s.ops.push(u); break; }o[2] && s.ops.pop(), s.trys.pop(); continue; }u = t.call(e, s); } catch (e) { u = [6, e], r = 0; } finally { n = o = 0; } if (5 & u[0]) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 }; }([u, c])); }; }
                    }(this, ((o) => { switch (o.label) { case 0: g(!0), e = { id_group: u.toLowerCase() === 'без группы' ? null : E == null ? void 0 : E.filter(((e) => e.code.toLowerCase() === u.toLowerCase()))[0].id_group }, t = encodeURIComponent(JSON.stringify(e)), o.label = 1; case 1: return o.trys.push([1, 3,, 4]), [4, M.W.get('/college/students?filter='.concat(t))]; case 2: return n = o.sent(), d(n.data.data.map(((e) => ({ ...e, fio: ''.concat(e.user.last_name, ' ').concat(e.user.first_name, ' ').concat(e.user.patronymic || ''), checked: !1 })))), I(x.setDataFrom(n.data.data.map(((e) => ({ ...e, fio: ''.concat(e.user.last_name, ' ').concat(e.user.first_name, ' ').concat(e.user.patronymic || ''), checked: !1 }))))), g(!1), [3, 4]; case 3: return r = o.sent(), w(r), [3, 4]; case 4: return [2]; } })));
                }, new ((n = void 0) || (n = Promise))(((o, a) => { function s(e) { try { c(r.next(e)); } catch (e) { a(e); } } function u(e) { try { c(r.throw(e)); } catch (e) { a(e); } } function c(e) { let t; e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(((e) => { e(t); }))).then(s, u); }c((r = r.apply(e, t || [])).next()); }));
            }), [E, u]), (0, s.useEffect)((() => { const e = (0, X.Qi)(h, l || []).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id)); O(e || []); }), [h, l]), n = b ? (0, o.jsx)(_.O, { height: 400, width: '100%' }) : y ? (0, o.jsx)(L.xv, {
                theme: L.lg.ERROR, size: L.yH.XS, weight: L.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (0, o.jsxs)(o.Fragment, {
                children: [(0, o.jsx)(z.o, {
                    value: h, onChange: G, searchText: 'Поиск по ФИО', error: y, isLoading: b, className: V.search,
                }), (0, o.jsx)('div', {
                    className: V.studentsList,
                    children: j && j.length ? j.map(((e) => (0, o.jsx)('div', {
                        className: V.studentRow,
                        children: (0, o.jsx)(H.X, {
                            id: 'students-in-groups-from-'.concat(e.students_id), checked: e.checked, onChange(t) { R(t.target.checked, e.students_id); }, label: e.fio, labelClassName: V.studentLabel,
                        }),
                    }, e.students_id))) : 'Ничего не найдено...',
                })],
            }), (0, o.jsxs)('div', {
                className: (0, a.A)(V.StudentsInGroupsFromColumn, {}, [r]),
                children: [(0, o.jsx)('div', {
                    className: V.selectGroup,
                    children: (0, o.jsx)(P.u, {
                        options: Z(['Без группы'], (D == null ? void 0 : D.filter(((e) => i !== e))) || [], !0), optionValue: u, onClickOption: c, label: 'Выбрать группу', columnName: '',
                    }),
                }), (0, o.jsx)('div', { className: V.students, children: n })],
            });
        })); const W = {
            content: 'xElQs8od', contentInner: 'JdmGTvr9', middle: 'M6IU5fyh', buttons: 'rOfrn54r', moveBtn: 'VZhYeZEw', arrowLeftIcon: 'kkR5MB3l', buttonsRightWrapper: 'HZ9mPhKh', btn: 'YaiknSG9', exitBtnIcon: 'jgjVD9SV', editIcon: 'HlM1b0Uj', fileIcon: 'LYGB55FE',
        }; const Q = {
            students: 'PVfPbL9t', studentsList: 'K9a6q7YQ', search: '_JCX2BJ_', studentRow: 'ilOP2ZHJ', studentLabel: 'TvVAABtV',
        }; let U = function () { return U = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, U.apply(this, arguments); }; const K = function (e, t, n) { if (n || arguments.length === 2) for (var r, o = 0, a = t.length; o < a; o++)!r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)), r[o] = t[o]); return e.concat(r || Array.prototype.slice.call(t)); }; const Y = (0, s.memo)(((e) => {
            let t; let n; const r = e.className; const u = e.value; const c = e.onChangeValue; const i = e.fromGroupCode; const l = e.studentsData; const d = e.setStudentsData; const f = (0, s.useState)(''); const h = f[0]; const p = f[1]; const v = (0, s.useState)(!0); const b = v[0]; const g = v[1]; const m = (0, s.useState)(!1); const y = m[0]; const w = m[1]; const k = (0, s.useState)([]); const j = k[0]; const O = k[1]; const I = (0, S.T)(); const E = (0, N.v9)(C.qb); const D = (t = (0, N.v9)(C.qb)) === null || void 0 === t ? void 0 : t.map(((e) => e.code)); const G = (0, s.useCallback)(((e) => { p(e); }), []); const R = (0, s.useCallback)(((e, t) => { const n = j == null ? void 0 : j.filter(((e) => e.students_id === t))[0]; n && (n.checked = e, O(K(K([], (j == null ? void 0 : j.filter(((e) => e.students_id !== t))) || [], !0), [n], !1).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id)))); }), [j]); return (0, s.useEffect)((() => {
                let e; let t; let n; let r; e = void 0, t = void 0, r = function () {
                    let e; let t; let n; let r; return (function (e, t) {
                        let n; let r; let o; let a; let s = {
                            label: 0, sent() { if (1 & o[0]) throw o[1]; return o[1]; }, trys: [], ops: [],
                        }; return a = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol === 'function' && (a[Symbol.iterator] = function () { return this; }), a; function u(u) { return function (c) { return (function (u) { if (n) throw new TypeError('Generator is already executing.'); for (;a && (a = 0, u[0] && (s = 0)), s;) try { if (n = 1, r && (o = 2 & u[0] ? r.return : u[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, u[1])).done) return o; switch (r = 0, o && (u = [2 & u[0], o.value]), u[0]) { case 0: case 1: o = u; break; case 4: return s.label++, { value: u[1], done: !1 }; case 5: s.label++, r = u[1], u = [0]; continue; case 7: u = s.ops.pop(), s.trys.pop(); continue; default: if (!((o = (o = s.trys).length > 0 && o[o.length - 1]) || u[0] !== 6 && u[0] !== 2)) { s = 0; continue; } if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) { s.label = u[1]; break; } if (u[0] === 6 && s.label < o[1]) { s.label = o[1], o = u; break; } if (o && s.label < o[2]) { s.label = o[2], s.ops.push(u); break; }o[2] && s.ops.pop(), s.trys.pop(); continue; }u = t.call(e, s); } catch (e) { u = [6, e], r = 0; } finally { n = o = 0; } if (5 & u[0]) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 }; }([u, c])); }; }
                    }(this, ((o) => { switch (o.label) { case 0: g(!0), e = { id_group: u.toLowerCase() === 'без группы' ? null : E == null ? void 0 : E.filter(((e) => e.code.toLowerCase() === u.toLowerCase()))[0].id_group }, t = encodeURIComponent(JSON.stringify(e)), o.label = 1; case 1: return o.trys.push([1, 3,, 4]), [4, M.W.get('/college/students?filter='.concat(t))]; case 2: return n = o.sent(), d(n.data.data.map(((e) => ({ ...e, fio: ''.concat(e.user.last_name, ' ').concat(e.user.first_name, ' ').concat(e.user.patronymic || ''), checked: !1 })))), I(x.setDataTo(n.data.data.map(((e) => ({ ...e, fio: ''.concat(e.user.last_name, ' ').concat(e.user.first_name, ' ').concat(e.user.patronymic || ''), checked: !1 }))))), g(!1), [3, 4]; case 3: return r = o.sent(), w(r), [3, 4]; case 4: return [2]; } })));
                }, new ((n = void 0) || (n = Promise))(((o, a) => { function s(e) { try { c(r.next(e)); } catch (e) { a(e); } } function u(e) { try { c(r.throw(e)); } catch (e) { a(e); } } function c(e) { let t; e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(((e) => { e(t); }))).then(s, u); }c((r = r.apply(e, t || [])).next()); }));
            }), [E, u]), (0, s.useEffect)((() => { const e = (0, X.Qi)(h, l || []).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id)); O(e || []); }), [h, l]), n = b ? (0, o.jsx)(_.O, { height: 400, width: '100%' }) : y ? (0, o.jsx)(L.xv, {
                theme: L.lg.ERROR, size: L.yH.XS, weight: L.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (0, o.jsxs)(o.Fragment, {
                children: [(0, o.jsx)(z.o, {
                    value: h, onChange: G, searchText: 'Поиск по ФИО', error: y, isLoading: b, className: Q.search,
                }), (0, o.jsx)('div', {
                    className: Q.studentsList,
                    children: j && j.length ? j.map(((e) => (0, o.jsx)('div', {
                        className: Q.studentRow,
                        children: (0, o.jsx)(H.X, {
                            id: 'students-in-groups-to-'.concat(e.students_id), checked: e.checked, onChange(t) { R(t.target.checked, e.students_id); }, label: e.fio, labelClassName: Q.studentLabel,
                        }),
                    }, e.students_id))) : 'Ничего не найдено...',
                })],
            }), (0, o.jsxs)('div', {
                className: (0, a.A)(Q.StudentsInGroupsFromColumn, {}, [r]),
                children: [(0, o.jsx)('div', {
                    className: Q.selectGroup,
                    children: (0, o.jsx)(P.u, {
                        options: K([], (D == null ? void 0 : D.filter(((e) => i !== e))) || [], !0), optionValue: u, onClickOption: c, label: 'Выбрать группу', columnName: '',
                    }),
                }), (0, o.jsx)('div', { className: Q.students, children: n })],
            });
        })); let $ = function () { return $ = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, $.apply(this, arguments); }; const ee = function (e, t, n, r) { return new (n || (n = Promise))(((o, a) => { function s(e) { try { c(r.next(e)); } catch (e) { a(e); } } function u(e) { try { c(r.throw(e)); } catch (e) { a(e); } } function c(e) { let t; e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(((e) => { e(t); }))).then(s, u); }c((r = r.apply(e, t || [])).next()); })); }; const te = function (e, t) {
            let n; let r; let o; let a; let s = {
                label: 0, sent() { if (1 & o[0]) throw o[1]; return o[1]; }, trys: [], ops: [],
            }; return a = { next: u(0), throw: u(1), return: u(2) }, typeof Symbol === 'function' && (a[Symbol.iterator] = function () { return this; }), a; function u(u) { return function (c) { return (function (u) { if (n) throw new TypeError('Generator is already executing.'); for (;a && (a = 0, u[0] && (s = 0)), s;) try { if (n = 1, r && (o = 2 & u[0] ? r.return : u[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, u[1])).done) return o; switch (r = 0, o && (u = [2 & u[0], o.value]), u[0]) { case 0: case 1: o = u; break; case 4: return s.label++, { value: u[1], done: !1 }; case 5: s.label++, r = u[1], u = [0]; continue; case 7: u = s.ops.pop(), s.trys.pop(); continue; default: if (!((o = (o = s.trys).length > 0 && o[o.length - 1]) || u[0] !== 6 && u[0] !== 2)) { s = 0; continue; } if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) { s.label = u[1]; break; } if (u[0] === 6 && s.label < o[1]) { s.label = o[1], o = u; break; } if (o && s.label < o[2]) { s.label = o[2], s.ops.push(u); break; }o[2] && s.ops.pop(), s.trys.pop(); continue; }u = t.call(e, s); } catch (e) { u = [6, e], r = 0; } finally { n = o = 0; } if (5 & u[0]) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 }; }([u, c])); }; }
        }; const ne = function (e, t, n) { if (n || arguments.length === 2) for (var r, o = 0, a = t.length; o < a; o++)!r && o in t || (r || (r = Array.prototype.slice.call(t, 0, o)), r[o] = t[o]); return e.concat(r || Array.prototype.slice.call(t)); }; const re = (0, s.memo)(((e) => {
            let t; const n = e.className; const r = (0, j.TH)().search; const u = (0, S.T)(); const i = (0, j.s0)(); const g = (0, s.useState)('Без группы'); const m = g[0]; const y = g[1]; const w = (0, s.useState)(void 0); const k = w[0]; const R = w[1]; const P = (0, s.useState)([]); const M = P[0]; const z = P[1]; const X = (0, s.useState)([]); const H = X[0]; const V = X[1]; const J = (0, s.useState)(); const Z = J[0]; const Q = J[1]; const U = (0, s.useRef)(null); const K = (0, N.v9)(C.qb); const re = (0, N.v9)(C.Qo); const oe = (0, N.v9)(C.kO); const ae = r.split('group=')[1]; const se = re || !(K == null ? void 0 : K.length); const ue = (0, N.v9)(l); const ce = (0, N.v9)(d); const ie = (0, N.v9)(f); const le = (0, N.v9)(h); const de = (0, N.v9)(p); const fe = (0, N.v9)(v); const he = (0, s.useCallback)(((e) => { y(e); const t = k; R(''), setTimeout((() => { R(t); }), 0), u(x.clearStudentsIds()); }), [u, k]); const pe = (0, s.useCallback)(((e) => { R(e); const t = m; y(''), setTimeout((() => { y(t); }), 0), u(x.clearStudentsIds()); }), [u, m]); const ve = (0, s.useCallback)((() => { i((0, B.S6)()); }), [i]); const be = (0, s.useCallback)((() => { u(x.clearStudentsIds()), z(de || []), V(fe || []), Q(F.F.info('Изменения успешно отменены')); }), [u, de, fe]); const ge = (0, s.useCallback)((() => ee(void 0, void 0, void 0, (function () { return te(this, ((e) => { switch (e.label) { case 0: return (ue == null ? void 0 : ue.length) || (ce == null ? void 0 : ce.students.length) ? ((ue == null ? void 0 : ue.length) && ue.forEach(((e) => ee(void 0, void 0, void 0, (function () { return te(this, ((t) => { switch (t.label) { case 0: return [4, u(c([e.groupId, { students: e.students }]))]; case 1: return t.sent(), [2]; } })); })))), (ce == null ? void 0 : ce.students.length) ? [4, u(b())] : [3, 2]) : (Q(F.F.error('Для сохранения вы должны внести изменения!')), [2]); case 1: e.sent(), e.label = 2; case 2: return Q(F.F.success('Привязка студентов прошла успешно')), u(x.clearStudentsIds()), [2]; } })); }))), [ue, ce == null ? void 0 : ce.students.length, u]); const me = (0, s.useCallback)((() => { const e = M.filter(((e) => e.checked)).map(((e) => ({ ...e, checked: !1 }))); if (e.length) { z(ne([], M.filter(((e) => !e.checked)), !0).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id))), V(ne(ne([], H, !0), e.map(((e) => ({ ...e, addedNow: !0 }))), !0).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id))); const t = K == null ? void 0 : K.filter(((e) => e.code.toLowerCase() === (k == null ? void 0 : k.toLowerCase())))[0]; if (t) { u(x.setCreateStudents([t.id_group, e.map(((e) => e.students_id))])), e.forEach(((e) => { e.deletedNow && u(x.changeDeleteStudents(e.students_id)); })); const n = K == null ? void 0 : K.filter(((e) => e.code.toLowerCase() === (m == null ? void 0 : m.toLowerCase())))[0]; n && m.toLowerCase() !== 'без группы' && e.forEach(((e) => { e.deletedNow && u(x.changeCreateStudents([n.id_group, e.students_id])); })); } } else Q(F.F.error('Выберите студентов для перемещения')); }), [u, m, K, M, H, k]); const ye = (0, s.useCallback)((() => { const e = H.filter(((e) => e.checked)).map(((e) => ({ ...e, checked: !1 }))); if (e.length) { V(ne([], H.filter(((e) => !e.checked)), !0).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id))), z(ne(ne([], M, !0), e.map(((e) => ({ ...e, deletedNow: !0 }))), !0).sort(((e, t) => Number(t.checked) - Number(e.checked) || e.students_id - t.students_id))); const t = K == null ? void 0 : K.filter(((e) => e.code.toLowerCase() === (k == null ? void 0 : k.toLowerCase())))[0]; if (m.toLowerCase() === 'без группы') return u(x.setDeleteStudents([t.id_group, e.filter(((e) => !e.addedNow)).map(((e) => e.students_id))])), void e.forEach(((e) => { e.addedNow && u(x.changeCreateStudents([t.id_group, e.students_id])); })); const n = K == null ? void 0 : K.filter(((e) => e.code.toLowerCase() === (m == null ? void 0 : m.toLowerCase())))[0]; n && (u(x.setCreateStudents([n.id_group, e.map(((e) => e.students_id))])), e.forEach(((e) => { e.addedNow && u(x.changeCreateStudents([t.id_group, e.students_id])); }))); } else Q(F.F.error('Выберите студентов для перемещения')); }), [u, m, K, M, H, k]); return (0, s.useEffect)((() => { u((0, C.or)()); }), [u]), (0, s.useEffect)((() => { K && K.length && !re && R(K[0].code); }), [K, re]), (0, s.useEffect)((() => { if (K && !re && ae) { const e = K.filter(((e) => e.id_group === Number(ae)))[0].code; R(e); } }), [ae, K, re]), (0, s.useEffect)((() => { le && Q(F.F.error('Произошла ошибка при попытке привязки студентов к группе, попробуйте снова')); }), [le]), t = re || ie ? (0, o.jsx)(_.O, { height: 600, width: '100%' }) : oe ? (0, o.jsx)(L.xv, {
                theme: L.lg.ERROR, size: L.yH.M, weight: L.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (K == null ? void 0 : K.length) ? (0, o.jsxs)(o.Fragment, {
                children: [m && (0, o.jsx)(q, {
                    className: (0, a.A)(W.left, {}, [W.contentInner]), value: m, onChangeValue: he, toGroupCode: k, studentsData: Array.from(new Set(M)), setStudentsData: z,
                }), (0, o.jsxs)('div', {
                    className: W.middle,
                    children: [(0, o.jsx)(O.zx, {
                        className: W.moveBtn, buttonForm: O.N5.ALL_BORDERED, onClick: me, children: (0, o.jsx)(I.J, { Svg: A }),
                    }), (0, o.jsx)(O.zx, {
                        className: W.moveBtn, buttonForm: O.N5.ALL_BORDERED, onClick: ye, children: (0, o.jsx)(I.J, { className: W.arrowLeftIcon, Svg: A }),
                    })],
                }), k && (0, o.jsx)(Y, {
                    className: (0, a.A)(W.right, {}, [W.contentInner]), value: k, onChangeValue: pe, fromGroupCode: m, studentsData: Array.from(new Set(H)), setStudentsData: V,
                })],
            }) : (0, o.jsx)(L.xv, { size: L.yH.M, weight: L.fs.SEMIBOLD, children: 'Не найдено ни одной студенческой группы...' }), (0, o.jsxs)(o.Fragment, {
 children: [(0, o.jsxs)('div', {
 className: (0, a.A)(W.StudentsInGroups, {}, [n]),
children: [(0, o.jsx)('div', { className: W.content, children: t }), (0, o.jsxs)('div', {
 className: W.buttons,
children: [(0, o.jsx)('div', {
 className: W.buttonsLeftWrapper,
children: (0, o.jsxs)(O.zx, {
                className: W.btn, theme: O.bn.BACKGROUND_GRAY, size: O.qE.XS, onClick: ve, children: [(0, o.jsx)(L.xv, { size: L.yH.XS, weight: L.fs.SEMIBOLD, children: 'Выйти' }), (0, o.jsx)(I.J, { className: W.exitBtnIcon, Svg: E.Z })], 
}) 
}), (0, o.jsxs)('div', {
 className: W.buttonsRightWrapper,
children: [(0, o.jsxs)(O.zx, {
                className: W.btn, theme: O.bn.BACKGROUND_GRAY, size: O.qE.XS, onClick: be, disabled: se, children: [(0, o.jsx)(L.xv, { size: L.yH.XS, weight: L.fs.SEMIBOLD, children: 'Отменить' }), (0, o.jsx)(I.J, { Svg: D.Z })], 
}), (0, o.jsxs)(O.zx, {
                className: W.btn, theme: O.bn.BACKGROUND, size: O.qE.XS, onClick: ge, disabled: se, children: [(0, o.jsx)(L.xv, { size: L.yH.XS, weight: L.fs.SEMIBOLD, children: 'Сохранить' }), (0, o.jsx)(I.J, { Svg: G.Z })], 
})] 
})] 
})] 
}), (0, o.jsx)(T.KF, { ref: U, push: Z, placement: 'top-end' })] 
});
        })); const oe = n(918); const ae = n(1150); const se = n(2433); const ue = {}; let ce = function () { return ce = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, ce.apply(this, arguments); }; const ie = { studentGroups: C.N0, tableFilters: se.OB, studentsInGroups: k }; const le = (0, s.memo)(((e) => { const t = e.className; return (0, o.jsx)(oe.B, { title: 'LMS - Привязка студентов к группе', children: (0, o.jsx)(ae.W, { reducers: ie, removeAfterUnmount: !0, children: (0, o.jsx)('div', { className: (0, a.A)(ue.StudentsInGroupsPage, {}, [t]), children: (0, o.jsx)(re, {}) }) }) }); }));
    },
    146: (e, t, n) => { n.d(t, { Q: () => o }); let r = function () { return r = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, r.apply(this, arguments); }; var o = function (e, t) { for (var n = { ...e }, o = 0, a = t; o < a.length; o++) { const s = a[o]; n.hasOwnProperty(s) && delete n[s]; } return n; }; },
    9649: (e, t, n) => {
        n.d(t, { o: () => p }); const r = n(5893); const o = ['512 512', "<polygon fill='var(--ci-primary-color, currentColor)' points='427.314 107.313 404.686 84.687 256 233.373 107.314 84.687 84.686 107.313 233.373 256 84.686 404.687 107.314 427.313 256 278.627 404.686 427.313 427.314 404.687 278.627 256 427.314 107.313' class='ci-primary'/>"]; const a = n(2308); const s = n(7294); const u = n(4387); const c = n(6925); const i = n(9161); const l = n(1353); const d = n(2429); const f = 'sgUTBsDI'; let h = function () { return h = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) for (const o in t = arguments[n])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e; }, h.apply(this, arguments); }; var p = (0, s.memo)(((e) => {
            const t = e.className; const n = e.value; const s = e.onChange; const p = e.searchText; const v = e.error; const b = e.isLoading; return v ? (0, r.jsx)('div', {}) : (0, r.jsxs)('div', {
                className: (0, u.A)('MiT_kjOT', {}, [t, 'flex-nowrap']),
                children: [(0, r.jsx)(c.I, {
                    placeholder: p, 'aria-label': p, 'aria-describedby': 'addon-wrapping', value: n, onChange(e) { s == null || s(e.target.value); }, disabled: b, className: 'EXSpb98C',
                }), n && (0, r.jsx)(i.zx, {
                    className: (0, u.A)(f, {}, ['d3ndsDXQ']), theme: i.bn.CLEAR, onClick() { s == null || s(''); }, children: (0, r.jsx)(a.Z, { icon: o, className: 'close-icon' }),
                }), !n && (0, r.jsx)(l.J, { className: f, Svg: d.Z })],
            });
        }));
    },
}]);

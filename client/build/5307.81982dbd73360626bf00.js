!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6e90a084-6ab7-4655-9fdb-a8896e5902ff",e._sentryDebugIdIdentifier="sentry-dbid-6e90a084-6ab7-4655-9fdb-a8896e5902ff")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[5307],{100:(e,t,n)=>{n.d(t,{u:()=>x,o:()=>m});var r=n(5893),l=n(4387),i=n(7294),a=n(8863),s=n(7730),c=n(4809),o=n(6925),u=n(2429),d=n(1353),f=n(8321),h=n(6837),v=n(9161);const b={SearchSelectWrapper:"Yjf50aW7",wrapperDisabled:"bX0WFoDr",searchSelectActive:"U79pi_cu",focused:"wd4cRU78",searchSelectList:"SyJm5rj4",active:"iNibtrio",searchSelectListContent:"LO9FzHbd",searchInput:"fewURAUn",searchBlockItem:"RYCaUgnQ",searchSelectItem:"QSyabMXK",notHoverItem:"aGOP36q2",optionsItems:"hjU5lRG3",label:"ex4icksA",asideIcon:"KLt_1fFw",checkIcon:"uruVta9T",selectedItem:"cshLMXcf",openModalBtn:"c7cLujU9",gray:"z62rRqab",selectItemTitle:"kA71sISl",canSelect:"jHmtHC1p"};var m,p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},p.apply(this,arguments)};!function(e){e.DEFAULT="default",e.GRAY="gray"}(m||(m={}));var x=(0,i.memo)((function(e){var t,n,x,j=e.className,y=e.activeItemClassName,g=e.options,S=e.optionValue,w=e.onClickOption,N=e.columnName,C=e.disabled,k=e.errorForm,I=e.label,B=e.searchDisabled,E=e.placeholder,L=e.multiSelect,A=e.openModalText,F=e.feedbackInvalid,R=(e.feedbackValid,e.invalid),O=e.onOpenModal,_=e.closePrevModal,D=e.withActive,z=e.theme,T=void 0===z?m.DEFAULT:z,H=(0,i.useState)(!1),M=H[0],X=H[1],U=(0,i.useRef)(null),V=(0,i.useState)([]),P=V[0],G=V[1],W=(0,i.useState)(""),K=W[0],Z=W[1],q=E||"Не выбрано";(0,a.p)(U,X);var J=(0,i.useCallback)((function(e){Z(e.target.value)}),[]),Y=(0,i.useCallback)((function(){null==O||O(),null==_||_()}),[_,O]);return(0,i.useEffect)((function(){var e=(0,s.FM)(K,g);G(e||[])}),[K,g]),(0,i.useEffect)((function(){G(g)}),[g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",p({className:(0,l.A)(b.SearchSelectWrapper,(t={},t[b.wrapperDisabled]=C,t),[b[T],j]),ref:U},{children:[I&&(0,r.jsx)(c.xv,p({className:b.label,size:c.yH.XXS},{children:I})),(0,r.jsx)("div",p({className:(0,l.A)(b.searchSelectActive,(n={},n[b.selectedItem]="null"!==S,n[b.focused]=M,n[b.error]=k,n["form-select-invalid"]=R,n),[y,"form-select"]),onClick:function(){C||X((function(e){return!e}))}},{children:L?0===S.length?q:"Выбрано ".concat(S.length," элемента(-ов)"):"null"!==S&&S?S:q})),(0,r.jsx)("div",p({className:(0,l.A)(b.searchSelectList,(x={},x[b.active]=M,x),["search_select_list"])},{children:(0,r.jsxs)("div",p({className:b.searchSelectListContent},{children:[!B&&(0,r.jsxs)("div",p({className:(0,l.A)(b.searchSelectItem,{},[b.notHoverItem,b.searchBlockItem])},{children:[(0,r.jsx)(o.I,{placeholder:"Введите требуемое поле",value:K,onChange:J,disabled:C,className:b.searchInput}),(0,r.jsx)(d.J,{className:b.asideIcon,Svg:u.Z})]})),A&&(0,r.jsx)(v.zx,p({theme:v.bn.BACKGROUND,className:b.openModalBtn,onClick:Y,size:v.qE.XS},{children:(0,r.jsx)(c.xv,p({weight:c.fs.SEMIBOLD,align:c.PH.CENTER,size:c.yH.XS},{children:A}))})),(0,r.jsx)("ul",p({className:b.optionsItems},{children:P&&P.length?P.map((function(e,t){return(0,r.jsxs)("li",p({className:b.searchSelectItem,onClick:function(){var t,n;t=e,n=N,C||(w(t,n),X(!1))}},{children:[(0,r.jsxs)("div",p({className:b.selectItemTitle},{children:[D&&(0,r.jsx)("div",{className:b.canSelect}),(0,r.jsx)("span",{children:e})]})),S===e&&!L&&(0,r.jsx)(d.J,{className:b.checkIcon,Svg:f.Z}),L&&(0,r.jsx)(h.X,{checked:!!S.filter((function(t){return t===e}))[0]})]}),e+t)})):(0,r.jsx)("li",p({className:(0,l.A)(b.searchSelectItem,{},[b.notHoverItem])},{children:"Ничего не найдено..."}))}))]}))}))]})),R&&(0,r.jsx)("div",p({className:(0,l.A)(b.selecInvalidText,{},["select-invalid-feedback invalid-feedback"])},{children:F}))]})}))},6461:(e,t,n)=>{n.d(t,{Ux:()=>u,gu:()=>c,bE:()=>r,pN:()=>l,rn:()=>i});var r=function(e){var t;return null===(t=e.curriculumSubjectsDetail)||void 0===t?void 0:t.data},l=function(e){var t;return null===(t=e.curriculumSubjectsDetail)||void 0===t?void 0:t.error},i=function(e){var t;return null===(t=e.curriculumSubjectsDetail)||void 0===t?void 0:t.isLoading},a=n(7168),s=n(5307),c=(0,a.hg)("references/fetchCurriculumSubjectsDetail",(function(e,t){return n=void 0,r=void 0,i=function(){var n,r,l,i;return function(e,t){var n,r,l,i,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((l=(l=a.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){a.label=s[1];break}if(6===s[0]&&a.label<l[1]){a.label=l[1],l=s;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(s);break}l[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(a){switch(a.label){case 0:n=t.rejectWithValue,r=t.extra,l=t.dispatch,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.api.get("/curriculum/subjects/".concat(e))];case 2:return i=a.sent(),l(s.lz.setCurriculumSubjectData(i.data)),[2,i.data];case 3:return"Failed to fetch"===a.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function a(e){try{c(i.next(e))}catch(e){t(e)}}function s(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,l,i})),o=(0,a.oM)({name:"curriculumSubjectsDetail",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(c.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(c.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})).addCase(c.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),u=(o.actions,o.reducer)},5149:(e,t,n)=>{n.d(t,{ZU:()=>R,IN:()=>D,zE:()=>l,s4:()=>O,lK:()=>E,TD:()=>L});var r=n(7168),l=(0,r.hg)("references/fetchCurriculumSubjects",(function(e,t){return n=void 0,r=void 0,i=function(){var e,n,r;return function(e,t){var n,r,l,i,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((l=(l=a.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){a.label=s[1];break}if(6===s[0]&&a.label<l[1]){a.label=l[1],l=s;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(s);break}l[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(l){switch(l.label){case 0:e=t.rejectWithValue,n=t.extra,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.api.get("/curriculum/subjects/")];case 2:return[2,l.sent().data];case 3:return"Failed to fetch"===(r=l.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:r.response.status,error:r.response.data.message})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function a(e){try{c(i.next(e))}catch(e){t(e)}}function s(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,l,i})),i=n(5893),a=n(4387),s=n(7294),c=n(6458),o=n(1138),u=n(4809),d=n(4475),f=n(2308),h=n(1783),v=n(5461),b=n(530),m=n(9161);const p={footerBtn:"mQCKnNvR",redBtn:"z1FS95Nk",deleteText:"KblL0nWj"};var x=(0,r.hg)("references/deleteCurriculumSubject",(function(e,t){return n=void 0,r=void 0,a=function(){var n,r,i,a;return function(e,t){var n,r,l,i,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((l=(l=a.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){a.label=s[1];break}if(6===s[0]&&a.label<l[1]){a.label=l[1],l=s;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(s);break}l[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(s){switch(s.label){case 0:n=t.rejectWithValue,r=t.extra,i=t.dispatch,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.api.delete("/curriculum/subjects/".concat(e))];case 2:return a=s.sent(),i(l()),[2,a.data];case 3:return"Failed to fetch"===s.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function l(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,s)}c((a=a.apply(n,r||[])).next())}));var n,r,i,a})),j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},j.apply(this,arguments)},y=function(e){var t=e.className,n=e.curriculumSubjects,r=e.visible,l=e.setVisible,c=(0,v.T)(),o=(0,s.useState)(),y=o[0],g=o[1],S=(0,s.useRef)(null),w=(0,s.useState)(!1),N=w[0],C=w[1],k=function(){l(!1)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Tk,j({className:(0,a.A)(p.DeleteCurriculumSubjects,{},[t]),visible:r,onClose:k,size:"lg",alignment:"center"},{children:[(0,i.jsx)(d.p0,{children:(0,i.jsxs)(d.fl,{children:["Удаление дисциплины №",null==n?void 0:n.subject_id]})}),(0,i.jsx)(d.sD,{children:(0,i.jsxs)(u.xv,j({size:u.yH.XM,className:p.deleteText},{children:["Вы действительно хотите удалить дисциплину"," ",(0,i.jsxs)("span",{children:["№",null==n?void 0:n.subject_id," ","-"," ",null==n?void 0:n.name]})," ","и все связанные с ней данные?"]}))}),(0,i.jsx)(d.Ym,j({className:p.footer},{children:(0,i.jsxs)("div",j({className:p.footerBtns},{children:[(0,i.jsx)(m.zx,j({theme:m.bn.OUTLINE,className:p.footerBtn,onClick:k},{children:(0,i.jsx)(u.xv,j({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"Отмена"}))})),(0,i.jsxs)(m.zx,j({theme:m.bn.ERROR,className:(0,a.A)(p.footerBtn,{},[p.redBtn]),onClick:function(){var e;e=n.subject_id.toString(),C(!0),c(x(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(g(b.F.success("Дисциплина №".concat(null==n?void 0:n.subject_id," удалена"))),k(),C(!1)):"rejected"===e.meta.requestStatus&&(g(b.F.error("Произошла ошибка при удалении, попробуйте снова")),C(!1))}))},disabled:N},{children:[(0,i.jsx)(u.xv,j({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"Удалить"})),(0,i.jsx)(f.Z,{icon:h.N,className:p.btnIcon})]}))]}))}))]})),(0,i.jsx)(d.KF,{ref:S,push:y,placement:"top-end"})]})},g=n(5307),S=n(622),w=n(6890),N=n(6837),C=n(6925),k=n(1353),I=n(596),B=n(4164),E=function(e){var t;return null===(t=e.curriculumSubjects)||void 0===t?void 0:t.error},L=function(e){var t;return null===(t=e.curriculumSubjects)||void 0===t?void 0:t.isLoading};const A={TableBlock:"YjIABBRb",table:"M_e996R7",tableRow:"zk9PDonL",tableCell:"jbnWJL6U",tableHead:"qoASUn3L",tableCellId:"FTOBwcpw",tableBody:"BNlHTYXo",tableSortIcon:"S2CLo2rM",active:"RNmB4BZJ",cellTextBg:"GCnWwDQx",tableCellBtns:"piTK0Gv5",tableCellBtnsWrapper:"fqwi6K3U",editBtn:"hiuRaqPR",checkbox:"Bkd4cWyF",tableWithCheckboxes:"Zd2TIt10",sortCell:"aeKhmAmS",sortInput:"_WQLHs7E"};var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},F.apply(this,arguments)},R=function(e){var t,n,r,l=e.className,f=e.data,h=e.exportDisabled,p=(0,v.T)(),x=(0,s.useState)(!1),j=x[0],R=x[1],O=(0,c.v9)(L),_=(0,c.v9)(E),D=(0,c.v9)(g.OT),z=(0,c.v9)(g.UB),T=(0,c.v9)(g.px),H=(0,s.useState)(),M=H[0],X=H[1],U=(0,s.useState)(!1),V=U[0],P=U[1],G=(0,s.useState)(!1),W=G[0],K=G[1],Z=(0,s.useState)(),q=Z[0],J=Z[1],Y=(0,s.useState)(),Q=Y[0],$=Y[1],ee=(0,s.useRef)(null),te=(0,s.useCallback)((function(e){K(!0),X(e)}),[]),ne=function(e){p(g.lz.setSort(e.target.value))},re=(0,s.useCallback)((function(e){return t=void 0,n=void 0,l=function(){var t;return function(e,t){var n,r,l,i,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((l=(l=a.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){a.label=s[1];break}if(6===s[0]&&a.label<l[1]){a.label=l[1],l=s;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(s);break}l[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return R(!1),t=(0,S.T)(T,z),(0,w.Q)(t)?[3,2]:[4,p((0,g.fs)(String(e)))];case 1:"fulfilled"===n.sent().meta.requestStatus&&$(b.F.success("Информация о дисциплине успешно обновлена")),n.label=2;case 2:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{c(l.next(e))}catch(e){i(e)}}function s(e){try{c(l.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}c((l=l.apply(t,n||[])).next())}));var t,n,r,l}),[p,T,z]);r=O?(0,i.jsx)(o.O,{height:250}):_?(0,i.jsx)(u.xv,F({theme:u.lg.ERROR,size:u.yH.M,weight:u.fs.SEMIBOLD,className:A.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):f.length?(0,i.jsxs)("div",F({className:(0,a.A)(A.table,(t={},t[A.tableWithCheckboxes]=!h,t),[])},{children:[(0,i.jsx)("div",F({className:A.tableHead},{children:(0,i.jsxs)("div",F({className:A.tableRow},{children:[!h&&(0,i.jsx)(N.X,{className:A.checkbox,id:"checkbox-curriculum-subjects-all"}),(0,i.jsx)("div",F({className:(0,a.A)(A.tableCell,{},[A.tableCellId])},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"ID"}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"Название"}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"Сортировка"}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"Модуль"}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS,weight:u.fs.SEMIBOLD},{children:"Модульная единица"}))})),(0,i.jsx)("div",{className:(0,a.A)(A.tableCell,{},[A.tableCellBtnsWrapper])})]}))})),(0,i.jsx)("div",F({className:A.tableBody},{children:null==f?void 0:f.map((function(e){return(0,i.jsxs)("div",F({className:A.tableRow},{children:[!h&&(0,i.jsx)(N.X,{className:A.checkbox,id:"checkbox-curriculum-subjects-".concat(e.subject_id)}),(0,i.jsx)("div",F({className:(0,a.A)(A.tableCell,{},[A.tableCellId])},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS},{children:e.subject_id}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS},{children:e.name}))})),(0,i.jsx)("div",F({className:(0,a.A)(A.tableCell,{},[A.sortCell]),onClick:function(){var t;t=e,D?$(b.F.info("Пожалуйста, подождите, пока данные обновятся")):(R(!0),J(String(t.subject_id)),p(g.lz.setCurriculumSubjectData(t)))}},{children:j&&Number(q)===e.subject_id?(0,i.jsx)(C.I,{type:"number",placeholder:"100",min:100,step:100,value:String(null==z?void 0:z.sort)||"",onChange:ne,className:A.sortInput,onBlur:function(){re(e.subject_id)},autoFocus:!0}):(0,i.jsx)(u.xv,F({size:u.yH.XS},{children:e.sort}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS},{children:e.educational_module.name}))})),(0,i.jsx)("div",F({className:A.tableCell},{children:(0,i.jsx)(u.xv,F({size:u.yH.XS},{children:e.educational_modules_unit?e.educational_modules_unit.name:"Нет"}))})),(0,i.jsxs)("div",F({className:(0,a.A)(A.tableCell,{},[A.tableCellBtns])},{children:[(0,i.jsx)(m.zx,F({theme:m.bn.CLEAR,title:"Редактировать",className:A.editBtn,onClick:function(){var t;t=e.subject_id.toString(),P(!0),J(t)}},{children:(0,i.jsx)(k.J,{Svg:I.Z})})),(0,i.jsx)(m.zx,F({theme:m.bn.CLEAR,title:"Удалить",className:A.editBtn,onClick:function(){te(e)}},{children:(0,i.jsx)(k.J,{Svg:B.Z})}))]}))]}),e.subject_id)}))}))]})):(0,i.jsx)(u.xv,{children:"Ничего не найдено..."});var le=((n={})[A.error]=!!_,n);return(0,i.jsxs)("div",F({className:(0,a.A)(A.TableBlock,le,[l])},{children:[r,(0,i.jsx)(g.z2,{visible:V,setVisible:P,curriculumSubjectsId:q,onDeleteCurriculumSubjects:te}),(0,i.jsx)(y,{curriculumSubjects:M,visible:W,setVisible:K}),(0,i.jsx)(d.KF,{ref:ee,push:Q,placement:"top-end"})]}))},O=function(e){var t;return null===(t=e.curriculumSubjects)||void 0===t?void 0:t.data},_=(0,r.oM)({name:"curriculumSubjects",initialState:{data:void 0,isLoading:!0,error:void 0,page:"1",limit:"50"},reducers:{},extraReducers:function(e){e.addCase(l.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(l.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload.sort((function(e,t){return e.sort-t.sort}))})).addCase(l.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),D=(_.actions,_.reducer)},5307:(e,t,n)=>{n.d(t,{z2:()=>A,fs:()=>R,lz:()=>_,Ad:()=>D,px:()=>l,OT:()=>r,UB:()=>i});var r=function(e){var t;return null===(t=e.editCurriculumSubject)||void 0===t?void 0:t.isLoading},l=function(e){var t;return null===(t=e.editCurriculumSubject)||void 0===t?void 0:t.data},i=function(e){var t;return null===(t=e.editCurriculumSubject)||void 0===t?void 0:t.newFields},a=n(5893),s=n(4387),c=n(4475),o=n(1138),u=n(2308),d=n(5044),f=n(1783),h=n(8263),v=n(4809),b=n(7294),m=n(5461),p=n(6458),x=n(530),j=n(1385),y=n(5149),g=n(6461),S=n(622),w=n(6890),N=n(1817),C=n(100),k=n(9161);const I={tabBtn:"aBayjNTT",tabsButtonsBlock:"EGNFX0e0",title:"HG_p6iJA",footerBtn:"zSpGOM9v",greenBtn:"J40DRyfc",redBtn:"HM5H6kRa",settings:"Z7Dhs8R5",settingsSort:"iu0EQi51",newAddField:"eUgvZbw9",tabBlock:"VK9mtRwX",form:"JTO5eqxS",footer:"tGKP8CE7",message:"PKeLEb33",messageIcon:"H8pkYbHi"};var B=function(e){var t;return null===(t=e.editCurriculumSubject)||void 0===t?void 0:t.errors},E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},E.apply(this,arguments)},L=function(e,t,n){if(n||2===arguments.length)for(var r,l=0,i=t.length;l<i;l++)!r&&l in t||(r||(r=Array.prototype.slice.call(t,0,l)),r[l]=t[l]);return e.concat(r||Array.prototype.slice.call(t))},A=function(e){var t=e.className,n=e.visible,l=e.setVisible,A=e.curriculumSubjectsId,F=e.onDeleteCurriculumSubjects,O=(0,m.T)(),D=(0,b.useState)(),z=D[0],T=D[1],H=(0,b.useRef)(null),M=(0,b.useState)(!1),X=M[0],U=M[1],V=(0,b.useState)(!1),P=V[0],G=V[1],W=(0,p.v9)(g.bE),K=(0,p.v9)(g.rn),Z=(0,p.v9)(g.pN),q=(0,p.v9)(r),J=(0,p.v9)(i),Y=(0,p.v9)(B),Q=(0,p.v9)(y.TD),$=(0,p.v9)(y.lK),ee=(0,p.v9)(N.Ai),te=(0,p.v9)(N.BH),ne=(0,p.v9)(N.ah),re=(0,p.v9)(N.zy),le=(0,p.v9)(N.cH),ie=(0,p.v9)(N.GM);(0,b.useEffect)((function(){A&&O((0,g.gu)(A))}),[O,A]);var ae,se=function(){l(!1),U(!1),G(!1)},ce=function(){se(),O(_.clearNewFields())};return ae=q||K||Q||te||le?(0,a.jsx)(o.O,{width:"100%",height:80}):Z||$||ne||ie?(0,a.jsx)(v.xv,E({theme:v.lg.ERROR,size:v.yH.M,weight:v.fs.SEMIBOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,a.jsx)("div",E({className:I.tab},{children:(0,a.jsxs)("div",E({className:I.tabBlock},{children:[(0,a.jsx)("div",E({className:I.settings},{children:(0,a.jsxs)("div",E({className:I.newAddField},{children:[(0,a.jsx)("h6",E({className:I.newAddFieldTitle},{children:"Название"})),(0,a.jsx)(j.h,{type:"text",placeholder:"Физическая культура",feedbackValid:Y?"":"Здорово!",invalid:!!Y,feedbackInvalid:"Введите корректные данные",value:(null==J?void 0:J.name)||"",onChange:function(e){O(_.setName(e.target.value))}})]}))})),(0,a.jsx)("div",E({className:(0,s.A)(I.settings,{},[I.settingsSort])},{children:(0,a.jsxs)("div",E({className:I.newAddField},{children:[(0,a.jsx)("h6",E({className:I.newAddFieldTitle},{children:"Сортировка"})),(0,a.jsx)(j.h,{type:"number",placeholder:"100",min:100,step:100,feedbackValid:Y?"":"Здорово!",invalid:!!Y,feedbackInvalid:"Введите корректные данные",value:String(null==J?void 0:J.sort)||"",onChange:function(e){O(_.setSort(e.target.value))}})]}))})),(0,a.jsx)("div",E({className:I.settings},{children:(0,a.jsxs)("div",E({className:I.newAddField},{children:[(0,a.jsx)("h6",E({className:I.newAddFieldTitle},{children:"Модуль"})),(0,a.jsx)(C.u,{className:I.selectField,options:ee&&ee.length?ee.map((function(e){return e.name})):[""],optionValue:(null==J?void 0:J.module_id)?ee.filter((function(e){return e.module_id===J.module_id}))[0].name:"null",onClickOption:function(e,t){var n=ee.filter((function(t){return t.name===e}))[0];O(_.setModuleId(String(n.module_id))),O(_.setUnitId(null))},columnName:""})]}))})),(0,a.jsx)("div",E({className:I.settings},{children:(0,a.jsxs)("div",E({className:I.newAddField},{children:[(0,a.jsx)("h6",E({className:I.newAddFieldTitle},{children:"Модульная единица"})),(0,a.jsx)(C.u,{className:I.selectField,options:re&&re.length?L(["Нет"],re.filter((function(e){return e.module_id===(null==J?void 0:J.module_id)})).map((function(e){return e.name})),!0):["Нет"],optionValue:(null==J?void 0:J.unit_id)?re.filter((function(e){return e.unit_id===J.unit_id}))[0].name:"null",onClickOption:function(e,t){if("Нет"!==e){var n=re.filter((function(t){return t.name===e}))[0];O(_.setUnitId(String(n.unit_id)))}else O(_.setUnitId(null))},columnName:""})]}))}))]}))})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Tk,E({className:(0,s.A)(I.EditEnrollmentType,{},[t]),visible:n,onClose:se,size:"lg",alignment:"center"},{children:(0,a.jsxs)(c.lx,E({className:(0,s.A)(I.form,{},["needs-validation"]),noValidate:!0,validated:X,onSubmit:function(e){return t=void 0,n=void 0,l=function(){var t,n,r;return function(e,t){var n,r,l,i,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((l=(l=a.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){a.label=s[1];break}if(6===s[0]&&a.label<l[1]){a.label=l[1],l=s;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(s);break}l[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(l){switch(l.label){case 0:return e.preventDefault(),t=e.currentTarget,G(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),U(!0),t.checkValidity()?(n=(0,S.T)(W,J),(0,w.Q)(n)?(T(x.F.error("Для сохранения вы должны внести изменения!")),[3,3]):[3,1]):[3,3];case 1:return[4,O(R(A))];case 2:"fulfilled"===(r=l.sent()).meta.requestStatus&&(T(x.F.success("Информация о дисциплине успешно обновлена")),ce()),"rejected"===r.meta.requestStatus&&G(!0),l.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{c(l.next(e))}catch(e){i(e)}}function s(e){try{c(l.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}c((l=l.apply(t,n||[])).next())}));var t,n,r,l}},{children:[(0,a.jsx)(c.p0,{children:q||K?(0,a.jsx)(o.O,{width:300,height:30}):(0,a.jsxs)(c.fl,{children:["Редактирование дисциплины №",null==W?void 0:W.subject_id," ","-"," ",null==W?void 0:W.name]})}),(0,a.jsx)(c.sD,{children:ae}),(0,a.jsxs)(c.Ym,E({className:I.footer},{children:[(0,a.jsx)("div",E({className:I.message},{children:P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{icon:d.D,customClassName:I.messageIcon}),(0,a.jsx)(v.xv,E({size:v.yH.M,weight:v.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,a.jsxs)("div",E({className:I.footerBtns},{children:[(0,a.jsx)(k.zx,E({theme:k.bn.OUTLINE,className:I.footerBtn,onClick:ce},{children:(0,a.jsx)(v.xv,E({size:v.yH.XS,weight:v.fs.SEMIBOLD},{children:"Отмена"}))})),(0,a.jsxs)(k.zx,E({theme:k.bn.ERROR,className:(0,s.A)(I.footerBtn,{},[I.redBtn]),onClick:function(){F(W),se()},disabled:K||q||Q||!!Z||!!$},{children:[(0,a.jsx)(v.xv,E({size:v.yH.XS,weight:v.fs.SEMIBOLD},{children:"Удалить"})),(0,a.jsx)(u.Z,{icon:f.N,className:I.btnIcon})]})),(0,a.jsxs)(k.zx,E({type:"submit",className:(0,s.A)(I.footerBtn,{},[I.greenBtn]),disabled:K||q||Q||!!Z||!!$},{children:[(0,a.jsx)(v.xv,E({size:v.yH.XS,weight:v.fs.SEMIBOLD},{children:"Сохранить"})),(0,a.jsx)(u.Z,{icon:h.F,className:I.btnIcon})]}))]}))]}))]}))})),(0,a.jsx)(c.KF,{ref:H,push:z,placement:"top-end"})]})},F=n(7168),R=(0,F.hg)("references/editCurriculumSubject",(function(e,t){return n=void 0,r=void 0,a=function(){var n,r,l,a,s,c,o,u;return function(e,t){var n,r,l,i,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((l=(l=a.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){a.label=s[1];break}if(6===s[0]&&a.label<l[1]){a.label=l[1],l=s;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(s);break}l[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(d){switch(d.label){case 0:n=t.rejectWithValue,r=t.extra,l=t.dispatch,a=t.getState,s=i(a()),c={name:null==s?void 0:s.name,sort:(null==s?void 0:s.sort)?null==s?void 0:s.sort:100,module_id:null==s?void 0:s.module_id,unit_id:null==s?void 0:s.unit_id},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.api.put("/curriculum/subjects/".concat(e),c)];case 2:return o=d.sent(),l((0,y.zE)()),l((0,g.gu)(e)),[2,o.data];case 3:return u=d.sent(),[2,n({errors:u.response.data.errors,status:u.response.status})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,s)}c((a=a.apply(n,r||[])).next())}));var n,r,l,a})),O=(0,F.oM)({name:"editCurriculumSubject",initialState:{data:void 0,newFields:void 0,isLoading:!1,errors:void 0},reducers:{setCurriculumSubjectData:function(e,t){t.payload&&(e.data=t.payload,e.newFields=t.payload)},setName:function(e,t){e.newFields.name=t.payload},setSort:function(e,t){e.newFields.sort=Number(t.payload)},setModuleId:function(e,t){e.newFields.module_id=Number(t.payload)},setUnitId:function(e,t){e.newFields.unit_id=t.payload?Number(t.payload):null},clearNewFields:function(e){e.newFields=e.data,e.errors=void 0}},extraReducers:function(e){e.addCase(R.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(R.fulfilled,(function(e){e.isLoading=!1})).addCase(R.rejected,(function(e,t){e.isLoading=!1,e.errors=t.payload}))}}),_=O.actions,D=O.reducer}}]);
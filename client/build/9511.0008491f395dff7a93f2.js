!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="b95bab51-5baf-4836-ae55-1c9969454bb1",e._sentryDebugIdIdentifier="sentry-dbid-b95bab51-5baf-4836-ae55-1c9969454bb1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[9511],{5131:(e,a,t)=>{t.d(a,{Z:()=>o});var n,i,r=t(7294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}const o=function(e){return r.createElement("svg",l({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{d:"M7.5 3.75h-.833c-1.965 0-2.947 0-3.557.61-.61.61-.61 1.592-.61 3.557v4.166c0 1.964 0 2.946.61 3.557.61.61 1.592.61 3.557.61H7.5m0-10.853c0-1.911 0-2.867.59-3.39.588-.522 1.49-.365 3.29-.051l1.942.339c1.996.347 2.993.522 3.585 1.253.593.733.593 1.791.593 3.909v5.087c0 2.117 0 3.175-.592 3.908-.593.731-1.591.905-3.586 1.254l-1.94.338c-1.802.314-2.703.471-3.292-.052-.59-.522-.59-1.478-.59-3.389V5.397Z",stroke:"#fff",strokeWidth:1.5})),i||(i=r.createElement("path",{d:"M10 9.167v1.666",stroke:"#fff",strokeWidth:1.5,strokeLinecap:"round"})))}},1290:(e,a,t)=>{t.d(a,{Pu:()=>i,g9:()=>o,lj:()=>c,vW:()=>s,Jy:()=>l});var n=t(7168),i=(0,n.hg)("trainingSchedule/fetchTrainingScheduleSchema",(function(e,a){return t=void 0,n=void 0,r=function(){var t,n;return function(e,a){var t,n,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=a.call(e,l)}catch(e){o=[6,e],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:t=a.rejectWithValue,n=a.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.get("/curriculum/training-schedule/schema?academic_year=".concat(e))];case 2:return[2,i.sent().data];case 3:return i.sent(),[2,t("ERROR")];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(a){var t;a.done?e(a.value):(t=a.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,o)}s((r=r.apply(t,n||[])).next())}));var t,n,i,r})),r=(0,n.oM)({name:"trainingScheduleSchema",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(i.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(i.fulfilled,(function(e,a){e.isLoading=!1,e.data=a.payload})).addCase(i.rejected,(function(e,a){e.isLoading=!1,e.error=a.payload}))}}),l=(r.actions,r.reducer),o=function(e){var a;return null===(a=e.trainingScheduleSchema)||void 0===a?void 0:a.data},s=function(e){var a;return null===(a=e.trainingScheduleSchema)||void 0===a?void 0:a.isLoading},c=function(e){var a;return null===(a=e.trainingScheduleSchema)||void 0===a?void 0:a.error}},9511:(e,a,t)=>{t.d(a,{bA:()=>Ne,YE:()=>d,p$:()=>m,q7:()=>o,JM:()=>S,Is:()=>k});var n=t(2233),i=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.dataParsed},r=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.editData},l=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.professionalModules},o=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.symbols},s=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.selectedCells},c=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.createAction},u=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.editActions},d=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.error},m=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.isLoading},f=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.readOnly},h=function(e){var a;return null===(a=e.workingCurriculumTrainingSchedule)||void 0===a?void 0:a.redirectToMainPage},b=t(7168),y=(0,b.hg)("workingCurriculum/fetchTrainingScheduleDetail",(function(e,a){return t=void 0,n=void 0,r=function(){var t,n,i,r;return function(e,a){var t,n,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=a.call(e,l)}catch(e){o=[6,e],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(l){switch(l.label){case 0:t=a.rejectWithValue,n=a.extra,i=a.dispatch,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.api.get("/curriculum/working-curriculum/".concat(e,"/training-schedule/"))];case 2:return[2,l.sent().data];case 3:return"Failed to fetch"===(r=l.sent()).message?[2,t({status:500,error:"timeout"})]:(404===r.response.status&&i(S.initEditData()),[2,t({status:r.response.status,error:r.response.data.message})]);case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(a){var t;a.done?e(a.value):(t=a.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,o)}s((r=r.apply(t,n||[])).next())}));var t,n,i,r})),v=(0,b.hg)("workingCurriculum/editWorkingCurriculumTrainingSchedule",(function(e,a){return t=void 0,n=void 0,r=function(){var t,n,i,r,l,o,s,c,d;return function(e,a){var t,n,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=a.call(e,l)}catch(e){o=[6,e],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(m){switch(m.label){case 0:t=a.rejectWithValue,n=a.extra,i=a.dispatch,r=a.getState,l=null===(d=u(r()))||void 0===d?void 0:d.actions,o={actions:l},m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n.api.put("/curriculum/working-curriculum/".concat(e,"/training-schedule/"),o)];case 2:return s=m.sent(),i(y(e)),i(S.cancelEditing()),[2,s.data];case 3:return c=m.sent(),i(S.cancelEditing()),[2,t({errors:c.response.data.errors,status:c.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(a){var t;a.done?e(a.value):(t=a.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,o)}s((r=r.apply(t,n||[])).next())}));var t,n,i,r})),_=(0,b.hg)("workingCurriculum/createWorkingCurriculumTrainingSchedule",(function(e,a){return t=void 0,n=void 0,r=function(){var t,n,i,r,l,o,s,u;return function(e,a){var t,n,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=a.call(e,l)}catch(e){o=[6,e],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(d){switch(d.label){case 0:t=a.rejectWithValue,n=a.extra,i=a.dispatch,r=a.getState,l=c(r()),o={data:null==l?void 0:l.data},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.api.post("/curriculum/working-curriculum/".concat(e,"/training-schedule/"),o)];case 2:return s=d.sent(),i(y(e)),i(S.cancelEditing()),[2,s.data];case 3:return u=d.sent(),i(S.cancelEditing()),[2,t({errors:u.response.data.errors,status:u.response.status})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(a){var t;a.done?e(a.value):(t=a.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,o)}s((r=r.apply(t,n||[])).next())}));var t,n,i,r})),g=(0,b.hg)("workingCurriculum/fetchWorkingCurriculumProfessionalModules",(function(e,a){return t=void 0,n=void 0,r=function(){var t,n,i;return function(e,a){var t,n,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=a.call(e,l)}catch(e){o=[6,e],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:t=a.rejectWithValue,n=a.extra,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.api.get("/curriculum/standard-curricula/".concat(e,"/professional-units"))];case 2:return[2,r.sent().data];case 3:return"Failed to fetch"===(i=r.sent()).message?[2,t({status:500,error:"timeout"})]:[2,t({status:i.response.status,error:i.response.data.message})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(a){var t;a.done?e(a.value):(t=a.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,o)}s((r=r.apply(t,n||[])).next())}));var t,n,i,r})),p=function(){return p=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},p.apply(this,arguments)},w=function(e,a,t){if(t||2===arguments.length)for(var n,i=0,r=a.length;i<r;i++)!n&&i in a||(n||(n=Array.prototype.slice.call(a,0,i)),n[i]=a[i]);return e.concat(n||Array.prototype.slice.call(a))},x={data:void 0,professionalModules:[],editData:{data:[],summary:void 0},selectedCells:void 0,editActions:{actions:{delete:[],create:[],update:[],deleteTrainingCourses:[]},isLoading:!1,errors:void 0,updated:!1},createAction:{data:[],isLoading:!1,errors:void 0,created:!1},symbols:void 0,isLoading:!0,error:void 0,readOnly:!0,redirectToMainPage:!1},C=(0,b.oM)({name:"workingCurriculumTrainingSchedule",initialState:x,reducers:{initEditData:function(e){for(var a=[],t=1;t<=52;t++)a.push({training_course:1,start_week:t,end_week:t,working_curriculum_symbol_id:1,working_curriculum_symbol:{working_curriculum_symbol_id:1,symbol_code:"THEORY",name:"Теоретическое обучение",displayed_symbol:" ",symbol_hex_color:"ffffff"},additional_information:null});e.editData.data=a},initEditDataSummary:function(e){var a={bySymbols:{THEORY:{symbolId:1,symbolCode:"THEORY",symbolName:"Теоретическое обучение",courses:{1:{weeks:52,credits:78,hours:1872}},total:{weeks:52,credits:78,hours:1872}}},coursesCount:1};e.symbols.forEach((function(e){1!==e.working_curriculum_symbol_id&&(a.bySymbols[e.symbol_code]={symbolId:e.working_curriculum_symbol_id,symbolCode:e.symbol_code,symbolName:e.name,courses:{1:{weeks:0,credits:0,hours:0}},total:{weeks:0,credits:0,hours:0}})})),e.editData.summary=a},changeSelectedCells:function(e,a){e.selectedCells=a.payload},deleteSelectedCells:function(e){e.selectedCells=x.selectedCells},changeSelectedSymbolInData:function(e,a){e.editData.data=w([],e.editData.data,!0).map((function(e){return e.training_course===a.payload[0].training_course&&e.start_week===a.payload[0].start_week&&e.end_week===a.payload[0].end_week?p(p({},e),{working_curriculum_symbol_id:a.payload[0].working_curriculum_symbol_id,working_curriculum_symbol:a.payload[0].working_curriculum_symbol,additional_information:a.payload[0].additional_information}):p({},e)}));var t=Object.keys(e.editData.summary.bySymbols),n={};t.forEach((function(e){n[e]=0})),e.editData.data.forEach((function(e){e.training_course===a.payload[0].training_course&&(n[e.working_curriculum_symbol.symbol_code]+=1)}));var i=p({},e.editData.summary);t.forEach((function(e){var t=i.bySymbols[e].courses[a.payload[0].training_course];t.weeks=n[e],t.hours=36*n[e],t.credits=Math.floor(36*n[e]/a.payload[1])+(n[e]%2==0?0:1)})),e.editData.summary=i},calculateTotalFieldsInSummaryData:function(e){var a=Object.keys(e.editData.summary.bySymbols),t={},n=p({},e.editData.summary);a.forEach((function(e){t[e]={weeks:0,hours:0,credits:0}})),a.forEach((function(a){for(var i=1;i<=e.editData.summary.coursesCount;i++){var r=e.editData.summary.bySymbols[a].courses[i];t[a].weeks+=r.weeks,t[a].hours+=r.hours,t[a].credits+=r.credits}n.bySymbols[a].total=t[a]})),e.editData.summary=n},deleteCourseFromTable:function(e,a){var t,n;if(e.data){var i=w([],e.editData.data,!0).slice(a.payload[1],a.payload[2]).filter((function(e){return e.working_curriculum_training_schedule_id}));if(i.length){var r=[];i.forEach((function(e){r.push(e.training_course)}));var l=Array.from(new Set(r));e.editActions.actions.deleteTrainingCourses=w(w([],e.editActions.actions.deleteTrainingCourses,!0),l,!0)}e.editActions.actions.update=null===(t=e.editActions.actions.update)||void 0===t?void 0:t.filter((function(e){return e.fields.training_course!==a.payload[0]}))}e.editData.data.splice(a.payload[1],52);var o=p(p({},e.editData.summary),{coursesCount:e.editData.summary.coursesCount-1});Object.keys(e.editData.summary.bySymbols).forEach((function(e){var t=o.bySymbols[e].courses[a.payload[0]];o.bySymbols[e].total={weeks:o.bySymbols[e].total.weeks-t.weeks,credits:o.bySymbols[e].total.credits-t.credits,hours:o.bySymbols[e].total.hours-t.hours},delete o.bySymbols[e].courses[a.payload[0]]})),e.editData.summary=o,e.editActions.actions.create=null===(n=e.editActions.actions.create)||void 0===n?void 0:n.filter((function(e){return e.training_course!==a.payload[0]}))},cancelEditing:function(e){if(e.data){for(var a=[],t=0;t<e.data.data.length;t++)for(var n=e.data.data[t].start_week-1;n<=e.data.data[t].end_week-1;n++)1===e.data.data[t].training_course?a[n]=p(p({},e.data.data[t]),{start_week:n+1,end_week:n+1,additional_information:e.data.data[t].additional_information?p(p({},e.data.data[t].additional_information),{start:e.data.data[t].start_week,end:e.data.data[t].end_week}):null}):2===e.data.data[t].training_course?a[n+52]=p(p({},e.data.data[t]),{start_week:n+1,end_week:n+1,additional_information:e.data.data[t].additional_information?p(p({},e.data.data[t].additional_information),{start:e.data.data[t].start_week,end:e.data.data[t].end_week}):null}):3===e.data.data[t].training_course?a[n+104]=p(p({},e.data.data[t]),{start_week:n+1,end_week:n+1,additional_information:e.data.data[t].additional_information?p(p({},e.data.data[t].additional_information),{start:e.data.data[t].start_week,end:e.data.data[t].end_week}):null}):a[n+156]=p(p({},e.data.data[t]),{start_week:n+1,end_week:n+1,additional_information:e.data.data[t].additional_information?p(p({},e.data.data[t].additional_information),{start:e.data.data[t].start_week,end:e.data.data[t].end_week}):null});e.editData={data:a,summary:e.data.summary}}else{var i=[];for(t=1;t<=52;t++)i.push({training_course:1,start_week:t,end_week:t,working_curriculum_symbol_id:1,working_curriculum_symbol:{working_curriculum_symbol_id:1,symbol_code:"THEORY",name:"Теоретическое обучение",displayed_symbol:" ",symbol_hex_color:"ffffff"}});e.editData.data=i;var r={bySymbols:{THEORY:{symbolId:1,symbolCode:"THEORY",symbolName:"Теоретическое обучение",courses:{1:{weeks:52,credits:78,hours:1872}},total:{weeks:52,credits:78,hours:1872}}},coursesCount:1};e.symbols.forEach((function(e){1!==e.working_curriculum_symbol_id&&(r.bySymbols[e.symbol_code]={symbolId:e.working_curriculum_symbol_id,symbolCode:e.symbol_code,symbolName:e.name,courses:{1:{weeks:0,credits:0,hours:0}},total:{weeks:0,credits:0,hours:0}})})),e.editData.summary=r}e.selectedCells=x.selectedCells,e.editActions=x.editActions,e.createAction=x.createAction},addNewCourse:function(e){for(var a,t,n,i,r,l,o,s,c=[],u=e.editData.data.length/52+1,d=1;d<=52;d++)c.push({training_course:u,start_week:d,end_week:d,working_curriculum_symbol_id:1,working_curriculum_symbol:{working_curriculum_symbol_id:1,symbol_code:"THEORY",name:"Теоретическое обучение",displayed_symbol:" ",symbol_hex_color:"ffffff"}});e.editData.data=w(w([],e.editData.data,!0),c,!0);var m={bySymbols:{THEORY:{symbolId:1,symbolCode:"THEORY",symbolName:"Теоретическое обучение",courses:p(p({},null===(t=e.editData.summary)||void 0===t?void 0:t.bySymbols.THEORY.courses),(a={},a[e.editData.data.length/52]={weeks:52,credits:78,hours:1872},a)),total:{weeks:((null===(n=e.editData.summary)||void 0===n?void 0:n.bySymbols.THEORY.total.weeks)||0)+52,credits:((null===(i=e.editData.summary)||void 0===i?void 0:i.bySymbols.THEORY.total.credits)||0)+78,hours:((null===(r=e.editData.summary)||void 0===r?void 0:r.bySymbols.THEORY.total.hours)||0)+1872}}},coursesCount:e.editData.data.length/52};if(e.symbols.forEach((function(a){var t,n;1!==a.working_curriculum_symbol_id&&(m.bySymbols[a.symbol_code]={symbolId:a.working_curriculum_symbol_id,symbolCode:a.symbol_code,symbolName:a.name,courses:p(p({},null===(n=e.editData.summary)||void 0===n?void 0:n.bySymbols[a.symbol_code].courses),(t={},t[e.editData.data.length/52]={weeks:0,credits:0,hours:0},t)),total:{weeks:e.editData.summary.bySymbols[a.symbol_code].total.weeks,credits:e.editData.summary.bySymbols[a.symbol_code].total.credits,hours:e.editData.summary.bySymbols[a.symbol_code].total.hours}})})),e.editData.summary=m,e.editActions.actions.create=w(w([],e.editActions.actions.create||[],!0),[{training_course:u,start_week:1,end_week:52,working_curriculum_symbol_id:1,additional_information:null}],!1),null===(l=e.editActions.actions.deleteTrainingCourses)||void 0===l?void 0:l.includes(u)){e.editActions.actions.deleteTrainingCourses=null===(o=e.editActions.actions.deleteTrainingCourses)||void 0===o?void 0:o.filter((function(e){return e!==u}));var f=null===(s=e.data)||void 0===s?void 0:s.data.filter((function(e){return e.training_course===u}));f&&f.length&&f.forEach((function(a){var t;a.working_curriculum_training_schedule_id&&(null===(t=e.editActions.actions.delete)||void 0===t||t.push(a.working_curriculum_training_schedule_id))}))}},createNewTrainingSchedule:function(e){for(var a=w(w([],e.editData.data,!0),[{training_course:-1,working_curriculum_symbol_id:-1,start_week:-1,end_week:-1,additional_information:null}],!1),t=[],n=[],i=0;i<a.length-1;i++)a[i].working_curriculum_symbol_id===a[i+1].working_curriculum_symbol_id&&a[i].training_course===a[i+1].training_course&&i!==a.length-2?t.push(a[i]):(t.push(a[i]),n.push({working_curriculum_symbol_id:t[0].working_curriculum_symbol_id,training_course:t[0].training_course,start_week:t[0].start_week,end_week:t[t.length-1].end_week,additional_information:t[0].additional_information?{standard_curriculum_modules_units_ids:t[0].additional_information.standard_curriculum_modules_units_ids}:null}),t=[]);e.createAction.data=n},updateTrainingSchedule:function(e){for(var a,t=e.selectedCells.cells[0].training_course,n=[],i=0;i<e.editData.data.length;i++)t===e.editData.data[i].training_course&&e.editData.data[i].working_curriculum_training_schedule_id&&n.push(e.editData.data[i].working_curriculum_training_schedule_id);var r=Array.from(new Set(n));e.editActions.actions.delete=Array.from(new Set(w(w([],e.editActions.actions.delete||[],!0),r,!0)));var l=w(w([],e.editData.data.filter((function(e){return e.training_course===t})),!0),[{training_course:-1,working_curriculum_symbol_id:-1,start_week:-1,end_week:-1,additional_information:null}],!1),o=[],s=[];for(i=0;i<l.length-1;i++)l[i].working_curriculum_symbol_id===l[i+1].working_curriculum_symbol_id&&l[i].training_course===l[i+1].training_course&&i!==l.length-2?o.push(l[i]):(o.push(l[i]),s.push({working_curriculum_symbol_id:o[0].working_curriculum_symbol_id,training_course:o[0].training_course,start_week:o[0].start_week,end_week:o[o.length-1].end_week,additional_information:o[0].additional_information?{standard_curriculum_modules_units_ids:o[0].additional_information.standard_curriculum_modules_units_ids}:null}),o=[]);e.editActions.actions.create=Array.from(new Set(w(w([],(null===(a=e.editActions.actions.create)||void 0===a?void 0:a.filter((function(e){return e.training_course!==t})))||[],!0),s,!0)))},changeReadOnly:function(e,a){e.readOnly=a.payload},changeRedirectToMainPage:function(e,a){e.redirectToMainPage=a.payload}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(y.fulfilled,(function(e,a){e.data=a.payload;for(var t=[],n=0;n<a.payload.data.length;n++)for(var i=a.payload.data[n].start_week-1;i<=a.payload.data[n].end_week-1;i++)1===a.payload.data[n].training_course?t[i]=p(p({},a.payload.data[n]),{start_week:i+1,end_week:i+1,additional_information:a.payload.data[n].additional_information?p(p({},a.payload.data[n].additional_information),{start:a.payload.data[n].start_week,end:a.payload.data[n].end_week}):null}):2===a.payload.data[n].training_course?t[i+52]=p(p({},a.payload.data[n]),{start_week:i+1,end_week:i+1,additional_information:a.payload.data[n].additional_information?p(p({},a.payload.data[n].additional_information),{start:a.payload.data[n].start_week,end:a.payload.data[n].end_week}):null}):3===a.payload.data[n].training_course?t[i+104]=p(p({},a.payload.data[n]),{start_week:i+1,end_week:i+1,additional_information:a.payload.data[n].additional_information?p(p({},a.payload.data[n].additional_information),{start:a.payload.data[n].start_week,end:a.payload.data[n].end_week}):null}):t[i+156]=p(p({},a.payload.data[n]),{start_week:i+1,end_week:i+1,additional_information:a.payload.data[n].additional_information?p(p({},a.payload.data[n].additional_information),{start:a.payload.data[n].start_week,end:a.payload.data[n].end_week}):null});e.dataParsed={data:w([],t,!0),summary:a.payload.summary},e.editData={data:t,summary:a.payload.summary},e.isLoading=!1})).addCase(y.rejected,(function(e,a){e.isLoading=!1,e.error=a.payload})).addCase(n.z.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(n.z.fulfilled,(function(e,a){e.isLoading=!1,e.symbols=a.payload})).addCase(n.z.rejected,(function(e,a){e.isLoading=!1,e.error=a.payload})).addCase(_.pending,(function(e){e.createAction.errors=void 0,e.createAction.isLoading=!0,e.createAction.created=!1})).addCase(_.fulfilled,(function(e){e.createAction.isLoading=!1,e.createAction.created=!0})).addCase(_.rejected,(function(e,a){e.createAction.isLoading=!1,e.createAction.errors=a.payload,e.createAction.created=!1})).addCase(v.pending,(function(e){e.editActions.errors=void 0,e.editActions.isLoading=!0,e.editActions.updated=!1})).addCase(v.fulfilled,(function(e){e.editActions.isLoading=!1,e.editActions.updated=!0})).addCase(v.rejected,(function(e,a){e.editActions.isLoading=!1,e.editActions.errors=a.payload,e.editActions.updated=!1})).addCase(g.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(g.fulfilled,(function(e,a){e.isLoading=!1,e.professionalModules=a.payload})).addCase(g.rejected,(function(e,a){e.isLoading=!1,e.error=a.payload}))}}),S=C.actions,k=C.reducer,j=t(5893),N=t(7294),E=t(4387),A=t(9250),D=t(9161),O=t(1353),R=t(5131),M=t(9456),I=t(8321),T=t(4809),H=t(9086),z=t(5461),L=t(6458),X=t(4475),B=t(530),P=t(9719),F=t(596),W=t(238);const q="m48iPXjA";var Y=function(){return Y=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},Y.apply(this,arguments)},G=(0,N.memo)((function(e){var a=e.className,t=e.isOpen,n=e.onClose,i=e.onSubmitForm,r=(0,A.s0)(),l=(0,N.useCallback)((function(){r((0,H.MC)())}),[r]);return(0,j.jsxs)(W.u,Y({contentClassName:(0,E.A)("DfS6yxmJ",{},[a]),onClose:n,isOpen:t},{children:[(0,j.jsx)(T.xv,Y({weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:"Сохранить измененные данные?"})),(0,j.jsxs)("div",Y({className:"__nuQ_R_"},{children:[(0,j.jsxs)(D.zx,Y({theme:D.bn.BACKGROUND,size:D.qE.XS,className:q,onClick:i},{children:[(0,j.jsx)(T.xv,Y({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Да"})),(0,j.jsx)(O.J,{Svg:I.Z})]})),(0,j.jsxs)(D.zx,Y({theme:D.bn.BACKGROUND_DARK,size:D.qE.XS,className:q,onClick:l},{children:[(0,j.jsx)(T.xv,Y({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Нет"})),(0,j.jsx)(O.J,{Svg:M.Z})]}))]}))]}))}));const U={WorkingCurriculumTrainingSchedule:"mtCtwhS9",content:"tCVzT7aH",buttons:"xRmYROEA",buttonsRightWrapper:"uhOeSH4s",btn:"ikwCTpz1",exitBtnIcon:"xVhgjVVQ",editIcon:"cZ1GXqb9",fileIcon:"_UukG9oK"};var Z=t(3728),J=t(1138),K=t(3009),V=t(1290);const Q={WorkingCurriculumTrainingScheduleGeneralInfo:"akngmItM",title:"tzBOQF1h",content:"hUuopTM7",table:"GjDWlhyU",tableRow:"KNxEI8DO",tableCell:"jygmKaMG",tableBody:"Nt0654gJ",tableCellTitle:"kicnwEEZ",tableCellSpecialty:"iy5WFOpv",tableCellQualification:"T7Ak8VOY",tableCellId:"aOkfMV1E",tableCellAcademYear:"qa035Y8M",tableCellEducationBase:"XX6fRgkA",tableCellEduForm:"zk1qF_S4",showMoreBtn:"RZAA2ZOW"};var $,ee=function(){return ee=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},ee.apply(this,arguments)},ae=(0,N.memo)((function(e){var a,t=e.className,n=e.workingCurriculumId,i=(0,z.T)(),r=(0,N.useState)([]),l=r[0],o=r[1],s=(0,N.useState)(!1),c=s[0],u=s[1],d=(0,L.v9)(Z.Qw),m=(0,L.v9)(Z.vO),f=(0,L.v9)(Z.Ke),h=(0,L.v9)(K.qJ),b=(0,L.v9)(K.Rs),y=(0,L.v9)(K.bV),v=(0,N.useCallback)((function(){u((function(e){return!e}))}),[]);return(0,N.useEffect)((function(){n&&i((0,Z.kg)(n))}),[i,n]),(0,N.useEffect)((function(){d&&!m&&(i((0,K._N)(String(d.standard_curricula.standard_curriculum_id))),i((0,V.Pu)(String(d.academic_year_from))))}),[i,d,m]),(0,N.useEffect)((function(){h&&o(c?h.qualifications:h.qualifications.slice(0,1))}),[c,h]),a=m||b?(0,j.jsx)(J.O,{width:"100%",height:200}):f||y?(0,j.jsx)(T.xv,ee({theme:T.lg.ERROR,size:T.yH.M,weight:T.fs.SEMIBOLD,className:Q.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",ee({className:(0,E.A)(Q.table,{},[])},{children:[(0,j.jsx)("div",ee({className:Q.tableHead},{children:(0,j.jsxs)("div",ee({className:Q.tableRow},{children:[(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellId])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"ID"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellTitle])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"Название"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellSpecialty])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"Специальность"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellQualification])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"Квалификация"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellEducationBase])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"База образования"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellEduForm])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"Форма обучения"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellAcademYear])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:"Академический год"}))}))]}))})),(0,j.jsx)("div",ee({className:Q.tableBody},{children:l.length?l.map((function(e){return(0,j.jsxs)("div",ee({className:Q.tableRow},{children:[(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellId])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:null==d?void 0:d.working_curriculum_id}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellTitle])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XXS},{children:null==d?void 0:d.title}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellSpecialty])},{children:(0,j.jsxs)(T.xv,ee({size:T.yH.XXS},{children:[null==d?void 0:d.standard_curricula.specialty.shifr_spec," ","-"," ",null==d?void 0:d.standard_curricula.specialty.speciality]}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellQualification])},{children:(0,j.jsxs)(T.xv,ee({size:T.yH.XXS},{children:[e.qualification.shifr_qual," ","-"," ",e.qualification.qualification]}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellEducationBase])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:null==d?void 0:d.education_basis.short_name}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellEduForm])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:(null==d?void 0:d.is_full_time_education)?"Очная":"Заочная"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellAcademYear])},{children:(0,j.jsxs)(T.xv,ee({size:T.yH.XS},{children:[null==d?void 0:d.academic_year_from," ","-"," ",null==d?void 0:d.academic_year_to]}))}))]}),e.qualification_id)})):(0,j.jsxs)("div",ee({className:Q.tableRow},{children:[(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellId])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:null==d?void 0:d.working_curriculum_id}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellTitle])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XXS},{children:null==d?void 0:d.title}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellSpecialty])},{children:(0,j.jsxs)(T.xv,ee({size:T.yH.XXS},{children:[null==d?void 0:d.standard_curricula.specialty.shifr_spec," ","-"," ",null==d?void 0:d.standard_curricula.specialty.speciality]}))})),(0,j.jsx)("div",{className:(0,E.A)(Q.tableCell,{},[Q.tableCellQualification])}),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellEducationBase])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:null==d?void 0:d.education_basis.short_name}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellEduForm])},{children:(0,j.jsx)(T.xv,ee({size:T.yH.XS},{children:(null==d?void 0:d.is_full_time_education)?"Очная":"Заочная"}))})),(0,j.jsx)("div",ee({className:(0,E.A)(Q.tableCell,{},[Q.tableCellAcademYear])},{children:(0,j.jsxs)(T.xv,ee({size:T.yH.XS},{children:[null==d?void 0:d.academic_year_from," ","-"," ",null==d?void 0:d.academic_year_to]}))}))]}))}))]})),l.length&&h.qualifications.length>1?(0,j.jsx)(D.zx,ee({theme:D.bn.CLEAR,className:Q.showMoreBtn,onClick:v},{children:c?"Показать меньше информации":"Показать больше информации"})):""]}),(0,j.jsxs)("div",ee({className:(0,E.A)(Q.WorkingCurriculumTrainingScheduleGeneralInfo,{},[t])},{children:[(0,j.jsx)(T.xv,ee({size:T.yH.M,theme:T.lg.PRIMARY,weight:T.fs.SEMIBOLD,align:T.PH.CENTER,className:Q.title},{children:"Общая информация о РУП"})),(0,j.jsx)("div",ee({className:Q.content},{children:a}))]}))}));function te(){return te=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},te.apply(this,arguments)}const ne=function(e){return N.createElement("svg",te({width:24,height:27,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),$||($=N.createElement("path",{d:"M4.692 26.333c-.745 0-1.38-.262-1.905-.786A2.595 2.595 0 0 1 2 23.642V3H.333V1.333H7V.05h10v1.283h6.667V3H22v20.642c0 .766-.256 1.406-.77 1.92s-1.155.771-1.922.771H4.692ZM20.334 3H3.666v20.642c0 .299.096.544.288.736a.998.998 0 0 0 .737.289h14.616c.256 0 .491-.107.706-.32.213-.215.32-.45.32-.705V3ZM8.347 21.333h1.667v-15H8.347v15Zm5.64 0h1.666v-15h-1.666v15Z",fill:"#FF6D6D"})))};var ie=t(8683),re=t(6648);const le={content:"nL7KIev0",title:"trg8FWNS",selectSymbols:"k3_Navdm",theorySymbol:"sxk7s3Rv",symbolBtn:"VGFTU6R_",activeSymbolBtn:"FHjlIFqe",table:"xIWmOutF",tableRow:"efg1pAPl",tableCell:"jSl_WZRR",tableAsideName:"L8UtEU3b",tableMonths:"XRP8WGEW",tableMonth:"s2WiyvZc",tableMonthName:"MZfbyiAm",tableMonthDate:"spmJ_eUE",tableMonthDates:"iPYTfFX0",tableCourseInfoWrapper:"vrYToqE9",tableCourseName:"iLkscRUv",deleteActiveButton:"aDhKQ2Ha",tableWeeks:"PNHohCa0",tableMonthEmpty:"YbUjdiz0",tableCourseInfo:"_sldKtZO",tableWeek:"daisrCSr",symbolsInfo:"dFzRfzxQ",symbolInfo:"dILpughZ",symbolBox:"HVKMuNmq",symbolText:"Ye2uFwom",tableAddNewRow:"lt6APiTz",tableAddNewRowIcon:"X70bPw40"};var oe=t(9107);var se=function(){return se=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},se.apply(this,arguments)},ce=(0,N.memo)((function(e){var a=e.className,t=e.trainingScheduleData,n=e.course,i=e.setCourse,r=(0,z.T)(),l=[],o=(0,N.useState)(0),c=o[0],u=o[1],d=(0,N.useState)(0),m=d[0],h=d[1],b=(0,N.useState)(!1),y=b[0],v=b[1],_=(0,oe.X)().width,g=(0,N.useState)(0),p=g[0],w=g[1],x=(0,L.v9)(s),C=(0,L.v9)(f),k=function(e,a){!C&&y&&(e.additional_information?h(c<=m?e.additional_information.end:e.additional_information.start):h(a))};return(0,N.useEffect)((function(){w(_<=1919?21.9:34.05)}),[_]),(0,N.useEffect)((function(){if(!C&&t&&0!==c&&0!==n&&0!==m){var e=[],a=[];if(c<m)for(var i=c;i<=m;i++)e.push(t[i-1]),a.push(t[i-1].working_curriculum_symbol_id);else for(i=m;i<=c;i++)e.push(t[i-1]),a.push(t[i-1].working_curriculum_symbol_id);var l={trainingCourse:n,cells:e,symbol:a,symbolsEqual:a.every((function(e,a,t){return e===t[0]}))};r(S.changeSelectedCells(l))}}),[n,r,m,c,C]),(0,N.useEffect)((function(){x&&!C||(u(0),h(0),i(0))}),[x,i,C]),null==t||t.forEach((function(e,t){var r,o,s=(0,j.jsx)("div",se({className:(0,E.A)("N1CqgYir",(r={},r.xLfDKRmD=(m<=e.start_week&&e.start_week<=c||c<=e.start_week&&e.start_week<=m)&&e.training_course===n&&0!==c&&0!==m,r.nkaUDr30=c<m?t+1===c&&e.training_course===n&&0!==c&&0!==m:t+1===m&&e.training_course===n&&0!==c&&0!==m,r.R6vTFuPj=c<m?t+1===m&&e.training_course===n&&0!==c&&0!==m:t+1===c&&e.training_course===n&&0!==c&&0!==m,r.vXCbG146=!!e.additional_information,r.qQw2Qb6_=!!e.additional_information&&e.additional_information.start===t+1,r.X6dZqTRL=!!e.additional_information&&e.additional_information.end===t+1,r.g7frtJ8c=C,r),[a]),onMouseDown:function(){return function(e,a,t){C||(e.additional_information?(u(e.additional_information.start),h(e.additional_information.end),i(a),v(!0),k(e,t)):(u(0),h(0),i(a),v(!0),u(t),k(e,t)))}(e,e.training_course,e.start_week)},onMouseUp:function(){return function(e,a,t){void 0===t&&(t=m),C||(i(a),v(!1),k(e,t))}(e,e.training_course,e.start_week)},onMouseMove:function(){return k(e,e.start_week)}},{children:(0,j.jsx)("span",se({style:{width:e.additional_information&&e.end_week&&e.start_week?"".concat((e.additional_information.end-e.additional_information.start+1)*p,"px"):"auto"},className:"RAoAteyr"},{children:(0,j.jsxs)("span",se({style:{backgroundColor:"".concat(e.working_curriculum_symbol.symbol_hex_color)}},{children:[e.working_curriculum_symbol.displayed_symbol,"PROFESSIONAL_MODULE"===e.working_curriculum_symbol.symbol_code&&(null===(o=e.additional_information)||void 0===o?void 0:o.standard_curriculum_modules_units_ids.join(",")),e.additional_information&&e.additional_information.end&&e.additional_information.start&&e.additional_information.end-e.additional_information.start+1>=6&&" (".concat(e.additional_information.end-e.additional_information.start+1," жұма/нед)")]}))}))}),e.start_week+e.training_course+e.working_curriculum_symbol.symbol_code);l.push(s)})),(0,j.jsx)("div",se({className:"mOK0Jtvy",onMouseLeave:function(){v(!1)}},{children:l}))}));const ue="JnCNJH38";var de=function(){return de=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},de.apply(this,arguments)},me={course_1:[0,52],course_2:[52,104],course_3:[104,156],course_4:[156,208]},fe=(0,N.memo)((function(e){var a=e.className,t=e.onClose,n=e.isOpen,i=e.deletingCourse,l=(0,z.T)(),o=(0,L.v9)(r),c=(0,L.v9)(s),u=(0,N.useCallback)((function(){if(o&&i===o.data.length/52){var e=me["course_".concat(i)];l(S.deleteCourseFromTable([i,e[0],e[1]]))}(null==c?void 0:c.trainingCourse)===i&&l(S.deleteSelectedCells()),t()}),[i,l,t,null==c?void 0:c.trainingCourse,o]);return(0,j.jsxs)(W.u,de({contentClassName:(0,E.A)("Exm2LN_F",{},[a]),onClose:t,isOpen:n},{children:[(0,j.jsx)(T.xv,de({size:T.yH.XS,weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:"В выбранном поле присутствуют данные."})),(0,j.jsx)(T.xv,de({size:T.yH.XS,weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:"Продолжить?"})),(0,j.jsxs)("div",de({className:"zQQiM38C"},{children:[(0,j.jsxs)(D.zx,de({theme:D.bn.BACKGROUND_DARK,size:D.qE.XS,className:ue,onClick:t},{children:[(0,j.jsx)(T.xv,de({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Отмена"})),(0,j.jsx)(O.J,{Svg:M.Z})]})),(0,j.jsxs)(D.zx,de({theme:D.bn.BACKGROUND,size:D.qE.XS,className:ue,onClick:u},{children:[(0,j.jsx)(T.xv,de({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Удалить"})),(0,j.jsx)(O.J,{Svg:I.Z})]}))]}))]}))})),he=t(100);const be="tNFhIUUq";var ye=function(){return ye=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},ye.apply(this,arguments)},ve=function(e,a,t){if(t||2===arguments.length)for(var n,i=0,r=a.length;i<r;i++)!n&&i in a||(n||(n=Array.prototype.slice.call(a,0,i)),n[i]=a[i]);return e.concat(n||Array.prototype.slice.call(a))},_e=(0,N.memo)((function(e){var a,t=e.className,n=e.onClose,i=e.isOpen,r=e.creditsPerHour,c=(0,N.useState)(),u=c[0],d=c[1],m=(0,N.useRef)(null),f=(0,z.T)(),h=(0,N.useState)([]),b=h[0],y=h[1],v=(0,N.useState)([]),_=v[0],p=v[1],w=(0,N.useState)([]),x=w[0],C=w[1],k=null===(a=(0,L.v9)(K.qJ))||void 0===a?void 0:a.standard_curriculum_id,A=(0,L.v9)(l),R=(0,L.v9)(s),H=(0,L.v9)(o);(0,N.useEffect)((function(){if(A&&A.length){C(A);var e=A.map((function(e){return e.educational_modules_unit.name}));p(e)}}),[A]);var P=(0,N.useCallback)((function(){n(),y([])}),[n]),F=(0,N.useCallback)((function(e,a){if(b.filter((function(a){return a===e}))[0]){var t=b.filter((function(a){return a!==e}));y(t)}else y((function(a){return ve(ve([],a,!0),[e],!1)}))}),[b]),q=(0,N.useCallback)((function(){if(b.length){var e=[];b.forEach((function(a){x.forEach((function(t){a===t.educational_modules_unit.name&&e.push(t.standard_curriculum_modules_unit_id)}))}));var a=H.filter((function(e){return"PROFESSIONAL_MODULE"===e.symbol_code}))[0],t=ve([],R.cells,!0).map((function(t){return ye(ye({},t),{working_curriculum_symbol_id:a.working_curriculum_symbol_id,working_curriculum_symbol:a,additional_information:{standard_curriculum_modules_units_ids:e,start:R.cells[0].start_week,end:R.cells[R.cells.length-1].start_week}})}));t.forEach((function(e){f(S.changeSelectedSymbolInData([e,r]))})),f(S.calculateTotalFieldsInSummaryData());var n={trainingCourse:R.trainingCourse,cells:t,symbol:R.symbol,symbolsEqual:R.symbolsEqual},i=ye(ye({},n),{symbol:[a.working_curriculum_symbol_id],symbolsEqual:!0});f(S.changeSelectedCells(i)),f(S.updateTrainingSchedule()),P()}else d(B.F.error("Выберите хотя бы один образовательный модуль"))}),[r,f,P,R,b,H,x]);return(0,N.useEffect)((function(){k&&f(g(String(k)))}),[f,k]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(W.u,ye({contentClassName:(0,E.A)("qH2lEurk",{},[t]),onClose:P,isOpen:i},{children:[(0,j.jsx)(he.u,{label:"Выбрать образовательный модуль",options:_,optionValue:b,onClickOption:F,columnName:"",multiSelect:!0}),(0,j.jsxs)("div",ye({className:"k2yyD6iQ"},{children:[(0,j.jsxs)(D.zx,ye({theme:D.bn.BACKGROUND_DARK,size:D.qE.XS,className:be,onClick:P},{children:[(0,j.jsx)(T.xv,ye({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Отмена"})),(0,j.jsx)(O.J,{Svg:M.Z})]})),(0,j.jsxs)(D.zx,ye({theme:D.bn.BACKGROUND,size:D.qE.XS,className:be,onClick:q},{children:[(0,j.jsx)(T.xv,ye({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Выбрать"})),(0,j.jsx)(O.J,{Svg:I.Z})]}))]}))]})),(0,j.jsx)(X.KF,{ref:m,push:u,placement:"top-end"})]})})),ge=function(){return ge=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},ge.apply(this,arguments)},pe=function(e,a,t){if(t||2===arguments.length)for(var n,i=0,r=a.length;i<r;i++)!n&&i in a||(n||(n=Array.prototype.slice.call(a,0,i)),n[i]=a[i]);return e.concat(n||Array.prototype.slice.call(a))},we=(0,N.memo)((function(e){var a,t,i,l,h,b,v,_=e.className,g=e.workingCurriculumId,p=(0,N.useState)(),w=p[0],x=p[1],C=(0,N.useRef)(null),k=(0,z.T)(),A=(0,N.useState)(0),R=A[0],M=A[1],I=(0,N.useState)(!1),H=I[0],P=I[1],F=(0,N.useState)(!1),W=F[0],q=F[1],Y=(0,N.useState)(0),G=Y[0],U=Y[1],Z=(0,N.useState)(0),K=Z[0],Q=Z[1],$=(0,L.v9)(r),ee=(0,L.v9)(o),ae=(0,L.v9)(m),te=(0,L.v9)(d),oe=(0,L.v9)(V.g9),se=(0,L.v9)(V.vW),ue=(0,L.v9)(V.lj),de=null===(a=(0,L.v9)(c))||void 0===a?void 0:a.isLoading,me=null===(t=(0,L.v9)(c))||void 0===t?void 0:t.errors,he=null===(i=(0,L.v9)(c))||void 0===i?void 0:i.created,be=null===(l=(0,L.v9)(u))||void 0===l?void 0:l.isLoading,ye=null===(h=(0,L.v9)(u))||void 0===h?void 0:h.errors,ve=null===(b=(0,L.v9)(u))||void 0===b?void 0:b.updated,we=(0,L.v9)(re.rb),xe=(0,L.v9)(re.yl),Ce=(0,L.v9)(re.sE),Se=(0,L.v9)(s),ke=(0,L.v9)(f),je=(0,N.useCallback)((function(){q(!1)}),[]),Ne=(0,N.useCallback)((function(){P(!0)}),[]),Ee=(0,N.useCallback)((function(){P(!1)}),[]),Ae=(0,N.useCallback)((function(e){if(Se)if("PROFESSIONAL_MODULE"===e.symbol_code)Ne();else{var a=pe([],Se.cells,!0).map((function(a){return ge(ge({},a),{working_curriculum_symbol_id:e.working_curriculum_symbol_id,working_curriculum_symbol:e,additional_information:null})}));a.forEach((function(e){k(S.changeSelectedSymbolInData([e,K]))})),k(S.calculateTotalFieldsInSummaryData());var t={trainingCourse:Se.trainingCourse,cells:a,symbol:Se.symbol,symbolsEqual:Se.symbolsEqual},n=ge(ge({},t),{symbol:[e.working_curriculum_symbol_id],symbolsEqual:!0});k(S.changeSelectedCells(n)),k(S.updateTrainingSchedule())}}),[K,k,Ne,Se]),De=(0,N.useCallback)((function(){k(S.addNewCourse())}),[k]),Oe=(0,N.useCallback)((function(e){U(e),q(!0)}),[]);return(0,N.useEffect)((function(){g&&(k((0,n.z)()),k((0,re.tb)()),k(y(g)))}),[k,g]),(0,N.useEffect)((function(){if(we){var e=we.hectum_curriculum.options.filter((function(e){return"credit_in_hours"===e.name}))[0].value;Q(Number(e))}}),[we]),(0,N.useEffect)((function(){me&&x(B.F.error("Произошла ошибка при создании графика учебного процесса"))}),[me]),(0,N.useEffect)((function(){ye&&x(B.F.error("Произошла ошибка при обновлении данных графика учебного процесса"))}),[ye]),(0,N.useEffect)((function(){he&&x(B.F.success("Данные графика учебного процесса успешно обновлены"))}),[he]),(0,N.useEffect)((function(){ve&&x(B.F.success("Данные графика учебного процесса успешно обновлены"))}),[ve]),v=ae||se||de||be||xe?(0,j.jsx)(J.O,{height:600,width:"100%"}):te&&404!==(null==te?void 0:te.status)||ue||Ce?(0,j.jsx)(T.xv,ge({theme:T.lg.ERROR,size:T.yH.M,weight:T.fs.SEMIBOLD,className:le.error,align:T.PH.CENTER},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,j.jsxs)(j.Fragment,{children:[!ke&&(0,j.jsx)("div",ge({className:le.selectSymbols},{children:null==ee?void 0:ee.map((function(e){var a,t;return(0,j.jsx)(D.zx,ge({className:(0,E.A)(le.symbolBtn,(a={},a[le.activeSymbolBtn]=(null==Se?void 0:Se.symbolsEqual)&&(null===(t=null==Se?void 0:Se.symbol)||void 0===t?void 0:t[0])===e.working_curriculum_symbol_id,a),[]),theme:D.bn.CLEAR,buttonForm:D.N5.NOT_BORDERED,onClick:function(){Ae(e)},title:e.name},{children:"THEORY"===e.symbol_code?(0,j.jsx)("span",{className:le.theorySymbol}):e.displayed_symbol}),e.symbol_code)}))})),(0,j.jsxs)("div",ge({className:le.table},{children:[(0,j.jsxs)("div",ge({className:le.tableRow},{children:[(0,j.jsx)("div",ge({className:(0,E.A)(le.tableAsideName,{},[le.tableCell])},{children:(0,j.jsx)(T.xv,ge({size:T.yH.M,weight:T.fs.SEMIBOLD},{children:"Курс"}))})),(0,j.jsx)("div",ge({className:le.tableMonths},{children:null==oe?void 0:oe.byMonths.map((function(e){var a;return(0,j.jsxs)("div",ge({className:(0,E.A)(le.tableMonth,(a={},a[le.tableMonthEmpty]=e.doubleMonth,a),[])},{children:[e.doubleMonth?(0,j.jsx)("div",{className:(0,E.A)(le.tableMonthName,{},[le.tableCell])}):(0,j.jsx)(T.xv,ge({size:T.yH.XM,weight:T.fs.SEMIBOLD,className:(0,E.A)(le.tableMonthName,{},[le.tableCell])},{children:e.monthsNamesRu})),e.doubleMonth?(0,j.jsxs)("div",ge({className:(0,E.A)(le.tableMonthDate,{},[le.tableCell])},{children:[(0,j.jsx)(T.xv,{children:e.weeks[0].startDay}),(0,j.jsx)(T.xv,{children:e.weeks[0].endDay})]})):(0,j.jsx)("div",ge({className:le.tableMonthDates},{children:e.weeks.map((function(e){return(0,j.jsxs)("div",ge({className:(0,E.A)(le.tableMonthDate,{},[le.tableCell])},{children:[(0,j.jsx)(T.xv,{children:e.startDay}),(0,j.jsx)(T.xv,{children:e.endDay})]}))}))}))]}))}))}))]})),(0,j.jsxs)("div",ge({className:le.tableRow},{children:[(0,j.jsx)("div",ge({className:(0,E.A)(le.tableAsideName,{},[le.tableCell])},{children:(0,j.jsx)(T.xv,ge({size:T.yH.M,weight:T.fs.SEMIBOLD},{children:"Недели"}))})),(0,j.jsx)("div",ge({className:le.tableWeeks},{children:null==oe?void 0:oe.byWeeks.map((function(e){return(0,j.jsx)(T.xv,ge({weight:T.fs.SEMIBOLD,className:(0,E.A)(le.tableWeek,{},[le.tableCell])},{children:e.index}),e.index)}))}))]})),$&&pe([],new Array($.data.length/52),!0).map((function(e,a){var t;return(0,j.jsxs)("div",ge({className:le.tableRow},{children:[(0,j.jsxs)(D.zx,ge({className:(0,E.A)(le.tableAsideName,(t={},t[le.deleteActiveButton]=$&&a+1===$.data.length/52&&!ke,t),[le.tableCell,le.tableCourseName]),theme:D.bn.CLEAR,onClick:function(){Oe(a+1)},buttonForm:D.N5.NOT_BORDERED,disabled:$&&a+1!==$.data.length/52||ke},{children:[(0,j.jsx)(T.xv,ge({weight:T.fs.SEMIBOLD},{children:a+1})),$&&a+1===$.data.length/52&&!ke&&(0,j.jsx)(O.J,{Svg:ne})]})),(0,j.jsxs)("div",ge({className:le.tableCourseInfoWrapper},{children:[a+1===1&&(0,j.jsx)(ce,{className:(0,E.A)(le.tableCourseInfo,{},[le.tableCell]),trainingScheduleData:null==$?void 0:$.data.slice(0,52),course:R,setCourse:M}),a+1===2&&(0,j.jsx)(ce,{className:(0,E.A)(le.tableCourseInfo,{},[le.tableCell]),trainingScheduleData:null==$?void 0:$.data.slice(52,104),course:R,setCourse:M}),a+1===3&&(0,j.jsx)(ce,{className:(0,E.A)(le.tableCourseInfo,{},[le.tableCell]),trainingScheduleData:null==$?void 0:$.data.slice(104,156),course:R,setCourse:M}),a+1===4&&(0,j.jsx)(ce,{className:(0,E.A)(le.tableCourseInfo,{},[le.tableCell]),trainingScheduleData:null==$?void 0:$.data.slice(156,208),course:R,setCourse:M})]}))]}),a+1)})),$&&$.data.length/52!=4&&!ke&&(0,j.jsx)(D.zx,ge({className:(0,E.A)(le.tableAsideName,{},[le.tableCell,le.tableAddNewRow]),theme:D.bn.CLEAR,buttonForm:D.N5.NOT_BORDERED,onClick:De},{children:(0,j.jsx)(O.J,{className:le.tableAddNewRowIcon,Svg:ie.Z})}))]})),(0,j.jsx)("div",ge({className:le.symbolsInfo},{children:null==ee?void 0:ee.map((function(e){return(0,j.jsxs)("div",ge({className:le.symbolInfo},{children:[(0,j.jsx)("div",ge({className:le.symbolBox},{children:(0,j.jsx)("span",ge({style:{backgroundColor:"".concat(e.symbol_hex_color)}},{children:e.displayed_symbol}))})),(0,j.jsx)(T.xv,ge({className:le.symbolText},{children:e.name}))]}),e.symbol_code)}))}))]}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",ge({className:(0,E.A)(le.WorkingCurriculumTrainingScheduleTable,{},[_])},{children:[(0,j.jsx)(T.xv,ge({size:T.yH.M,theme:T.lg.PRIMARY,weight:T.fs.SEMIBOLD,align:T.PH.CENTER,className:le.title},{children:"График учебного процесса"})),(0,j.jsx)("div",ge({className:le.content},{children:v}))]})),(0,j.jsx)(fe,{onClose:je,isOpen:W,deletingCourse:G}),(0,j.jsx)(_e,{onClose:Ee,isOpen:H,creditsPerHour:K}),(0,j.jsx)(X.KF,{ref:C,push:w,placement:"top-end"})]})}));const xe={WorkingCurriculumTrainingScheduleSummaryData:"NOjp_HSg",title:"g5822MDo",table:"Re_ELavo",tableRow:"kwLShLo5",tableCell:"xwGHGr2q",tableAsideName:"SWYzXJMA",tableCourseName:"RLlCIyma",tableSymbolData:"Ueqh9WWy",tableSymbolInfo:"QdUCAgxR",tableSymbolName:"S8j2UQfA",tableCourseInfoWrapper:"kLMpzk3W"};var Ce=function(){return Ce=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},Ce.apply(this,arguments)},Se=function(e,a,t){if(t||2===arguments.length)for(var n,i=0,r=a.length;i<r;i++)!n&&i in a||(n||(n=Array.prototype.slice.call(a,0,i)),n[i]=a[i]);return e.concat(n||Array.prototype.slice.call(a))},ke=(0,N.memo)((function(e){var a,t,n=e.className,i=(0,z.T)(),l=null===(a=(0,L.v9)(r))||void 0===a?void 0:a.summary,s=l&&Object.keys(l.bySymbols),c=(0,L.v9)(m),u=(0,L.v9)(d),f=(0,L.v9)(o);return(0,N.useEffect)((function(){u&&404===u.status&&f&&!c&&i(S.initEditDataSummary())}),[i,u,c,f]),t=c||!l?(0,j.jsx)(J.O,{className:xe.table,height:300,width:"100%"}):u&&404!==u.status?(0,j.jsx)(T.xv,Ce({theme:T.lg.ERROR,size:T.yH.M,weight:T.fs.SEMIBOLD,className:(0,E.A)(xe.error,{},[xe.table])},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,j.jsxs)("div",Ce({className:xe.table},{children:[(0,j.jsxs)("div",Ce({className:xe.tableRow},{children:[(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableAsideName,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Курс"}))})),null==s?void 0:s.map((function(e){return(0,j.jsxs)("div",Ce({className:xe.tableSymbolInfo},{children:[(0,j.jsx)(T.xv,Ce({className:(0,E.A)(xe.tableSymbolName,{},[xe.tableCell]),size:T.yH.XXS,weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:null==l?void 0:l.bySymbols[e].symbolName})),(0,j.jsxs)("div",Ce({className:xe.tableSymbolData},{children:[(0,j.jsx)(T.xv,Ce({className:(0,E.A)(xe.tableSymbolDataName,{},[xe.tableCell]),size:T.yH.XXS,weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:"нед."})),(0,j.jsx)(T.xv,Ce({className:(0,E.A)(xe.tableSymbolDataName,{},[xe.tableCell]),size:T.yH.XXS,weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:"час."})),(0,j.jsx)(T.xv,Ce({className:(0,E.A)(xe.tableSymbolDataName,{},[xe.tableCell]),size:T.yH.XXS,weight:T.fs.SEMIBOLD,align:T.PH.CENTER},{children:"кред."}))]}))]}),e)}))]})),Se([],new Array(null==l?void 0:l.coursesCount),!0).map((function(e,a){return(0,j.jsxs)("div",Ce({className:xe.tableRow},{children:[(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableAsideName,{},[xe.tableCell,xe.tableCourseName])},{children:(0,j.jsx)(T.xv,Ce({weight:T.fs.SEMIBOLD,size:T.yH.XXS},{children:a+1}))}),a),null==s?void 0:s.map((function(e){var t=null==l?void 0:l.bySymbols[e];return(0,j.jsxs)("div",Ce({className:xe.tableCourseInfoWrapper},{children:[(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableCourseInfo,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XXS},{children:null==t?void 0:t.courses[a+1].weeks}))})),(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableCourseInfo,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XXS},{children:null==t?void 0:t.courses[a+1].hours}))})),(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableCourseInfo,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XXS},{children:null==t?void 0:t.courses[a+1].credits}))}))]}),e)}))]}),a)})),(0,j.jsxs)("div",Ce({className:xe.tableRow},{children:[(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableAsideName,{},[xe.tableCell,xe.tableCourseName])},{children:(0,j.jsx)(T.xv,Ce({weight:T.fs.SEMIBOLD,size:T.yH.XXS},{children:"Итого"}))})),null==s?void 0:s.map((function(e){var a=null==l?void 0:l.bySymbols[e];return(0,j.jsxs)("div",Ce({className:xe.tableCourseInfoWrapper},{children:[(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableCourseInfo,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XXS,weight:T.fs.SEMIBOLD},{children:null==a?void 0:a.total.weeks}))})),(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableCourseInfo,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XXS,weight:T.fs.SEMIBOLD},{children:null==a?void 0:a.total.hours}))})),(0,j.jsx)("div",Ce({className:(0,E.A)(xe.tableCourseInfo,{},[xe.tableCell])},{children:(0,j.jsx)(T.xv,Ce({size:T.yH.XXS,weight:T.fs.SEMIBOLD},{children:null==a?void 0:a.total.credits}))}))]}),e)}))]}))]})),(0,j.jsxs)("div",Ce({className:(0,E.A)(xe.WorkingCurriculumTrainingScheduleSummaryData,{},[n])},{children:[(0,j.jsx)(T.xv,Ce({size:T.yH.M,theme:T.lg.PRIMARY,weight:T.fs.SEMIBOLD,align:T.PH.CENTER,className:xe.title},{children:"Сводные данные"})),t]}))})),je=function(){return je=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},je.apply(this,arguments)},Ne=(0,N.memo)((function(e){var a,t,n=e.className,l=(0,N.useState)(),o=l[0],s=l[1],b=(0,N.useRef)(null),y=(0,z.T)(),g=(0,A.TH)().pathname,p=(0,A.s0)(),w=(0,N.useState)(""),x=w[0],C=w[1],k=(0,N.useState)(!1),W=k[0],q=k[1],Y=(0,L.v9)(i),Z=(0,L.v9)(r),J=(0,L.v9)(m),K=(0,L.v9)(d),V=null===(a=(0,L.v9)(c))||void 0===a?void 0:a.isLoading,Q=null===(t=(0,L.v9)(u))||void 0===t?void 0:t.isLoading,$=(0,L.v9)(f),ee=(0,L.v9)(h),te=(0,N.useCallback)((function(){if(JSON.stringify(Z)!==JSON.stringify(Y))return y(S.changeRedirectToMainPage(!0)),void q(!0);p((0,H.MC)())}),[y,p,Y,Z]),ne=(0,N.useCallback)((function(){y(S.changeRedirectToMainPage(!1)),q(!1)}),[y]),ie=(0,N.useCallback)((function(){y(S.cancelEditing())}),[y]),re=(0,N.useCallback)((function(){y(S.changeReadOnly(!0))}),[y]),le=(0,N.useCallback)((function(){y(S.changeReadOnly(!1))}),[y]),oe=(0,N.useCallback)((function(){Z&&Z.data.length?404===(null==K?void 0:K.status)?(y(S.createNewTrainingSchedule()),y(_(x)).then((function(e){"fulfilled"===e.meta.requestStatus&&ee&&p((0,H.MC)())})).catch((function(e){console.log(e)}))):y(v(x)).then((function(e){"fulfilled"===e.meta.requestStatus&&ee&&p((0,H.MC)())})).catch((function(e){console.log(e)})):s(B.F.error("Пожалуйста, добавьте хотя бы один курс в график"))}),[y,ee,p,Z,null==K?void 0:K.status,x]),se=J||V||Q;return(0,N.useEffect)((function(){C(g.split("/")[g.split("/").length-1])}),[g]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",je({className:(0,E.A)(U.WorkingCurriculumTrainingSchedule,{},[n])},{children:[(0,j.jsxs)("div",je({className:U.content},{children:[(0,j.jsx)(ae,{workingCurriculumId:x}),(0,j.jsx)(we,{workingCurriculumId:x}),(0,j.jsx)(ke,{})]})),(0,j.jsxs)("div",je({className:U.buttons},{children:[(0,j.jsx)("div",je({className:U.buttonsLeftWrapper},{children:(0,j.jsxs)(D.zx,je({className:U.btn,theme:D.bn.BACKGROUND_GRAY,size:D.qE.XS,onClick:te},{children:[(0,j.jsx)(T.xv,je({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Выйти"})),(0,j.jsx)(O.J,{className:U.exitBtnIcon,Svg:R.Z})]}))})),(0,j.jsxs)("div",je({className:U.buttonsRightWrapper},{children:[$&&(0,j.jsxs)(D.zx,je({className:U.btn,theme:D.bn.BACKGROUND,size:D.qE.XS,disabled:se,onClick:le},{children:[(0,j.jsx)(T.xv,je({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Редактировать документ"})),(0,j.jsx)(O.J,{className:U.editIcon,Svg:F.Z})]})),!$&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(D.zx,je({className:U.btn,theme:D.bn.BACKGROUND_GRAY,size:D.qE.XS,onClick:re,disabled:se},{children:[(0,j.jsx)(T.xv,je({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Перейти в режим просмотра документа"})),(0,j.jsx)(O.J,{className:U.fileIcon,Svg:P.Z})]})),(0,j.jsxs)(D.zx,je({className:U.btn,theme:D.bn.BACKGROUND_GRAY,size:D.qE.XS,onClick:ie,disabled:se},{children:[(0,j.jsx)(T.xv,je({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Отменить"})),(0,j.jsx)(O.J,{Svg:M.Z})]})),(0,j.jsxs)(D.zx,je({className:U.btn,theme:D.bn.BACKGROUND,size:D.qE.XS,onClick:oe,disabled:se},{children:[(0,j.jsx)(T.xv,je({size:T.yH.XS,weight:T.fs.SEMIBOLD},{children:"Сохранить"})),(0,j.jsx)(O.J,{Svg:I.Z})]}))]})]}))]}))]})),(0,j.jsx)(G,{onClose:ne,isOpen:W,onSubmitForm:oe}),(0,j.jsx)(X.KF,{ref:b,push:o,placement:"top-end"})]})}))},2233:(e,a,t)=>{t.d(a,{z:()=>i});var n=t(7168),i=(0,n.hg)("workingCurriculum/fetchWorkingCurriculumSymbols",(function(e,a){return t=void 0,n=void 0,r=function(){var e,t,n;return function(e,a){var t,n,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=a.call(e,l)}catch(e){o=[6,e],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:e=a.rejectWithValue,t=a.extra,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.api.get("/curriculum/working-curriculum/symbols/")];case 2:return[2,i.sent().data];case 3:return"Failed to fetch"===(n=i.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:n.response.status,error:n.response.data.message})];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function o(e){try{s(r.throw(e))}catch(e){a(e)}}function s(a){var t;a.done?e(a.value):(t=a.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,o)}s((r=r.apply(t,n||[])).next())}));var t,n,i,r}))},9107:(e,a,t)=>{t.d(a,{X:()=>i});var n=t(7294),i=function(){var e=(0,n.useState)(window.innerWidth),a=e[0],t=e[1];return(0,n.useEffect)((function(){var e=function(e){var a=e.target;t(a.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),{width:a}}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2e052473-2975-4d5a-81df-98065738ec98",e._sentryDebugIdIdentifier="sentry-dbid-2e052473-2975-4d5a-81df-98065738ec98")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"45ee1168f5cf48e9753bace26323152d3b61cb67"},(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[4669],{5291:(e,t,n)=>{n.r(t),n.d(t,{default:()=>De});var r=n(5893),l=n(1150),a=n(9649),i=n(5306),s=n(918),o=n(7294),c=n(7168),d=n(1759),u=n(121),f=function(e){var t;return null===(t=e.enrollmentTypes)||void 0===t?void 0:t.page},h=function(e){var t;return null===(t=e.enrollmentTypes)||void 0===t?void 0:t.limit},p=(0,c.hg)("students/fetchEnrollmentTypes",(function(e,t){return n=void 0,r=void 0,a=function(){var e,n,r,l,a,i;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(s){switch(s.label){case 0:e=t.rejectWithValue,n=t.extra,r=t.getState,l={pageSelector:f,limitSelector:h,sortFieldSelector:d.DU,sortOrderSelector:d.Qg},a=(0,u.o)("/college/enrollment-types",l,r()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.api.get(a)];case 2:return[2,s.sent().data];case 3:return"Failed to fetch"===(i=s.sent()).message?[2,e({status:500,error:"timeout"})]:[2,e({status:i.response.status,error:i.response.data.message})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function s(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,s)}o((a=a.apply(n,r||[])).next())}));var n,r,l,a})),v=function(e){var t;return null===(t=e.addEnrollmentType)||void 0===t?void 0:t.data.title},m=(0,c.hg)("enrollmentTypes/addEnrollmentType",(function(e,t){return n=void 0,r=void 0,a=function(){var e,n,r,l,a,i,s,o;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(c){switch(c.label){case 0:e=t.rejectWithValue,n=t.extra,r=t.dispatch,l=t.getState,a=v(l()),i={title:a},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.api.post("/college/enrollment-types/",i)];case 2:return s=c.sent(),r(p()),r(b.clearData()),[2,s.data];case 3:return o=c.sent(),[2,e({errors:o.response.data.errors,status:o.response.status})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function s(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,s)}o((a=a.apply(n,r||[])).next())}));var n,r,l,a})),y=(0,c.oM)({name:"addEnrollmentType",initialState:{data:{title:null},isLoading:!1,errors:void 0},reducers:{setTitle:function(e,t){e.data.title=t.payload},clearData:function(e){e.data={title:null},e.errors=void 0}},extraReducers:function(e){e.addCase(m.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(m.fulfilled,(function(e){e.isLoading=!1})).addCase(m.rejected,(function(e,t){e.isLoading=!1,e.errors=t.payload}))}}),b=y.actions,x=y.reducer,g=n(4387),j=n(4475),w=n(2308),S=n(5044),N=n(3280),k=n(4809),T=n(1385),E=n(6458),B=n(5461),C=n(530),L=n(9161),D=function(e){var t;return null===(t=e.addEnrollmentType)||void 0===t?void 0:t.errors};const O={tabBtn:"B0FSLre7",tabsButtonsBlock:"Xmcw05KQ",title:"_3PPgzjCJ",settings:"DKdHCTvA",newAddField:"GNbncDZO",tabBlock:"lCP7nncX",form:"stzZIL8Z",footerBtn:"HhtMuKS0",greenBtn:"DNbeEJbN",footer:"wk9Dh4JV",message:"RH1T0hwC",messageIcon:"GxO6IXy_"};var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},I.apply(this,arguments)},z=function(e){var t=e.className,n=e.visible,l=e.setVisible,a=(0,B.T)(),i=(0,o.useState)(!1),s=i[0],c=i[1],d=(0,o.useState)(!1),u=d[0],f=d[1],h=(0,o.useState)(),p=h[0],y=h[1],x=(0,o.useRef)(null),z=(0,E.v9)(v),R=(0,E.v9)(D),A=(0,o.useCallback)((function(){l(!1)}),[l]),F=function(){A(),c(!1),f(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Tk,I({className:(0,g.A)(O.AddEnrollmentType,{},[t]),visible:n,onClose:A,size:"lg",alignment:"center"},{children:(0,r.jsxs)(j.lx,I({className:(0,g.A)(O.form,{},["needs-validation"]),noValidate:!0,validated:s,onSubmit:function(e){return t=void 0,n=void 0,l=function(){var t,n;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(r){switch(r.label){case 0:return e.preventDefault(),t=e.currentTarget,f(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),c(!0),t.checkValidity()?z?[4,a(m())]:[3,2]:[3,3];case 1:return"fulfilled"===(n=r.sent()).meta.requestStatus&&(y(C.F.success("Тип зачисления добавлен")),F()),"rejected"===n.meta.requestStatus&&f(!0),[3,3];case 2:f(!0),r.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{o(l.next(e))}catch(e){a(e)}}function s(e){try{o(l.throw(e))}catch(e){a(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}o((l=l.apply(t,n||[])).next())}));var t,n,r,l}},{children:[(0,r.jsx)(j.p0,{children:(0,r.jsx)(j.fl,{children:"Добавление вида зачисления"})}),(0,r.jsx)(j.sD,{children:(0,r.jsx)("div",I({className:O.tab},{children:(0,r.jsx)("div",I({className:O.tabBlock},{children:(0,r.jsx)("div",I({className:O.settings},{children:(0,r.jsxs)("div",I({className:O.newAddField},{children:[(0,r.jsx)("h6",I({className:O.newAddFieldTitle},{children:"Наименование*"})),(0,r.jsx)(T.h,{type:"text",placeholder:"на общих основаниях",feedbackValid:R?"":"Здорово!",invalid:!!R,feedbackInvalid:"Введите корректные данные!",value:z||"",onChange:function(e){a(b.setTitle(e.target.value))},required:!0})]}))}))}))}))}),(0,r.jsxs)(j.Ym,I({className:O.footer},{children:[(0,r.jsx)("div",I({className:O.message},{children:u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{icon:S.D,customClassName:O.messageIcon}),(0,r.jsx)(k.xv,I({size:k.yH.M,weight:k.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,r.jsxs)("div",I({className:O.footerBtns},{children:[(0,r.jsx)(L.zx,I({theme:L.bn.OUTLINE,className:O.footerBtn,onClick:F},{children:(0,r.jsx)(k.xv,I({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Отмена"}))})),(0,r.jsxs)(L.zx,I({type:"submit",className:(0,g.A)(O.footerBtn,{},[O.greenBtn])},{children:[(0,r.jsx)(k.xv,I({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Добавить"})),(0,r.jsx)(w.Z,{icon:N.q,className:O.btnIcon})]}))]}))]}))]}))})),(0,r.jsx)(j.KF,{ref:x,push:p,placement:"top-end"})]})},R=function(e){var t;return null===(t=e.enrollmentTypes)||void 0===t?void 0:t.data},A=function(e){var t;return null===(t=e.enrollmentTypes)||void 0===t?void 0:t.isLoading},F=function(e){var t;return null===(t=e.enrollmentTypes)||void 0===t?void 0:t.error},H=(0,c.oM)({name:"enrollmentTypes",initialState:{data:void 0,isLoading:!0,error:void 0,page:"1",limit:"50"},reducers:{setPage:function(e,t){e.page=t.payload},setLimit:function(e,t){e.limit=t.payload}},extraReducers:function(e){e.addCase(p.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(p.fulfilled,(function(e,t){e.isLoading=!1,e.data={data:t.payload.data,pagination:t.payload.pagination}})).addCase(p.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),M=H.actions,_=H.reducer,P=n(1138),V=(0,c.hg)("enrollmentTypes/fetchEnrollmentTypeDetail",(function(e,t){return n=void 0,r=void 0,a=function(){var n,r,l,a;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(i){switch(i.label){case 0:n=t.rejectWithValue,r=t.extra,l=t.dispatch,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.api.get("/college/enrollment-types/".concat(e))];case 2:return a=i.sent(),l(W.setEnrollmentTypeData(a.data)),[2,a.data];case 3:return"Failed to fetch"===i.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function s(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,s)}o((a=a.apply(n,r||[])).next())}));var n,r,l,a})),Z=function(e){var t,n;return null===(n=null===(t=e.editEnrollmentType)||void 0===t?void 0:t.newFields)||void 0===n?void 0:n.title},X=(0,c.hg)("enrollmentTypes/editEduUnit",(function(e,t){return n=void 0,r=void 0,a=function(){var n,r,l,a,i,s,o,c;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(d){switch(d.label){case 0:n=t.rejectWithValue,r=t.extra,l=t.dispatch,a=t.getState,i=Z(a()),s={title:i},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.api.put("/college/enrollment-types/".concat(e),s)];case 2:return o=d.sent(),l(p()),l(V(e)),[2,o.data];case 3:return c=d.sent(),[2,n({errors:c.response.data.errors,status:c.response.status})];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function s(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,s)}o((a=a.apply(n,r||[])).next())}));var n,r,l,a})),U=(0,c.oM)({name:"editEnrollmentType",initialState:{data:void 0,newFields:void 0,isLoading:!1,errors:void 0},reducers:{setEnrollmentTypeData:function(e,t){t.payload&&(e.data=t.payload,e.newFields={title:e.data.typeenrollment})},setTitle:function(e,t){e.newFields.title=t.payload},clearNewFields:function(e){var t;e.newFields={title:(null===(t=e.data)||void 0===t?void 0:t.typeenrollment)||null},e.errors=void 0}},extraReducers:function(e){e.addCase(X.pending,(function(e){e.errors=void 0,e.isLoading=!0})).addCase(X.fulfilled,(function(e){e.isLoading=!1})).addCase(X.rejected,(function(e,t){e.isLoading=!1,e.errors=t.payload}))}}),W=U.actions,q=U.reducer,K=n(1783),Y=n(8263),G=function(e){var t;return null===(t=e.enrollmentTypeDetail)||void 0===t?void 0:t.error},J=function(e){var t;return null===(t=e.enrollmentTypeDetail)||void 0===t?void 0:t.isLoading},Q=function(e){var t;return null===(t=e.enrollmentTypeDetail)||void 0===t?void 0:t.data},$=(0,c.oM)({name:"enrollmentTypeDetail",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:function(e){e.addCase(V.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(V.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})).addCase(V.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),ee=($.actions,$.reducer),te=function(e){var t;return null===(t=e.editEnrollmentType)||void 0===t?void 0:t.isLoading},ne=function(e){var t;return null===(t=e.editEnrollmentType)||void 0===t?void 0:t.errors};const re={tabBtn:"_dZb5t_C",tabsButtonsBlock:"jBNtS36Z",title:"eYUxoKmw",footerBtn:"pWbnw4wi",greenBtn:"gyuU4ykZ",redBtn:"g3z7LkK6",settings:"lHAiKoEk",newAddField:"VVWPCW_t",tabBlock:"YRCmhqXw",form:"NsnLOHHP",footer:"pWCqS7ZK",message:"p7bojd8Z",messageIcon:"Rv761gaw"};var le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},le.apply(this,arguments)},ae=function(e){var t=e.className,n=e.visible,l=e.setVisible,a=e.enrollmentTypeId,i=e.onDeleteEnrollmentType,s=(0,B.T)(),c=(0,o.useState)(),d=c[0],u=c[1],f=(0,o.useRef)(null),h=(0,o.useState)(!1),p=h[0],v=h[1],m=(0,o.useState)(!1),y=m[0],b=m[1],x=(0,E.v9)(Q),N=(0,E.v9)(J),D=(0,E.v9)(G),O=(0,E.v9)(te),I=(0,E.v9)(Z),z=(0,E.v9)(ne);(0,o.useEffect)((function(){a&&s(V(a))}),[s,a]);var R,A=function(){l(!1),v(!1),b(!1)},F=function(){A(),s(W.clearNewFields())};return R=O||N?(0,r.jsx)(P.O,{width:"100%",height:80}):D?(0,r.jsx)(k.xv,le({theme:k.lg.ERROR,size:k.yH.M,weight:k.fs.SEMIBOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,r.jsx)("div",le({className:re.tab},{children:(0,r.jsx)("div",le({className:re.tabBlock},{children:(0,r.jsx)("div",le({className:re.settings},{children:(0,r.jsxs)("div",le({className:re.newAddField},{children:[(0,r.jsx)("h6",le({className:re.newAddFieldTitle},{children:"Наименование"})),(0,r.jsx)(T.h,{type:"text",placeholder:"на общих основаниях",feedbackValid:z?"":"Здорово!",invalid:!!z,feedbackInvalid:"Введите корректные данные",value:I||"",onChange:function(e){s(W.setTitle(e.target.value))}})]}))}))}))})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Tk,le({className:(0,g.A)(re.EditEnrollmentType,{},[t]),visible:n,onClose:A,size:"lg",alignment:"center"},{children:(0,r.jsxs)(j.lx,le({className:(0,g.A)(re.form,{},["needs-validation"]),noValidate:!0,validated:p,onSubmit:function(e){return t=void 0,n=void 0,l=function(){var t,n;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(r){switch(r.label){case 0:return e.preventDefault(),t=e.currentTarget,b(!t.checkValidity()),t.checkValidity()||e.stopPropagation(),v(!0),t.checkValidity()?(null==x?void 0:x.typeenrollment)!==I?[3,1]:(u(C.F.error("Для сохранения вы должны внести изменения!")),[3,3]):[3,3];case 1:return[4,s(X(a))];case 2:"fulfilled"===(n=r.sent()).meta.requestStatus&&(u(C.F.success("Информация о виде зачисления успешно обновлена")),F()),"rejected"===n.meta.requestStatus&&b(!0),r.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{o(l.next(e))}catch(e){a(e)}}function s(e){try{o(l.throw(e))}catch(e){a(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,s)}o((l=l.apply(t,n||[])).next())}));var t,n,r,l}},{children:[(0,r.jsx)(j.p0,{children:O||N?(0,r.jsx)(P.O,{width:200,height:30}):(0,r.jsxs)(j.fl,{children:["Изменение типа зачисления №",null==x?void 0:x.id_typeenrollment]})}),(0,r.jsx)(j.sD,{children:R}),(0,r.jsxs)(j.Ym,le({className:re.footer},{children:[(0,r.jsx)("div",le({className:re.message},{children:y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{icon:S.D,customClassName:re.messageIcon}),(0,r.jsx)(k.xv,le({size:k.yH.M,weight:k.fs.SEMIBOLD},{children:"Форма заполнена некорректно"}))]})})),(0,r.jsxs)("div",le({className:re.footerBtns},{children:[(0,r.jsx)(L.zx,le({theme:L.bn.OUTLINE,className:re.footerBtn,onClick:F},{children:(0,r.jsx)(k.xv,le({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Отмена"}))})),(0,r.jsxs)(L.zx,le({theme:L.bn.ERROR,className:(0,g.A)(re.footerBtn,{},[re.redBtn]),onClick:function(){i(x),A()},disabled:N||O||!!D},{children:[(0,r.jsx)(k.xv,le({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Удалить"})),(0,r.jsx)(w.Z,{icon:K.N,className:re.btnIcon})]})),(0,r.jsxs)(L.zx,le({type:"submit",className:(0,g.A)(re.footerBtn,{},[re.greenBtn]),disabled:N||O||!!D},{children:[(0,r.jsx)(k.xv,le({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Сохранить"})),(0,r.jsx)(w.Z,{icon:Y.F,className:re.btnIcon})]}))]}))]}))]}))})),(0,r.jsx)(j.KF,{ref:f,push:d,placement:"top-end"})]})};const ie={footerBtn:"v4kW_ZFx",redBtn:"lBuxkYYa",deleteText:"MWT2EUNq"};var se=(0,c.hg)("enrollmentTypes/deleteEduUnit",(function(e,t){return n=void 0,r=void 0,a=function(){var n,r,l,a;return function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(l=2&s[0]?r.return:s[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,s[1])).done)return l;switch(r=0,l&&(s=[2&s[0],l.value]),s[0]){case 0:case 1:l=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((l=(l=i.trys).length>0&&l[l.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!l||s[1]>l[0]&&s[1]<l[3])){i.label=s[1];break}if(6===s[0]&&i.label<l[1]){i.label=l[1],l=s;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(s);break}l[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=l=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(i){switch(i.label){case 0:n=t.rejectWithValue,r=t.extra,l=t.dispatch,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.api.delete("/college/enrollment-types/".concat(e))];case 2:return a=i.sent(),l(p()),[2,a.data];case 3:return"Failed to fetch"===i.sent().message?[2,n("timeout")]:[2,n("ERROR")];case 4:return[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function s(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(i,s)}o((a=a.apply(n,r||[])).next())}));var n,r,l,a})),oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},oe.apply(this,arguments)},ce=function(e){var t=e.className,n=e.enrollmentType,l=e.visible,a=e.setVisible,i=(0,B.T)(),s=(0,o.useState)(),c=s[0],d=s[1],u=(0,o.useRef)(null),f=(0,o.useState)(!1),h=f[0],p=f[1],v=function(){a(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.Tk,oe({className:(0,g.A)(ie.DeleteEnrollmentType,{},[t]),visible:l,onClose:v,size:"lg",alignment:"center"},{children:[(0,r.jsx)(j.p0,{children:(0,r.jsxs)(j.fl,{children:["Удаление типа зачисления №",null==n?void 0:n.id_typeenrollment]})}),(0,r.jsx)(j.sD,{children:(0,r.jsxs)(k.xv,oe({size:k.yH.XM,className:ie.deleteText},{children:["Вы действительно хотите удалить тип зачисления"," ",(0,r.jsxs)("span",{children:["№",null==n?void 0:n.id_typeenrollment," ","-"," ",'"'.concat(null==n?void 0:n.typeenrollment,'"')]})," ","и все связанные с ним данные?"]}))}),(0,r.jsx)(j.Ym,oe({className:ie.footer},{children:(0,r.jsxs)("div",oe({className:ie.footerBtns},{children:[(0,r.jsx)(L.zx,oe({theme:L.bn.OUTLINE,className:ie.footerBtn,onClick:v},{children:(0,r.jsx)(k.xv,oe({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Отмена"}))})),(0,r.jsxs)(L.zx,oe({theme:L.bn.ERROR,className:(0,g.A)(ie.footerBtn,{},[ie.redBtn]),onClick:function(){var e;e=n.id_typeenrollment.toString(),p(!0),i(se(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(d(C.F.success("Тип зачисления №".concat(null==n?void 0:n.id_typeenrollment," удален"))),v(),p(!1)):"rejected"===e.meta.requestStatus&&(d(C.F.error("Произошла ошибка при удалении, попробуйте снова")),p(!1))}))},disabled:h},{children:[(0,r.jsx)(k.xv,oe({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Удалить"})),(0,r.jsx)(w.Z,{icon:K.N,className:ie.btnIcon})]}))]}))}))]})),(0,r.jsx)(j.KF,{ref:u,push:c,placement:"top-end"})]})},de=n(779);const ue={"modal-dialog":"yQ0lkcVL",tabBtn:"EzqPe1gT",tabsButtonsBlock:"VWtBzipx",title:"ojyxk3OA",footerBtn:"G_uQGaDX",redBtn:"OzmSKUZD",settings:"Fr67qbYh",newAddField:"XKbT8zd1",tabBlock:"v7zI7dP1",footer:"rvcVO0_p",message:"zMI_Wvkx",messageIcon:"dCU1L5gU",checkboxText:"oILNiEkK"};var fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},fe.apply(this,arguments)},he=function(e){var t=e.className,n=e.visible,l=e.setVisible,a=e.enrollmentTypeId,i=e.onDeleteEnrollmentType,s=e.onEditEnrollmentType,c=(0,B.T)(),d=(0,E.v9)(Q),u=(0,E.v9)(J),f=(0,E.v9)(G);(0,o.useEffect)((function(){a&&c(V(a))}),[c,a]);var h,p=function(){l(!1)};return h=u?(0,r.jsx)(P.O,{width:"100%",height:120}):f?(0,r.jsx)(k.xv,fe({theme:k.lg.ERROR,size:k.yH.M,weight:k.fs.BOLD},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):(0,r.jsx)("div",fe({className:ue.tab},{children:(0,r.jsxs)("div",fe({className:ue.tabBlock},{children:[(0,r.jsx)("div",fe({className:ue.settings},{children:(0,r.jsxs)("div",fe({className:ue.newAddField},{children:[(0,r.jsx)("h6",fe({className:ue.newAddFieldTitle},{children:"ID типа зачисления"})),(0,r.jsx)(k.xv,fe({size:k.yH.S,weight:k.fs.BOLD},{children:null==d?void 0:d.id_typeenrollment}))]}))})),(0,r.jsx)("div",fe({className:ue.settings},{children:(0,r.jsxs)("div",fe({className:ue.newAddField},{children:[(0,r.jsx)("h6",fe({className:ue.newAddFieldTitle},{children:"Наименование"})),(0,r.jsx)(k.xv,fe({size:k.yH.S,weight:k.fs.BOLD},{children:null==d?void 0:d.typeenrollment}))]}))}))]}))})),(0,r.jsxs)(j.Tk,fe({className:(0,g.A)(ue.ViewEnrollmentType,{},[t,"view-student-modal"]),visible:n,onClose:p,alignment:"center"},{children:[(0,r.jsx)(j.p0,{children:u?(0,r.jsx)(P.O,{width:200,height:30}):(0,r.jsxs)(j.fl,{children:["Тип зачисления №",null==d?void 0:d.id_typeenrollment]})}),(0,r.jsx)(j.sD,{children:h}),(0,r.jsxs)(j.Ym,fe({className:ue.footer},{children:[(0,r.jsx)("div",{}),(0,r.jsxs)("div",fe({className:ue.footerBtns},{children:[(0,r.jsx)(L.zx,fe({theme:L.bn.OUTLINE,className:ue.footerBtn,onClick:p},{children:(0,r.jsx)(k.xv,fe({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Закрыть"}))})),(0,r.jsxs)(L.zx,fe({theme:L.bn.ERROR,className:(0,g.A)(ue.footerBtn,{},[ue.redBtn]),onClick:function(){i(d),p()},disabled:u||!!f},{children:[(0,r.jsx)(k.xv,fe({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Удалить"})),(0,r.jsx)(w.Z,{icon:K.N,className:ue.btnIcon})]})),(0,r.jsxs)(L.zx,fe({color:"primary",className:ue.footerBtn,onClick:function(){s(a),p()},disabled:u||!!f},{children:[(0,r.jsx)(k.xv,fe({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Редактировать"})),(0,r.jsx)(w.Z,{icon:de.C,className:ue.btnIcon})]}))]}))]}))]}))},pe=n(6837),ve=n(1353),me=n(773),ye=n(5606),be=n(2008),xe=n(596),ge=n(4164);const je={TableBlock:"BaEUwf8u",table:"fVxrXqPu",tableRow:"BYpS2CwP",tableCell:"pwsfxyc9",tableHead:"ytvkxYrX",tableCellId:"Im2JLETs",tableBody:"HQ6s8EZU",tableSortIcon:"LL52plm4",active:"ke0BwD2Y",cellTextBg:"epneQTkg",tableCellBtns:"SiesPPil",tableCellBtnsWrapper:"lM0MUJRH",editBtn:"RUSM4jtC",checkbox:"ePrwcmfh",tableWithCheckboxes:"oYZitPCq"};var we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},we.apply(this,arguments)},Se=function(e){var t,n,l,a,i=e.className,s=e.data,c=e.exportDisabled,u=(0,B.T)(),f=(0,E.v9)(A),h=(0,E.v9)(F),v=(0,E.v9)(d.DU),m=(0,E.v9)(d.Qg),y=(0,o.useState)(),b=y[0],x=y[1],j=(0,o.useState)(!1),w=j[0],S=j[1],N=(0,o.useState)(!1),T=N[0],C=N[1],D=(0,o.useState)(!1),O=D[0],I=D[1],z=(0,o.useState)(),R=z[0],H=z[1],M=function(e){C(!0),H(e)},_=(0,o.useCallback)((function(e){I(!0),x(e)}),[]);(0,o.useEffect)((function(){u(d.f$.setSort("id_typeenrollment"))}),[u]);var V,Z=(0,o.useCallback)((function(e){u(d.f$.setSort(e)),u(p())}),[u]);V=f?(0,r.jsx)(P.O,{height:250}):h?(0,r.jsx)(k.xv,we({theme:k.lg.ERROR,size:k.yH.M,weight:k.fs.SEMIBOLD,className:je.error},{children:"Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу"})):s.length?(0,r.jsxs)("div",we({className:(0,g.A)(je.table,(t={},t[je.tableWithCheckboxes]=!c,t),[])},{children:[(0,r.jsx)("div",we({className:je.tableHead},{children:(0,r.jsxs)("div",we({className:je.tableRow},{children:[!c&&(0,r.jsx)(pe.X,{className:je.checkbox,id:"checkbox-enrollment-types-all"}),(0,r.jsxs)(L.zx,we({theme:L.bn.CLEAR,className:(0,g.A)(je.tableCell,{},[je.tableCellId]),onClick:function(){Z("id_typeenrollment")}},{children:[(0,r.jsx)(k.xv,we({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"ID типа зачисления"})),(0,r.jsx)(ve.J,{Svg:"asc"===m?me.Z:ye.Z,className:(0,g.A)(je.tableSortIcon,(n={},n[je.active]="id_typeenrollment"===v,n),[])})]})),(0,r.jsxs)(L.zx,we({theme:L.bn.CLEAR,className:je.tableCell,onClick:function(){Z("typeenrollment")}},{children:[(0,r.jsx)(k.xv,we({size:k.yH.XS,weight:k.fs.SEMIBOLD},{children:"Наименование"})),(0,r.jsx)(ve.J,{Svg:"asc"===m?me.Z:ye.Z,className:(0,g.A)(je.tableSortIcon,(l={},l[je.active]="typeenrollment"===v,l),[])})]})),(0,r.jsx)("div",{className:(0,g.A)(je.tableCell,{},[je.tableCellBtnsWrapper])})]}))})),(0,r.jsx)("div",we({className:je.tableBody},{children:null==s?void 0:s.map((function(e){return(0,r.jsxs)("div",we({className:je.tableRow},{children:[!c&&(0,r.jsx)(pe.X,{className:je.checkbox,id:"checkbox-enrollment-types-".concat(e.id_typeenrollment)}),(0,r.jsx)("div",we({className:(0,g.A)(je.tableCell,{},[je.tableCellId])},{children:(0,r.jsx)(k.xv,we({size:k.yH.XS},{children:e.id_typeenrollment}))})),(0,r.jsx)("div",we({className:je.tableCell},{children:(0,r.jsx)(k.xv,we({size:k.yH.XS},{children:e.typeenrollment}))})),(0,r.jsxs)("div",we({className:(0,g.A)(je.tableCell,{},[je.tableCellBtns])},{children:[(0,r.jsx)(L.zx,we({theme:L.bn.CLEAR,title:"Просмотр",className:je.editBtn,onClick:function(){var t;t=e.id_typeenrollment.toString(),S(!0),H(t)}},{children:(0,r.jsx)(ve.J,{Svg:be.Z})})),(0,r.jsx)(L.zx,we({theme:L.bn.CLEAR,title:"Редактировать",className:je.editBtn,onClick:function(){M(e.id_typeenrollment.toString())}},{children:(0,r.jsx)(ve.J,{Svg:xe.Z})})),(0,r.jsx)(L.zx,we({theme:L.bn.CLEAR,title:"Удалить",className:je.editBtn,onClick:function(){_(e)}},{children:(0,r.jsx)(ve.J,{Svg:ge.Z})}))]}))]}),e.id_typeenrollment)}))}))]})):(0,r.jsx)(k.xv,{children:"Ничего не найдено..."});var X=((a={})[je.error]=!!h,a);return(0,r.jsxs)("div",we({className:(0,g.A)(je.TableBlock,X,[i])},{children:[V,(0,r.jsx)(he,{visible:w,setVisible:S,enrollmentTypeId:R,onDeleteEnrollmentType:_,onEditEnrollmentType:M}),(0,r.jsx)(ae,{visible:T,setVisible:C,enrollmentTypeId:R,onDeleteEnrollmentType:_}),(0,r.jsx)(ce,{enrollmentType:b,visible:O,setVisible:I})]}))},Ne=n(7730),ke=n(7687),Te=n(5375),Ee=n(2556);const Be={enrollmentTypesSettings:"n0BTAuHt"};var Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},Ce.apply(this,arguments)},Le={enrollmentTypes:_,addEnrollmentType:x,enrollmentTypeDetail:ee,editEnrollmentType:q};const De=function(e){e.className;var t=(0,B.T)(),n=(0,o.useState)(!1),c=n[0],d=n[1],u=(0,E.v9)(R),v=(0,E.v9)(A),m=(0,E.v9)(F),y=(0,E.v9)(h),b=(0,E.v9)(f),x=(0,o.useState)(""),g=x[0],j=x[1],w=(0,o.useState)(),S=w[0],N=w[1],k=(0,o.useCallback)((function(e){j(e)}),[]),T=(0,o.useCallback)((function(e){t(M.setLimit(e)),t(p())}),[t]),C=(0,o.useCallback)((function(e){t(M.setPage(e)),t(p())}),[t]);return(0,o.useEffect)((function(){N((null==u?void 0:u.data)||[])}),[u]),(0,o.useEffect)((function(){var e=(0,Ne.U_)(g,(null==u?void 0:u.data)||[]);N(e||[])}),[u,g]),(0,o.useEffect)((function(){t(p())}),[t]),(0,r.jsx)(s.B,Ce({title:"LMS - Типы зачисления"},{children:(0,r.jsxs)(l.W,Ce({reducers:Le,removeAfterUnmount:!0},{children:[(0,r.jsxs)("div",Ce({className:Be.EnrollmentTypesPage},{children:[(0,r.jsxs)("div",Ce({className:"page-settings ".concat(!1)},{children:[(0,r.jsx)(a.o,{value:g,onChange:k,searchText:"Поиск по наименованию",error:m,isLoading:v}),(0,r.jsx)(i.X,Ce({onlyAdding:!0,setVisibleAddNewField:d,addingModalText:"Добавить вид зачисления",error:m,isLoading:v,references:Ee.x,referencesTitle:"Справочники"},{children:(0,r.jsx)(z,{visible:c,setVisible:d})}))]})),(0,r.jsx)(Se,{data:S||[],exportDisabled:!0}),(0,r.jsxs)("div",Ce({className:"page-table-settings"},{children:[(0,r.jsx)(ke.K,{data:S||[],onChange:T,onChangePage:C,paginationData:null==u?void 0:u.pagination,itemsLimit:y,withRecords:!0,isLoading:v,error:m}),(0,r.jsx)(ke.N,{data:S||[],onChange:C,itemsPage:b,isLoading:v,error:m,paginationData:null==u?void 0:u.pagination})]}))]})),m&&(0,r.jsx)(Te.d,{error:m})]}))}))}}}]);

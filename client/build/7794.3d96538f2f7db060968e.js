!(function () { try { const e = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; const t = (new Error()).stack; t && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[t] = '0fb126ce-dada-4eac-a2fe-b2d8f20d9222', e._sentryDebugIdIdentifier = 'sentry-dbid-0fb126ce-dada-4eac-a2fe-b2d8f20d9222'); } catch (e) {} }()); const _global = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; _global.SENTRY_RELEASE = { id: '45ee1168f5cf48e9753bace26323152d3b61cb67' }, (self.webpackChunkproduction_project = self.webpackChunkproduction_project || []).push([[7794], {
    9456: (e, t, i) => { i.d(t, { Z: () => o }); let r; let n; const u = i(7294); function s() { return s = Object.assign ? Object.assign.bind() : function (e) { for (let t = 1; t < arguments.length; t++) { const i = arguments[t]; for (const r in i)Object.prototype.hasOwnProperty.call(i, r) && (e[r] = i[r]); } return e; }, s.apply(this, arguments); } const o = function (e) { return u.createElement('svg', s({ width: 20, height: 20, xmlns: 'http://www.w3.org/2000/svg' }, e), r || (r = u.createElement('path', { d: 'M7.058 7.058a.625.625 0 0 1 .884 0L10 9.116l2.058-2.058a.625.625 0 1 1 .884.884L10.884 10l2.058 2.058a.625.625 0 0 1-.884.884L10 10.884l-2.058 2.058a.625.625 0 1 1-.884-.884L9.116 10 7.058 7.942a.625.625 0 0 1 0-.884Z' })), n || (n = u.createElement('path', { fillRule: 'evenodd', clipRule: 'evenodd', d: 'M6.097 3.14a35.419 35.419 0 0 1 7.805 0 3.32 3.32 0 0 1 2.93 2.9c.309 2.632.309 5.29 0 7.92a3.323 3.323 0 0 1-2.93 2.9 35.423 35.423 0 0 1-7.805 0 3.321 3.321 0 0 1-2.93-2.9 34.085 34.085 0 0 1 0-7.92 3.321 3.321 0 0 1 2.93-2.9Zm7.667 1.242a34.167 34.167 0 0 0-7.528 0 2.072 2.072 0 0 0-1.828 1.805 32.835 32.835 0 0 0 0 7.628 2.072 2.072 0 0 0 1.828 1.803c2.48.277 5.047.277 7.528 0a2.071 2.071 0 0 0 1.827-1.803 32.832 32.832 0 0 0 0-7.628 2.071 2.071 0 0 0-1.827-1.803' }))); }; },
    5131: (e, t, i) => {
        i.d(t, { Z: () => o }); let r; let n; const u = i(7294); function s() { return s = Object.assign ? Object.assign.bind() : function (e) { for (let t = 1; t < arguments.length; t++) { const i = arguments[t]; for (const r in i)Object.prototype.hasOwnProperty.call(i, r) && (e[r] = i[r]); } return e; }, s.apply(this, arguments); } const o = function (e) {
            return u.createElement('svg', s({
                width: 20, height: 20, fill: 'none', xmlns: 'http://www.w3.org/2000/svg',
            }, e), r || (r = u.createElement('path', { d: 'M7.5 3.75h-.833c-1.965 0-2.947 0-3.557.61-.61.61-.61 1.592-.61 3.557v4.166c0 1.964 0 2.946.61 3.557.61.61 1.592.61 3.557.61H7.5m0-10.853c0-1.911 0-2.867.59-3.39.588-.522 1.49-.365 3.29-.051l1.942.339c1.996.347 2.993.522 3.585 1.253.593.733.593 1.791.593 3.909v5.087c0 2.117 0 3.175-.592 3.908-.593.731-1.591.905-3.586 1.254l-1.94.338c-1.802.314-2.703.471-3.292-.052-.59-.522-.59-1.478-.59-3.389V5.397Z', stroke: '#fff', strokeWidth: 1.5 })), n || (n = u.createElement('path', {
                d: 'M10 9.167v1.666', stroke: '#fff', strokeWidth: 1.5, strokeLinecap: 'round',
            })));
        };
    },
    9719: (e, t, i) => {
        i.d(t, { Z: () => s }); let r; const n = i(7294); function u() { return u = Object.assign ? Object.assign.bind() : function (e) { for (let t = 1; t < arguments.length; t++) { const i = arguments[t]; for (const r in i)Object.prototype.hasOwnProperty.call(i, r) && (e[r] = i[r]); } return e; }, u.apply(this, arguments); } const s = function (e) {
            return n.createElement('svg', u({
                width: 25, height: 25, fill: 'none', xmlns: 'http://www.w3.org/2000/svg',
            }, e), r || (r = n.createElement('path', { d: 'M7.5 2.5A2.5 2.5 0 0 0 5 5v8.75h1.25V5A1.25 1.25 0 0 1 7.5 3.75h5v4.375A1.875 1.875 0 0 0 14.375 10h4.375v10a1.25 1.25 0 0 1-1.25 1.25h-10A1.25 1.25 0 0 1 6.25 20v-2.5H5V20a2.5 2.5 0 0 0 2.5 2.5h10A2.5 2.5 0 0 0 20 20V9.268c0-.498-.198-.974-.55-1.326L14.557 3.05a1.875 1.875 0 0 0-1.325-.549H7.5Zm10.991 6.25h-4.116a.625.625 0 0 1-.625-.625V4.009l4.741 4.741ZM8.125 12.5a.625.625 0 1 0 0 1.25h8.75a.624.624 0 1 0 0-1.25h-8.75Zm-5 2.5a.625.625 0 1 0 0 1.25h8.75a.624.624 0 1 0 0-1.25h-8.75Zm5 2.5a.625.625 0 1 0 0 1.25h8.75a.624.624 0 1 0 0-1.25h-8.75Z', fill: '#EB8247' })));
        };
    },
    8683: (e, t, i) => { i.d(t, { Z: () => o }); let r; let n; const u = i(7294); function s() { return s = Object.assign ? Object.assign.bind() : function (e) { for (let t = 1; t < arguments.length; t++) { const i = arguments[t]; for (const r in i)Object.prototype.hasOwnProperty.call(i, r) && (e[r] = i[r]); } return e; }, s.apply(this, arguments); } const o = function (e) { return u.createElement('svg', s({ width: 20, height: 20, xmlns: 'http://www.w3.org/2000/svg' }, e), r || (r = u.createElement('path', { d: 'M5.84 10a.625.625 0 0 1 .624-.625h2.911v-2.91a.625.625 0 0 1 1.25 0v2.91h2.911a.625.625 0 1 1 0 1.25h-2.91v2.91a.625.625 0 0 1-1.25 0v-2.91H6.463A.625.625 0 0 1 5.84 10Z' })), n || (n = u.createElement('path', { fillRule: 'evenodd', clipRule: 'evenodd', d: 'M6.097 3.14a35.418 35.418 0 0 1 7.805 0 3.32 3.32 0 0 1 2.93 2.9c.309 2.632.309 5.29 0 7.92a3.323 3.323 0 0 1-2.93 2.9 35.41 35.41 0 0 1-7.805 0 3.321 3.321 0 0 1-2.93-2.9 34.085 34.085 0 0 1 0-7.92 3.321 3.321 0 0 1 2.93-2.9Zm7.667 1.243a34.168 34.168 0 0 0-7.528 0 2.072 2.072 0 0 0-1.828 1.804 32.835 32.835 0 0 0 0 7.628 2.072 2.072 0 0 0 1.828 1.803c2.48.277 5.047.277 7.528 0a2.072 2.072 0 0 0 1.827-1.803 32.832 32.832 0 0 0 0-7.628 2.071 2.071 0 0 0-1.827-1.803' }))); }; },
    4390: (e, t, i) => {
        i.r(t), i.d(t, { default: () => jt }); const r = i(5893); const n = i(7294); const u = i(4387); const s = i(1150); const o = i(918); const a = i(9250); const l = i(5461); const c = i(6458); const d = i(1138); const m = i(4809); const h = i(9161); const f = i(1353); const _ = i(5131); const v = i(9456); const y = i(8321); const p = i(596); const x = i(9086); const b = i(6648); const g = i(4475); const j = i(530); const S = i(7665); const E = i(9719); const C = 'QA3A2HjJ'; let O = function () { return O = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, O.apply(this, arguments); }; const N = (0, n.memo)(((e) => {
            let t; const i = e.className; const s = e.toggleOutside; const o = e.leftText; const a = e.rightText; const l = (0, n.useState)(!1); const c = l[0]; const d = l[1]; const h = (0, n.useCallback)((() => { d(((e) => !e)), s == null || s(); }), [s]); return (0, r.jsxs)('div', {
                className: (0, u.A)('Uk0tJQc3', {}, [i]),
                children: [o && (0, r.jsx)(m.xv, {
                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: C, children: o,
                }), (0, r.jsx)('button', {
                    type: 'button', className: (0, u.A)('cqaGtEfB', (t = {}, t.DqULq9Mi = c, t), []), onClick: h, children: (0, r.jsx)('span', { className: 'a29BxWeM' }),
                }), a && (0, r.jsx)(m.xv, {
                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: C, children: a,
                })],
            });
        })); const T = i(238); const w = 'AYiwnDBY'; let k = function () { return k = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, k.apply(this, arguments); }; const L = (0, n.memo)(((e) => {
            const t = e.className; const i = e.isOpen; const s = e.onClose; const o = e.formId; const l = (0, a.s0)(); const c = (0, n.useCallback)((() => { l((0, x.MC)()); }), [l]); return (0, r.jsxs)(T.u, {
                contentClassName: (0, u.A)('ygq7cg1x', {}, [t]),
                onClose: s,
                isOpen: i,
                children: [(0, r.jsx)(m.xv, { weight: m.fs.SEMIBOLD, align: m.PH.CENTER, children: 'Сохранить измененные данные?' }), (0, r.jsxs)('div', {
                    className: 'mtB8kkA8',
                    children: [(0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND, size: h.qE.XS, className: w, type: 'submit', form: o, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Да' }), (0, r.jsx)(f.J, { Svg: y.Z })],
                    }), (0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND_DARK, size: h.qE.XS, className: w, onClick: c, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Нет' }), (0, r.jsx)(f.J, { Svg: v.Z })],
                    })],
                })],
            });
        })); const D = i(7168); const H = (0, D.hg)('workingCurriculum/fetchWorkingCurriculumExtract', ((e, t) => {
            return i = void 0, r = void 0, u = function () {
                let i; let r; let n; return (function (e, t) {
                    let i; let r; let n; let u; let s = {
                        label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                    }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                }(this, ((u) => { switch (u.label) { case 0: i = t.rejectWithValue, r = t.extra, t.dispatch, u.label = 1; case 1: return u.trys.push([1, 3,, 4]), [4, r.api.get('/curriculum/working-curriculum/'.concat(e, '/extract/'))]; case 2: return [2, u.sent().data]; case 3: return (n = u.sent()).message === 'Failed to fetch' ? [2, i({ status: 500, error: 'timeout' })] : [2, i({ status: n.response.status, error: n.response.data.message })]; case 4: return [2]; } })));
            }, new ((n = void 0) || (n = Promise))(((e, t) => { function s(e) { try { a(u.next(e)); } catch (e) { t(e); } } function o(e) { try { a(u.throw(e)); } catch (e) { t(e); } } function a(t) { let i; t.done ? e(t.value) : (i = t.value, i instanceof n ? i : new n(((e) => { e(i); }))).then(s, o); }a((u = u.apply(i, r || [])).next()); })); let i; let r; let n; let u;
        })); const A = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.data; }; const B = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.dataParsed; }; const R = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.dataToWork; }; const P = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.isLoading; }; const q = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.error; }; const W = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.updatingError; }; const I = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.updatingIsLoading; }; const M = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.validationErrors; }; const z = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.formWithErrors; }; const X = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.readOnly; }; const F = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.redirectToMainPage; }; const V = function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.showAllDisciplines; }; let Y = function () { return Y = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, Y.apply(this, arguments); }; const Z = (0, D.hg)('workingCurriculum/updateDistributionWorkingCurriculumExtract', ((e, t) => {
            return i = void 0, r = void 0, u = function () {
                let i; let r; let n; let u; let s; let o; let a; let l; let c; let d; let m; return (function (e, t) {
                    let i; let r; let n; let u; let s = {
                        label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                    }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                }(this, ((h) => {
                    switch (h.label) {
                    case 0: i = t.rejectWithValue, r = t.extra, n = t.getState, u = t.dispatch, s = (function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.distributionActions; }(n())), o = {
                        actions: {
                            ...s, delete: ((c = s.delete) === null || void 0 === c ? void 0 : c.length) ? s.delete.filter(((e) => e)) : void 0, create: ((d = s.create) === null || void 0 === d ? void 0 : d.length) ? s.create : void 0, update: ((m = s.update) === null || void 0 === m ? void 0 : m.length) ? s.update : void 0,
                        },
                    }, h.label = 1; case 1: return h.trys.push([1, 3,, 4]), [4, r.api.post('/curriculum/working-curriculum/'.concat(e, '/extract/distribution'), o)]; case 2: return a = h.sent(), u(Ee.cancelChanges()), u(H(e)), [2, a.data]; case 3: return l = h.sent(), [2, i({ ...l.response.data, status: l.response.status })]; case 4: return [2];
                    }
                })));
            }, new ((n = void 0) || (n = Promise))(((e, t) => { function s(e) { try { a(u.next(e)); } catch (e) { t(e); } } function o(e) { try { a(u.throw(e)); } catch (e) { t(e); } } function a(t) { let i; t.done ? e(t.value) : (i = t.value, i instanceof n ? i : new n(((e) => { e(i); }))).then(s, o); }a((u = u.apply(i, r || [])).next()); })); let i; let r; let n; let u;
        })); const U = i(146); const G = function (e) { return !!(e.hours || e.hours_theory || e.hours_practice || e.hours_coursework || e.hours_internship || e.controlworks_count || e.courseworks_count || e.exams_semestrs || e.tests_semesters); }; let J = function () { return J = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, J.apply(this, arguments); }; const K = (0, D.hg)('workingCurriculum/updateWorkingCurriculumExtract', ((e, t) => {
            return i = void 0, r = void 0, u = function () {
                let i; let r; let n; let u; let s; let o; let a; let l; let c; let d; let m; let h; return (function (e, t) {
                    let i; let r; let n; let u; let s = {
                        label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                    }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                }(this, ((f) => {
                    switch (f.label) {
                    case 0: i = t.rejectWithValue, r = t.extra, n = t.getState, u = (function (e) { let t; return (t = e.workingCurriculumExtract) === null || void 0 === t ? void 0 : t.actions; }(n())), s = ((d = u.delete) === null || void 0 === d ? void 0 : d.length) ? u.delete : void 0, o = ((m = u.create) === null || void 0 === m ? void 0 : m.length) ? u.create.map(((e) => ({ ...(0, U.Q)(e, ['sortValue']) }))).filter(((e) => G(e))) : void 0, a = ((h = u.update) === null || void 0 === h ? void 0 : h.length) ? u.update.map(((e) => ({ ...e, fields: { ...(0, U.Q)(e.fields, ['sortValue']) } }))) : void 0, l = {
                        actions: {
                            ...u, delete: s, create: (o == null ? void 0 : o.length) ? o : void 0, update: a,
                        },
                    }, f.label = 1; case 1: return f.trys.push([1, 3,, 4]), [4, r.api.post('/curriculum/working-curriculum/'.concat(e, '/extract/'), l)]; case 2: return [2, f.sent().data]; case 3: return c = f.sent(), [2, i({ ...c.response.data, status: c.response.status })]; case 4: return [2];
                    }
                })));
            }, new ((n = void 0) || (n = Promise))(((e, t) => { function s(e) { try { a(u.next(e)); } catch (e) { t(e); } } function o(e) { try { a(u.throw(e)); } catch (e) { t(e); } } function a(t) { let i; t.done ? e(t.value) : (i = t.value, i instanceof n ? i : new n(((e) => { e(i); }))).then(s, o); }a((u = u.apply(i, r || [])).next()); })); let i; let r; let n; let u;
        })); const Q = {
            WorkingCurriculumExtract: 'wd9zKT4b', content: 'Aa8utfYs', buttons: 'B1LkCYmS', buttonsRightWrapper: 'PaRJgrd1', btn: 'ZSgyZSkl', exitBtnIcon: 'x10yIBJF', editIcon: 'mrk3Wd8_', fileIcon: 'pW9mh2OV', toggleSwitcher: '_APcZjgi',
        }; const $ = i(6925); const ee = { EditingBlock: 'QXEJrN4v', inputWrapper: 'AtZG1JJl', disabled: 'JgXgGJlv' }; let te = function () { return te = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, te.apply(this, arguments); }; const ie = function (e) {
            let t; let i; const n = e.className; const s = e.inputValue; const o = e.onChangeHandler; const a = e.type; const l = e.disabled; const c = e.min; const d = e.step; const m = e.required; const h = e.onBlur; const f = e.title; return (0, r.jsx)('div', {
                className: (0, u.A)(ee.EditingBlock, (t = {}, t[ee.disabled] = l, t), [n]),
                children: (0, r.jsx)($.I, {
                    type: a, min: a === 'number' ? c : void 0, step: a === 'number' ? d : void 0, value: s || '', onChange: o, className: ee.inputWrapper, title: f, inputClassName: (0, u.A)(ee.input, (i = {}, i[ee.disabled] = l, i), []), required: m, disabled: l, tableCell: !0, onBlur: h,
                }),
            });
        }; const re = {
            TableCell: 'gS8MVtqB', rotated: 'o8Gq0cXH', yellow: 'pQ9mRu5B', blue: 'tn_gx3zF',
        }; let ne; let ue; let se = function () { return se = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, se.apply(this, arguments); }; !(function (e) { e.NORMAL = 'normal', e.YELLOW = 'yellow', e.BLUE = 'blue'; }(ne || (ne = {}))), (function (e) { e.NORMAL = 'normal', e.ROTATED = 'rotated'; }(ue || (ue = {}))); const oe = function (e) { const t = e.className; const i = e.children; const n = e.rotate; const s = void 0 === n ? ue.NORMAL : n; const o = e.theme; const a = void 0 === o ? ne.NORMAL : o; return (0, r.jsx)('div', { className: (0, u.A)(re.TableCell, {}, [t, re[s], re[a]]), children: (0, r.jsx)('div', { children: i }) }); }; let ae = function () { return ae = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, ae.apply(this, arguments); }; const le = function (e) {
            let t; const i = e.className; const n = e.inputValue; const s = e.onChangeHandler; const o = e.type; const a = e.disabled; const l = e.min; const c = e.step; const d = e.required; const m = e.error; const h = e.onBlur; const f = e.title; return (0, r.jsx)(oe, {
                className: (0, u.A)('Y9FajRET', (t = {}, t.gpvCeNoX = m, t), [i]),
                children: (0, r.jsx)(ie, {
                    inputValue: n, onChangeHandler: s, type: o, disabled: a, min: l, step: c, required: d, onBlur: h, title: f,
                }),
            });
        }; let ce = function () { return ce = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, ce.apply(this, arguments); }; const de = (0, n.memo)(((e) => { const t = e.className; const i = e.children; return (0, r.jsx)('div', { className: (0, u.A)('tZ6nxdFH', {}, [t]), children: i }); })); const me = {
            WorkingCurriculumExtractTableHead: 'YWL2iPlf', courseTitle: 'IXS7mQ96', semesterTitle: 'LEMGd7NL', weekTitle: 'isWlSu5Q', formControlNames: 'pCXqKhDC', amountOfStudyTimeNames: 'h3ytiWNP', amountOfStudyTimeNamesLeft: 'HfKwVC8E', amountOfStudyTimeNamesRightNames: 'SZX7W_es', distributionCourses: 'aOc_Y8LB', distributionSemesters: 'WFt3sexV', distributionWeeks: 'ToVlo17J', cellMainTitle: 'syEbTZ2E', distributionCourse: 'fapj0r14', distributionWeeksWrapper: 'bajgU7QX', distributionCourseName: 'WAEls0T4', distributionWeeksName: 'wGOJCZ6E',
        }; let he = function () { return he = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, he.apply(this, arguments); }; const fe = function (e, t, i) { if (i || arguments.length === 2) for (var r, n = 0, u = t.length; n < u; n++)!r && n in t || (r || (r = Array.prototype.slice.call(t, 0, n)), r[n] = t[n]); return e.concat(r || Array.prototype.slice.call(t)); }; const _e = function (e) {
            const t = e.className; const i = (0, c.v9)(A); const s = (0, n.useState)([{ blockClassName: [''], cells: [{ className: 'indexCell', content: '1' }] }, { blockClassName: [''], cells: [{ className: 'idCell', content: '2' }] }, { blockClassName: [''], cells: [{ className: 'disciplinesNameCell', content: '3' }] }, { blockClassName: [''], cells: [{ className: 'sortCell', content: '4' }] }, { blockClassName: ['formControlCell', 'flex-row'], cells: [{ className: 'formControlExamCell', content: '5' }, { className: 'formControlEasyExamCell', content: '6' }, { className: 'formControlControlWorksCell', content: '7' }, { className: 'formControlCourseWorksCell', content: '8' }] }, { blockClassName: ['amountOfStudyTimeCell', 'flex-row'], cells: [{ className: 'amountOfStudyTimeCredits', content: '9' }, { className: 'amountOfStudyTimeHours', content: '10' }, { className: 'amountOfStudyTimeTheory', content: '11' }, { className: 'amountOfStudyTimeLabs', content: '12' }, { className: 'amountOfStudyTimeCourseProject', content: '13' }, { className: 'amountOfStudyTimePractice', content: '14' }] }, { blockClassName: ['distributionCell', 'flex-row'], cells: [] }]); const o = s[0]; const a = s[1]; return (0, n.useEffect)((() => { if (i) { for (var e = { ...o[o.length - 1] }, t = fe([], o, !0).slice(0, o.length - 1), r = 0; r < i.meta.semestersCount; r++)e.cells.push({ className: '', content: String(r + 15) }); a(fe(fe([], t, !0), [e], !1)); } }), [i]), (0, r.jsxs)(de, {
                className: (0, u.A)(me.WorkingCurriculumExtractTableHead, {}, [t, 'workingCurriculumExtractTableHead']),
                children: [(0, r.jsx)(oe, {
                    className: 'indexCell',
                    rotate: ue.ROTATED,
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'Индекс',
                    }),
                }), (0, r.jsx)(oe, {
                    className: 'idCell',
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'ID',
                    }),
                }), (0, r.jsx)(oe, {
                    className: 'disciplinesNameCell',
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'Наименование модулей и видов учебной деятельности',
                    }),
                }), (0, r.jsx)(oe, {
                    className: 'sortCell',
                    rotate: ue.ROTATED,
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'Сортировка',
                    }),
                }), (0, r.jsxs)(oe, {
                    className: 'formControlCell',
                    children: [(0, r.jsx)(oe, {
                        className: (0, u.A)(me.formControlNames, {}, [me.cellMainTitle]),
                        children: (0, r.jsx)(m.xv, {
                            align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'Форма контроля',
                        }),
                    }), (0, r.jsxs)('div', {
                        className: me.formControlNames,
                        children: [(0, r.jsx)(oe, {
                            rotate: ue.ROTATED,
                            className: 'formControlExamCell',
                            children: (0, r.jsx)(m.xv, {
                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Экзамен',
                            }),
                        }), (0, r.jsx)(oe, {
                            rotate: ue.ROTATED,
                            className: 'formControlEasyExamCell',
                            children: (0, r.jsx)(m.xv, {
                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Зачет',
                            }),
                        }), (0, r.jsx)(oe, {
                            rotate: ue.ROTATED,
                            className: 'formControlControlWorksCell',
                            children: (0, r.jsx)(m.xv, {
                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Кол-во контрольных работ',
                            }),
                        }), (0, r.jsx)(oe, {
                            rotate: ue.ROTATED,
                            className: 'formControlCourseWorksCell',
                            children: (0, r.jsx)(m.xv, {
                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Кол-во курсовых работ',
                            }),
                        })],
                    })],
                }), (0, r.jsxs)(oe, {
                    className: 'amountOfStudyTimeCell',
                    children: [(0, r.jsx)(oe, {
                        className: me.cellMainTitle,
                        children: (0, r.jsx)(m.xv, {
                            align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'Объем учебного времени',
                        }),
                    }), (0, r.jsxs)('div', {
                        className: me.amountOfStudyTimeNames,
                        children: [(0, r.jsxs)('div', {
                            className: me.amountOfStudyTimeNamesLeft,
                            children: [(0, r.jsx)(oe, {
                                rotate: ue.ROTATED,
                                className: 'amountOfStudyTimeCredits',
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Кредиты',
                                }),
                            }), (0, r.jsx)(oe, {
                                rotate: ue.ROTATED,
                                className: 'amountOfStudyTimeHours',
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Всего часов',
                                }),
                            })],
                        }), (0, r.jsxs)('div', {
                            className: me.amountOfStudyTimeNamesRight,
                            children: [(0, r.jsx)(oe, {
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, weight: m.fs.SEMIBOLD, className: me.amountOfStudyTimeNamesRightTitle, children: 'в том числе',
                                }),
                            }), (0, r.jsxs)('div', {
                                className: me.amountOfStudyTimeNamesRightNames,
                                children: [(0, r.jsx)(oe, {
                                    rotate: ue.ROTATED,
                                    className: 'amountOfStudyTimeTheory',
                                    children: (0, r.jsx)(m.xv, {
                                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Теоретические',
                                    }),
                                }), (0, r.jsx)(oe, {
                                    rotate: ue.ROTATED,
                                    className: 'amountOfStudyTimeLabs',
                                    children: (0, r.jsx)(m.xv, {
                                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Лабораторно-практические',
                                    }),
                                }), (0, r.jsx)(oe, {
                                    rotate: ue.ROTATED,
                                    className: 'amountOfStudyTimeCourseProject',
                                    children: (0, r.jsx)(m.xv, {
                                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Курсовой проект',
                                    }),
                                }), (0, r.jsx)(oe, {
                                    rotate: ue.ROTATED,
                                    className: 'amountOfStudyTimePractice',
                                    children: (0, r.jsx)(m.xv, {
                                        align: m.PH.CENTER, size: m.yH.XXS, weight: m.fs.SEMIBOLD, children: 'Произв. обучение и/или профессиональная практика',
                                    }),
                                })],
                            })],
                        })],
                    })],
                }), (0, r.jsxs)(oe, {
                    className: 'distributionCell',
                    children: [(0, r.jsx)(oe, {
                        className: me.cellMainTitle,
                        children: (0, r.jsx)(m.xv, {
                            align: m.PH.CENTER, size: m.yH.S, weight: m.fs.SEMIBOLD, children: 'Распределение по курсам и семестрам',
                        }),
                    }), (0, r.jsx)('div', {
                        className: me.distributionCourses,
                        children: fe([], new Array(i == null ? void 0 : i.meta.coursesCount), !0).map(((e, t) => (0, r.jsxs)('div', {
                            className: me.distributionCourse,
                            children: [(0, r.jsx)(oe, {
                                className: me.distributionCourseName,
                                children: (0, r.jsx)(m.xv, {
                                    weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: me.courseTitle, children: t + 1,
                                }),
                            }), (0, r.jsxs)('div', {
                                className: me.distributionSemesters,
                                children: [(0, r.jsx)(oe, {
                                    children: (0, r.jsxs)(m.xv, {
                                        weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: me.semesterTitle, children: [2 * (t + 1) - 1, ' ', 'сем.'],
                                    }),
                                }), (0, r.jsx)(oe, {
                                    children: (0, r.jsxs)(m.xv, {
                                        weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: me.semesterTitle, children: [2 * (t + 1), ' ', 'сем.'],
                                    }),
                                })],
                            })],
                        }, t))),
                    }), (0, r.jsxs)('div', {
                        className: me.distributionWeeksWrapper,
                        children: [(0, r.jsx)(oe, { className: me.distributionWeeksName, children: (0, r.jsx)(m.xv, { weight: m.fs.SEMIBOLD, align: m.PH.CENTER, children: 'Недель' }) }), (0, r.jsx)('div', {
                            className: me.distributionWeeks,
                            children: fe([], new Array(i == null ? void 0 : i.meta.semestersCount), !0).map(((e, t) => (0, r.jsx)(oe, {
                                className: 'distributionWeek',
                                children: (0, r.jsx)(m.xv, {
                                    weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: me.weekTitle, children: '18',
                                }),
                            }, t))),
                        })],
                    })],
                })],
            });
        }; const ve = function (e) { return Number.isInteger(e) ? e.toString() : e.toFixed(2); }; const ye = /,(?![0-9])/g; const pe = i(4164); const xe = { subjectName: 'CWNvIq2g', editingBtns: 'zmS1HANZ', editBtn: 'QxKyIp24' }; let be = function () { return be = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, be.apply(this, arguments); }; const ge = function (e, t, i) { if (i || arguments.length === 2) for (var r, n = 0, u = t.length; n < u; n++)!r && n in t || (r || (r = Array.prototype.slice.call(t, 0, n)), r[n] = t[n]); return e.concat(r || Array.prototype.slice.call(t)); }; const je = {
            data: void 0,
            dataParsed: void 0,
            dataToWork: void 0,
            actions: {
                delete: [], update: [], create: [], simulate: !1,
            },
            distributionActions: {
                delete: [], update: [], create: [], simulate: !1,
            },
            validationErrors: { amountOfStudyTime: [], semestersDistribution: [], notFilledSummaryHours: [] },
            isLoading: !0,
            error: void 0,
            updatingIsLoading: !1,
            updatingError: void 0,
            updatedStatus: !1,
            formWithErrors: !1,
            readOnly: !0,
            redirectToMainPage: !1,
            showAllDisciplines: !0,
        }; const Se = (0, D.oM)({
            name: 'workingCurriculumExtract',
            initialState: je,
            reducers: {
                addSubject(e, t) {
                    let i; const r = t.payload; const n = r[0]; const u = r[1]; const s = r[2]; const o = r[3]; const a = r[4]; const l = r[5]; if (e.dataParsed && e.dataToWork) {
                        const c = {
                            ...o, code: '', subject: o, hours: null, hours_theory: null, hours_practice: null, hours_coursework: null, hours_internship: null, name: o.name, controlworks_count: null, courseworks_count: null, educational_activity_type_id: null, sort: l, sortValue: ''.concat(l), standard_curriculum_qualification_id: n, exams_semestrs: null, tests_semesters: null, semestersDistribution: Array(e.data.meta.semestersCount).fill(null).map(((e, t) => ({ semester_number: t + 1, hours: null }))),
                        }; const d = localStorage.getItem(S.RR); const m = d ? 'dataToWork' : 'dataParsed'; n ? e[m].data.qualifications.forEach(((e) => { e.standard_curriculum_qualification_id === n && e.modules.forEach(((e) => { e.module_id === u && e.units.forEach(((e) => { e.educational_modules_unit_id === s && (e.subjects.push(c), e.subjects.sort(((e, t) => e.sort - t.sort))); })); })); })) : (e[m].data.general[0].subjects.push(c), e[m].data.general[0].subjects.sort(((e, t) => e.sort - t.sort))), d ? localStorage.removeItem(S.RR) : e.dataToWork = e.dataParsed; const h = { ...(0, U.Q)(c, ['subject', 'code', 'name', 'semestersDistribution', 'restrictions', 'module_id', 'unit_id']), working_curriculum_id: a }; (i = e.actions.create) === null || void 0 === i || i.push(h), c.semestersDistribution.forEach(((t) => {
                            let i; const r = {
                                standard_curriculum_qualification_id: c.standard_curriculum_qualification_id, subject_id: c.subject_id, semester_number: t.semester_number, hours: t.hours,
                            }; (i = e.distributionActions.create) === null || void 0 === i || i.push(r);
                        })), e.validationErrors.notFilledSummaryHours.push({ notFilled: !0, subject_id: c.subject_id, standard_curriculum_qualification_id: c.standard_curriculum_qualification_id });
                    }
                },
                addEducationalActivityType(e, t) {
                    let i; const r = t.payload; const n = r[0]; const u = r[1]; const s = r[2]; if (e.dataToWork) {
                        const o = {
                            ...u, standard_curriculum_qualification_id: n, subject_id: null, exams_semestrs: null, tests_semesters: null, courseworks_count: null, controlworks_count: null, sort: 100, sortValue: '100', hours: null, hours_theory: null, hours_practice: null, hours_coursework: null, hours_internship: null, semestersDistribution: Array(e.data.meta.semestersCount).fill(null).map(((e, t) => ({ semester_number: t + 1, hours: null }))),
                        }; n ? e.dataToWork.data.qualifications.forEach(((e) => { e.standard_curriculum_qualification_id === n && (e.educationalActivities.push(o), e.educationalActivities.sort(((e, t) => e.sort - t.sort))); })) : (e.dataToWork.data.general[0].educationalActivities.push(o), e.dataToWork.data.general[0].educationalActivities.sort(((e, t) => e.sort - t.sort))); const a = { ...(0, U.Q)(o, ['code', 'name', 'semestersDistribution', 'is_in_compulsory_education', 'short_name']), working_curriculum_id: s }; (i = e.actions.create) === null || void 0 === i || i.push(a), o.semestersDistribution.forEach(((t) => {
                            let i; const r = {
                                standard_curriculum_qualification_id: o.standard_curriculum_qualification_id, educational_activity_type_id: o.educational_activity_type_id, semester_number: t.semester_number, hours: t.hours,
                            }; (i = e.distributionActions.create) === null || void 0 === i || i.push(r);
                        })), e.validationErrors.notFilledSummaryHours.push({ notFilled: !0, educational_activity_type_id: o.educational_activity_type_id, standard_curriculum_qualification_id: o.standard_curriculum_qualification_id });
                    }
                },
                changeFieldValue(e, t) { let i; let r; let n; let u; let s; let o; let a; let l; let c; let d; let m; let h; let f; let _; if (e.dataToWork) { const v = t.payload; const y = v[0]; const p = v[1]; const x = v[2]; const b = v[3]; const g = v[4]; const j = v[5]; const S = v[6]; const E = g === 'exams_semestrs' || g === 'tests_semesters' ? Array.from(new Set(j.split(','))).map(((e) => Number(e))).filter(((e) => e !== 0)) : j; if (S) { if (y ? (e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== y ? e : ({ ...e, modules: e.modules.map(((e) => (e.module_id !== p ? e : ({ ...e, units: e.units.map(((e) => (e.educational_modules_unit_id !== x ? e : ({ ...e, subjects: e.subjects.map(((e) => { let t; return e.subject_id !== b.subject_id ? e : ({ ...e, ...((t = {})[g] = j, t) }); })) })))) })))) })))), b.working_curriculum_extract_id || (e.actions.create = (n = e.actions.create) === null || void 0 === n ? void 0 : n.map(((e) => { let t; return e.standard_curriculum_qualification_id !== y || e.subject_id !== b.subject_id ? e : ({ ...e, ...((t = {})[g] = j ? E : null, t) }); })))) : (e.dataToWork.data.general[0].subjects = e.dataToWork.data.general[0].subjects.map(((e) => { let t; return e.subject_id !== b.subject_id ? e : ({ ...e, ...((t = {})[g] = j, t) }); })), b.working_curriculum_extract_id || (e.actions.create = (u = e.actions.create) === null || void 0 === u ? void 0 : u.map(((e) => { let t; return e.standard_curriculum_qualification_id !== null || e.subject_id !== b.subject_id ? e : ({ ...e, ...((t = {})[g] = j ? E : null, t) }); })))), b.working_curriculum_extract_id) { var C = (s = e.actions.update) === null || void 0 === s ? void 0 : s.filter(((e) => e.working_curriculum_extract_id === b.working_curriculum_extract_id))[0]; e.actions.delete = (o = e.actions.delete) === null || void 0 === o ? void 0 : o.filter(((e) => e !== b.working_curriculum_extract_id)), C ? e.actions.update = (a = e.actions.update) === null || void 0 === a ? void 0 : a.map(((e) => { let t; return e.working_curriculum_extract_id !== b.working_curriculum_extract_id ? e : ({ ...e, fields: { ...e.fields, ...(t = {}, t[g] = j ? E : null, t) } }); })) : (l = e.actions.update) === null || void 0 === l || l.push({ working_curriculum_extract_id: b.working_curriculum_extract_id, fields: { ...(0, U.Q)(b, ['working_curriculum_extract_id', 'name', 'code', 'subject', 'semestersDistribution']), ...(i = { exams_semestrs: b.exams_semestrs ? b.exams_semestrs.split(',').map(((e) => +e)) : null, tests_semesters: b.tests_semesters ? b.tests_semesters.split(',').map(((e) => +e)) : null }, i[g] = j ? E : null, i) } }); } } else y ? (e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== y ? e : ({ ...e, educationalActivities: e.educationalActivities.map(((e) => { let t; return e.educational_activity_type_id !== b.educational_activity_type_id ? e : ({ ...e, ...((t = {})[g] = j, t) }); })) })))), b.working_curriculum_extract_id || (e.actions.create = (c = e.actions.create) === null || void 0 === c ? void 0 : c.map(((e) => { let t; return e.standard_curriculum_qualification_id !== y || e.educational_activity_type_id !== b.educational_activity_type_id ? e : ({ ...e, ...((t = {})[g] = j ? E : null, t) }); })))) : (e.dataToWork.data.general[0].educationalActivities = e.dataToWork.data.general[0].educationalActivities.map(((e) => { let t; return e.educational_activity_type_id !== b.educational_activity_type_id ? e : ({ ...e, ...((t = {})[g] = j, t) }); })), b.working_curriculum_extract_id || (e.actions.create = (d = e.actions.create) === null || void 0 === d ? void 0 : d.map(((e) => { let t; return e.standard_curriculum_qualification_id !== null || e.educational_activity_type_id !== b.educational_activity_type_id ? e : ({ ...e, ...((t = {})[g] = j ? E : null, t) }); })))), b.working_curriculum_extract_id && (C = (m = e.actions.update) === null || void 0 === m ? void 0 : m.filter(((e) => e.working_curriculum_extract_id === b.working_curriculum_extract_id))[0], e.actions.delete = (h = e.actions.delete) === null || void 0 === h ? void 0 : h.filter(((e) => e !== b.working_curriculum_extract_id)), C ? e.actions.update = (f = e.actions.update) === null || void 0 === f ? void 0 : f.map(((e) => { let t; return e.working_curriculum_extract_id !== b.working_curriculum_extract_id ? e : ({ ...e, fields: { ...e.fields, ...(t = {}, t[g] = j ? E : null, t) } }); })) : (_ = e.actions.update) === null || void 0 === _ || _.push({ working_curriculum_extract_id: b.working_curriculum_extract_id, fields: { ...(0, U.Q)(b, ['working_curriculum_extract_id', 'short_name', 'name', 'code', 'is_in_compulsory_education', 'semestersDistribution']), ...(r = { exams_semestrs: b.exams_semestrs ? b.exams_semestrs.split(',').map(((e) => +e)) : null, tests_semesters: b.tests_semesters ? b.tests_semesters.split(',').map(((e) => +e)) : null }, r[g] = j ? E : null, r) } })); } },
                changeDistributionValues(e, t) {
                    let i; let r; let n; let u; let s; let o; let a; let l; let c; let d; let m; let h; let f; let _; let v; let y; let p; let x; let b; if (e.dataToWork) {
                        const g = t.payload; const j = g[0]; const S = g[1]; const E = g[2]; const C = g[3]; const O = g[4]; const N = g[5]; const T = g[6]; const w = C.semestersDistribution.filter(((e) => e.semester_number === O))[0]; if (T) {
                            if (j) {
                                if (e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== j ? e : ({ ...e, modules: e.modules.map(((e) => (e.module_id !== S ? e : ({ ...e, units: e.units.map(((e) => (e.educational_modules_unit_id !== E ? e : ({ ...e, subjects: e.subjects.map(((e) => (e.subject_id !== C.subject_id ? e : ({ ...e, semestersDistribution: e.semestersDistribution.map(((e) => (e.semester_number !== O ? e : ({...e, hours: N})))) })))) })))) })))) })))), !w.working_curriculum_extract_distribution_id) {
                                    var k = (i = e.distributionActions.create) === null || void 0 === i ? void 0 : i.filter(((e) => e.standard_curriculum_qualification_id === j && e.subject_id === C.subject_id && e.semester_number === O))[0]; k ? e.distributionActions.create = (r = e.distributionActions.create) === null || void 0 === r ? void 0 : r.map(((e) => (e.standard_curriculum_qualification_id === j && e.subject_id === C.subject_id && e.semester_number === O ? ({ ...e, hours: N }) : e))) : (n = e.distributionActions.create) === null || void 0 === n || n.push({
                                        standard_curriculum_qualification_id: C.standard_curriculum_qualification_id, educational_activity_type_id: C.educational_activity_type_id, subject_id: C.subject_id, semester_number: O, hours: N,
                                    });
                                }
                            } else {
                                e.dataToWork.data.general[0].subjects = e.dataToWork.data.general[0].subjects.map(((e) => (e.subject_id !== C.subject_id ? e : ({ ...e, semestersDistribution: e.semestersDistribution.map(((e) => (e.semester_number !== O ? e : ({ ...e, hours: N })))) })))), w.working_curriculum_extract_distribution_id || (k = (u = e.distributionActions.create) === null || void 0 === u ? void 0 : u.filter(((e) => e.standard_curriculum_qualification_id === null && e.subject_id === C.subject_id && e.semester_number === O))[0], k ? e.distributionActions.create = (s = e.distributionActions.create) === null || void 0 === s ? void 0 : s.map(((e) => (e.standard_curriculum_qualification_id === null && e.subject_id === C.subject_id && e.semester_number === O ? ({ ...e, hours: N }) : e))) : (o = e.distributionActions.create) === null || void 0 === o || o.push({
                                    standard_curriculum_qualification_id: C.standard_curriculum_qualification_id, educational_activity_type_id: C.educational_activity_type_id, subject_id: C.subject_id, semester_number: O, hours: N,
                                }));
                            }
                        } else {
                            j ? (e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== j ? e : ({ ...e, educationalActivities: e.educationalActivities.map(((e) => (e.educational_activity_type_id !== C.educational_activity_type_id ? e : ({ ...e, semestersDistribution: e.semestersDistribution.map(((e) => (e.semester_number !== O ? e : ({ ...e, hours: N })))) })))) })))), w.working_curriculum_extract_distribution_id || (k = (a = e.distributionActions.create) === null || void 0 === a ? void 0 : a.filter(((e) => e.standard_curriculum_qualification_id === j && e.educational_activity_type_id === C.educational_activity_type_id && e.semester_number === O))[0], k ? e.distributionActions.create = (l = e.distributionActions.create) === null || void 0 === l ? void 0 : l.map(((e) => (e.standard_curriculum_qualification_id === j && e.educational_activity_type_id === C.educational_activity_type_id && e.semester_number === O ? ({ ...e, hours: N }) : e))) : (c = e.distributionActions.create) === null || void 0 === c || c.push({
                                standard_curriculum_qualification_id: C.standard_curriculum_qualification_id, educational_activity_type_id: C.educational_activity_type_id, subject_id: C.subject_id, semester_number: O, hours: N,
                            }))) : (e.dataToWork.data.general[0].educationalActivities = e.dataToWork.data.general[0].educationalActivities.map(((e) => (e.educational_activity_type_id !== C.educational_activity_type_id ? e : ({ ...e, semestersDistribution: e.semestersDistribution.map(((e) => (e.semester_number !== O ? e : ({ ...e, hours: N })))) })))), w.working_curriculum_extract_distribution_id || (k = (d = e.distributionActions.create) === null || void 0 === d ? void 0 : d.filter(((e) => e.standard_curriculum_qualification_id === null && e.educational_activity_type_id === C.educational_activity_type_id && e.semester_number === O))[0], k ? e.distributionActions.create = (m = e.distributionActions.create) === null || void 0 === m ? void 0 : m.map(((e) => (e.standard_curriculum_qualification_id === null && e.educational_activity_type_id === C.educational_activity_type_id && e.semester_number === O ? ({ ...e, hours: N }) : e))) : (h = e.distributionActions.create) === null || void 0 === h || h.push({
                                standard_curriculum_qualification_id: C.standard_curriculum_qualification_id, educational_activity_type_id: C.educational_activity_type_id, subject_id: C.subject_id, semester_number: O, hours: N,
                            })));
                        } if (w.working_curriculum_extract_distribution_id) { const L = (f = e.distributionActions.update) === null || void 0 === f ? void 0 : f.filter(((e) => e.working_curriculum_extract_distribution_id === w.working_curriculum_extract_distribution_id))[0]; e.distributionActions.delete = (_ = e.distributionActions.delete) === null || void 0 === _ ? void 0 : _.filter(((e) => e !== w.working_curriculum_extract_distribution_id)), N ? e.distributionActions.delete = (p = e.distributionActions.delete) === null || void 0 === p ? void 0 : p.filter(((e) => e !== w.working_curriculum_extract_distribution_id)) : ((v = e.distributionActions.delete) === null || void 0 === v || v.push(w.working_curriculum_extract_distribution_id), e.distributionActions.delete = Array.from(new Set(e.distributionActions.delete)), e.distributionActions.update = (y = e.distributionActions.update) === null || void 0 === y ? void 0 : y.filter(((e) => e.working_curriculum_extract_distribution_id !== w.working_curriculum_extract_distribution_id))), L ? e.distributionActions.update = (x = e.distributionActions.update) === null || void 0 === x ? void 0 : x.map(((e) => (e.working_curriculum_extract_distribution_id !== L.working_curriculum_extract_distribution_id ? e : ({ ...e, fields: { ...e.fields, hours: N } })))) : (b = e.distributionActions.update) === null || void 0 === b || b.push({ working_curriculum_extract_distribution_id: w.working_curriculum_extract_distribution_id, fields: { working_curriculum_extract_id: C.working_curriculum_extract_id, semester_number: O, hours: N } }); }
                    }
                },
                calculateSummaryTime(e, t) {
                    if (e.dataToWork) {
                        const i = t.payload; const r = i[0]; const n = i[1]; const u = i[2]; i[3] ? r ? (e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((t) => (t.standard_curriculum_qualification_id !== r ? t : ({
                            ...t,
                            modules: t.modules.map(((t) => (t.module_id !== n ? t : ({
                                ...t,
                                units: t.units.map(((t) => {
                                    if (t.educational_modules_unit_id !== u) return t; const i = t.subjects.reduce(((e, t) => (t.semestersDistribution.forEach(((t) => { const i = t.semester_number; const r = t.hours; e[i] = (e[i] || 0) + (r || 0); })), e)), {}); const r = {
                                        ...t.summary,
                                        amountOfStudyTime: {
                                            hours: t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || null, hours_theory: t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || null, hours_practice: t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || null, hours_coursework: t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || null, hours_internship: t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || null,
                                        },
                                        semestersDistribution: t.subjects.length ? Object.entries(i).map(((e) => { const t = e[0]; const i = e[1]; return { semester_number: Number(t), hours: i || null }; })) : Array(e.data.meta.semestersCount).fill(null).map(((e, t) => ({ semester_number: t + 1, hours: null }))),
                                    }; return { ...t, summary: r };
                                })),
                            })))),
                        })))), e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== r ? e : ({
                            ...e,
                            modules: e.modules.map(((e) => {
                                if (e.module_id !== n) return e; const t = e.units.reduce(((e, t) => (t.summary.semestersDistribution.forEach(((t) => { const i = t.semester_number; const r = t.hours; e[i] = (e[i] || 0) + (r || 0); })), e)), {}); const i = {
                                    ...e.summary,
                                    amountOfStudyTime: {
                                        hours: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || null, hours_theory: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || null, hours_practice: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || null, hours_coursework: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || null, hours_internship: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || null,
                                    },
                                    semestersDistribution: Object.entries(t).map(((e) => { const t = e[0]; const i = e[1]; return { semester_number: Number(t), hours: i || null }; })),
                                }; return { ...e, summary: i };
                            })),
                        })))), e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((t) => {
                            if (t.standard_curriculum_qualification_id !== r) return t; for (var i = [], n = [], u = 0; u < e.data.meta.semestersCount; u++)i.push({ semester_number: u + 1, hours: null }), n.push({ semester_number: u + 1, hours: null }); t.modules.forEach(((e) => { e.summary.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, n[t].hours = (n[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { n[t].hours = (n[t].hours || 0) + (e.hours || 0) || null; })); })); const s = {
                                ...t.summary,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: i,
                            }; const o = {
                                ...t.summaryCompulsory,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: n,
                            }; return { ...t, summary: s, summaryCompulsory: o };
                        }))) : e.dataToWork.data.general = e.dataToWork.data.general.map(((t) => {
                            for (var i = [], r = [], n = 0; n < e.data.meta.semestersCount; n++)i.push({ semester_number: n + 1, hours: null }), r.push({ semester_number: n + 1, hours: null }); t.subjects.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })); const u = {
                                ...t.summary,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: i,
                            }; const s = {
                                ...t.summaryCompulsory,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: r,
                            }; return { ...t, summary: u, summaryCompulsory: s };
                        })) : r ? e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((t) => {
                            if (t.standard_curriculum_qualification_id !== r) return t; for (var i = [], n = [], u = 0; u < e.data.meta.semestersCount; u++)i.push({ semester_number: u + 1, hours: null }), n.push({ semester_number: u + 1, hours: null }); t.modules.forEach(((e) => { e.summary.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, n[t].hours = (n[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { n[t].hours = (n[t].hours || 0) + (e.hours || 0) || null; })); })); const s = {
                                ...t.summary,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: i,
                            }; const o = {
                                ...t.summaryCompulsory,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: n,
                            }; return { ...t, summary: s, summaryCompulsory: o };
                        })) : e.dataToWork.data.general = e.dataToWork.data.general.map(((t) => {
                            for (var i = [], r = [], n = 0; n < e.data.meta.semestersCount; n++)i.push({ semester_number: n + 1, hours: null }), r.push({ semester_number: n + 1, hours: null }); t.subjects.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })); const u = {
                                ...t.summary,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: i,
                            }; const s = {
                                ...t.summaryCompulsory,
                                amountOfStudyTime: {
                                    hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                                },
                                semestersDistribution: r,
                            }; return { ...t, summary: u, summaryCompulsory: s };
                        }));
                    }
                },
                changeSubjectName(e, t) { if (e.dataToWork) { const i = t.payload; const r = i[0]; const n = i[1]; const u = i[2]; const s = i[3]; const o = i[4]; r ? e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== r ? e : ({ ...e, modules: e.modules.map(((e) => (e.module_id !== n ? e : ({ ...e, units: e.units.map(((e) => (e.educational_modules_unit_id !== u ? e : ({ ...e, subjects: e.subjects.map(((e) => (e.subject_id !== s ? e : ({ ...e, name: o })))) })))) })))) })))) : e.dataToWork.data.general[0].subjects = e.dataToWork.data.general[0].subjects.map(((e) => (e.subject_id !== s ? e : ({ ...e, name: o })))); } },
                deleteSubject(e, t) {
                    let i; let r; if (e.dataToWork) {
                        const n = t.payload; const u = n[0]; const s = n[1]; const o = n[2]; const a = n[3]; u ? e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== u ? e : ({
                            ...e,
                            modules: e.modules.map(((e) => (e.module_id !== s ? e : ({
                                ...e,
                                units: e.units.map(((e) => (e.educational_modules_unit_id !== o ? e : ({
                                    ...e,
                                    subjects: e.subjects.map(((e) => (e.subject_id === a.subject_id ? ({
                                        ...e, hours: null, hours_coursework: null, hours_internship: null, hours_practice: null, hours_theory: null, tests_semesters: null, courseworks_count: null, exams_semestrs: null, controlworks_count: null, semestersDistribution: e.semestersDistribution.map(((e) => ({ ...e, hours: null }))),
                                    }) : e))), 
})))), 
})))), 
})))) : e.dataToWork.data.general[0].subjects = e.dataToWork.data.general[0].subjects.map(((e) => (e.subject_id === a.subject_id ? ({
                            ...e, hours: null, hours_coursework: null, hours_internship: null, hours_practice: null, hours_theory: null, tests_semesters: null, courseworks_count: null, exams_semestrs: null, controlworks_count: null, semestersDistribution: e.semestersDistribution.map(((e) => ({ ...e, hours: null }))),
                        }) : e))), a.working_curriculum_extract_id ? (e.actions.delete = ge(ge([], e.actions.delete || [], !0), [a.working_curriculum_extract_id], !1), e.distributionActions.delete = ge(ge([], e.distributionActions.delete || [], !0), a.semestersDistribution.map(((e) => e.working_curriculum_extract_distribution_id)), !0)) : (e.actions.create = (i = e.actions.create) === null || void 0 === i ? void 0 : i.filter(((e) => !(e.subject_id === a.subject_id && e.standard_curriculum_qualification_id === a.standard_curriculum_qualification_id))), e.distributionActions.create = (r = e.distributionActions.create) === null || void 0 === r ? void 0 : r.filter(((e) => !(e.subject_id === a.subject_id && e.standard_curriculum_qualification_id === a.standard_curriculum_qualification_id))), Object.keys(e.validationErrors).forEach(((t) => { e.validationErrors[t] = e.validationErrors[t].filter(((e) => e.subject_id !== a.subject_id)); })));
                    }
                },
                deleteEduActivity(e, t) { let i; let r; if (e.dataToWork) { const n = t.payload; const u = n[0]; const s = n[1]; u ? e.dataToWork.data.qualifications = e.dataToWork.data.qualifications.map(((e) => (e.standard_curriculum_qualification_id !== u ? e : ({ ...e, educationalActivities: e.educationalActivities.filter(((e) => e.educational_activity_type_id !== s.educational_activity_type_id)) })))) : e.dataToWork.data.general[0].educationalActivities = e.dataToWork.data.general[0].educationalActivities.filter(((e) => e.educational_activity_type_id !== s.educational_activity_type_id)), s.working_curriculum_extract_id ? (e.actions.delete = ge(ge([], e.actions.delete || [], !0), [s.working_curriculum_extract_id], !1), e.distributionActions.delete = ge(ge([], e.distributionActions.delete || [], !0), s.semestersDistribution.map(((e) => e.working_curriculum_extract_distribution_id)), !0)) : (e.actions.create = (i = e.actions.create) === null || void 0 === i ? void 0 : i.filter(((e) => !(e.educational_activity_type_id === s.educational_activity_type_id && e.standard_curriculum_qualification_id === s.standard_curriculum_qualification_id))), e.distributionActions.create = (r = e.distributionActions.create) === null || void 0 === r ? void 0 : r.filter(((e) => !(e.educational_activity_type_id === s.educational_activity_type_id && e.standard_curriculum_qualification_id === s.standard_curriculum_qualification_id))), Object.keys(e.validationErrors).forEach(((t) => { e.validationErrors[t] = e.validationErrors[t].filter(((e) => e.educational_activity_type_id !== s.educational_activity_type_id)); }))); } },
                addValidationErrors(e, t) { const i = t.payload; const r = i[0]; const n = i[1]; const u = i[2]; const s = i[3]; const o = i[4]; i[5] ? ge([], e.validationErrors[u], !0).filter(((e) => e.standard_curriculum_qualification_id === r && e.subject_id === n))[0] ? u !== 'notFilledSummaryHours' ? e.validationErrors[u] = e.validationErrors[u].map(((e) => (e.standard_curriculum_qualification_id === r && e.subject_id === n ? ({ ...e, validated: s }) : e))) : e.validationErrors.notFilledSummaryHours = e.validationErrors.notFilledSummaryHours.map(((e) => (e.standard_curriculum_qualification_id === r && e.subject_id === n ? ({ ...e, notFilled: o }) : e))) : u !== 'notFilledSummaryHours' ? e.validationErrors[u].push({ standard_curriculum_qualification_id: r, subject_id: n, validated: s }) : e.validationErrors.notFilledSummaryHours.push({ standard_curriculum_qualification_id: r, subject_id: n, notFilled: o }) : ge([], e.validationErrors[u], !0).filter(((e) => e.standard_curriculum_qualification_id === r && e.educational_activity_type_id === n))[0] ? u !== 'notFilledSummaryHours' ? e.validationErrors[u] = e.validationErrors[u].map(((e) => (e.standard_curriculum_qualification_id === r && e.educational_activity_type_id === n ? ({ ...e, validated: s }) : e))) : e.validationErrors.notFilledSummaryHours = e.validationErrors.notFilledSummaryHours.map(((e) => (e.standard_curriculum_qualification_id === r && e.educational_activity_type_id === n ? ({ ...e, notFilled: o }) : e))) : u !== 'notFilledSummaryHours' ? e.validationErrors[u].push({ standard_curriculum_qualification_id: r, educational_activity_type_id: n, validated: s }) : e.validationErrors.notFilledSummaryHours.push({ standard_curriculum_qualification_id: r, educational_activity_type_id: n, notFilled: o }); },
                prepareSemestersDistributionToSend(e, t) { let i; if ((i = e.distributionActions.create) === null || void 0 === i ? void 0 : i.length) { const r = []; t.payload.forEach(((t) => { let i; (i = e.distributionActions.create) === null || void 0 === i || i.forEach(((e) => { t.subject_id ? t.subject_id === e.subject_id && t.standard_curriculum_qualification_id === e.standard_curriculum_qualification_id && e.hours && r.push({ working_curriculum_extract_id: t.working_curriculum_extract_id, semester_number: e.semester_number, hours: e.hours }) : t.educational_activity_type_id === e.educational_activity_type_id && t.standard_curriculum_qualification_id === e.standard_curriculum_qualification_id && e.hours && r.push({ working_curriculum_extract_id: t.working_curriculum_extract_id, semester_number: e.semester_number, hours: e.hours }); })); })), e.distributionActions.create = r; } },
                changeFormWithErrorsValue(e, t) { e.formWithErrors = t.payload; },
                changeReadOnly(e, t) { e.readOnly = t.payload; },
                changeRedirectToMainPage(e, t) { e.redirectToMainPage = t.payload; },
                toggleShowAllDisciplines(e, t) { e.showAllDisciplines = t.payload; },
                cancelChanges(e) { e.dataToWork = e.dataParsed, e.actions = je.actions, e.distributionActions = je.distributionActions, e.validationErrors = je.validationErrors, e.formWithErrors = je.formWithErrors; },
                clearUpdatingErrors(e) { e.updatingError = je.updatingError; },
            },
            extraReducers(e) {
                e.addCase(H.pending, ((e) => { e.error = void 0, e.isLoading = !0; })).addCase(H.fulfilled, ((e, t) => {
                    e.data = t.payload; for (var i = {
                            formControl: ['formControlExamCell', 'formControlEasyExamCell', 'formControlControlWorksCell', 'formControlCourseWorksCell'],
                            amountOfStudyTime: {
                                hours: null, hours_coursework: null, hours_internship: null, hours_practice: null, hours_theory: null,
                            },
                            semestersDistribution: [],
                        }, r = 0; r < t.payload.meta.semestersCount; r++)i.semestersDistribution.push({ hours: null, semester_number: r + 1 }); const n = {
                        meta: t.payload.meta,
                        data: {
                            general: t.payload.data.general ? t.payload.data.general.map(((e) => ({
                                ...e,
                                summary: i,
                                summaryCompulsory: i,
                                subjects: e.subjects.map(((e) => {
                                    let t; let r; const n = ge([], i.semestersDistribution, !0); return e.semestersDistribution.forEach(((e) => { n.forEach(((t, i) => { e.semester_number === t.semester_number && e.hours && (n[i] = e); })); })), ({
                                        ...e, exams_semestrs: (t = e.exams_semestrs) === null || void 0 === t ? void 0 : t.join(','), tests_semesters: (r = e.tests_semesters) === null || void 0 === r ? void 0 : r.join(','), sortValue: e.sort, semestersDistribution: n,
                                    });
                                })),
                                educationalActivities: e.educationalActivities.map(((e) => {
                                    let t; let r; const n = ge([], i.semestersDistribution, !0); return e.semestersDistribution.forEach(((e) => { n.forEach(((t, i) => { e.semester_number === t.semester_number && e.hours && (n[i] = e); })); })), ({
                                        ...e, exams_semestrs: (t = e.exams_semestrs) === null || void 0 === t ? void 0 : t.join(','), tests_semesters: (r = e.tests_semesters) === null || void 0 === r ? void 0 : r.join(','), sortValue: e.sort, semestersDistribution: n,
                                    });
                                })),
                            }))) : t.payload.data.general,
                            qualifications: t.payload.data.qualifications ? t.payload.data.qualifications.map(((e) => ({
                                ...e,
                                summary: i,
                                summaryCompulsory: i,
                                modules: e.modules.map(((e) => ({
                                    ...e,
                                    summary: i,
                                    units: e.units.map(((e) => ({
                                        ...e,
                                        subjects: e.subjects.map(((e) => {
                                            let t; let r; const n = ge([], i.semestersDistribution, !0); return e.semestersDistribution.forEach(((e) => { n.forEach(((t, i) => { e.semester_number === t.semester_number && e.hours && (n[i] = e); })); })), ({
                                                ...e, exams_semestrs: (t = e.exams_semestrs) === null || void 0 === t ? void 0 : t.join(','), tests_semesters: (r = e.tests_semesters) === null || void 0 === r ? void 0 : r.join(','), sortValue: e.sort, semestersDistribution: n,
                                            });
                                        })),
                                        summary: i,
                                    }))),
                                }))),
                                educationalActivities: e.educationalActivities.map(((e) => {
                                    let t; let r; const n = ge([], i.semestersDistribution, !0); return e.semestersDistribution.forEach(((e) => { n.forEach(((t, i) => { e.semester_number === t.semester_number && e.hours && (n[i] = e); })); })), ({
                                        ...e, exams_semestrs: (t = e.exams_semestrs) === null || void 0 === t ? void 0 : t.join(','), tests_semesters: (r = e.tests_semesters) === null || void 0 === r ? void 0 : r.join(','), sortValue: e.sort, semestersDistribution: n,
                                    });
                                })),
                            }))) : t.payload.data.qualifications,
                        },
                    }; e.dataParsed = n, e.dataParsed.data.qualifications && e.dataParsed.data.qualifications.length && (e.dataParsed.data.qualifications = e.dataParsed.data.qualifications.map(((t) => ({
                        ...t,
                        modules: t.modules.map(((t) => ({
                            ...t,
                            units: t.units.map(((t) => {
                                const i = t.subjects.reduce(((e, t) => (t.semestersDistribution.forEach(((t) => { const i = t.semester_number; const r = t.hours; e[i] = (e[i] || 0) + (r || 0); })), e)), {}); const r = {
                                    ...t.summary,
                                    amountOfStudyTime: {
                                        hours: t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || null, hours_theory: t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || null, hours_practice: t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || null, hours_coursework: t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || null, hours_internship: t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || null,
                                    },
                                    semestersDistribution: t.subjects.length ? Object.entries(i).map(((e) => { const t = e[0]; const i = e[1]; return { semester_number: Number(t), hours: i || null }; })) : Array(e.data.meta.semestersCount).fill(null).map(((e, t) => ({ semester_number: t + 1, hours: null }))),
                                }; return { ...t, summary: r };
                            })),
                        }))),
                    }))), e.dataParsed.data.qualifications = e.dataParsed.data.qualifications.map(((e) => ({
                        ...e,
                        modules: e.modules.map(((e) => {
                            const t = e.units.reduce(((e, t) => (t.summary.semestersDistribution.forEach(((t) => { const i = t.semester_number; const r = t.hours; e[i] = (e[i] || 0) + (r || 0); })), e)), {}); const i = {
                                ...e.summary,
                                amountOfStudyTime: {
                                    hours: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || null, hours_theory: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || null, hours_practice: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || null, hours_coursework: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || null, hours_internship: e.units.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || null,
                                },
                                semestersDistribution: Object.entries(t).map(((e) => { const t = e[0]; const i = e[1]; return { semester_number: Number(t), hours: i || null }; })),
                            }; return { ...e, summary: i };
                        })),
                    }))), e.dataParsed.data.qualifications = e.dataParsed.data.qualifications.map(((t) => {
                        for (var i = [], r = [], n = 0; n < e.data.meta.semestersCount; n++)i.push({ semester_number: n + 1, hours: null }), r.push({ semester_number: n + 1, hours: null }); t.modules.forEach(((e) => { e.summary.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })); const u = {
                            ...t.summary,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: i,
                        }; const s = {
                            ...t.summaryCompulsory,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: r,
                        }; return { ...t, summary: u, summaryCompulsory: s };
                    })), e.dataParsed.data.qualifications = e.dataParsed.data.qualifications.map(((t) => {
                        for (var i = [], r = [], n = 0; n < e.data.meta.semestersCount; n++)i.push({ semester_number: n + 1, hours: null }), r.push({ semester_number: n + 1, hours: null }); t.modules.forEach(((e) => { e.summary.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })); const u = {
                            ...t.summary,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: i,
                        }; const s = {
                            ...t.summaryCompulsory,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.modules.reduce(((e, t) => e + (t.summary.amountOfStudyTime.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: r,
                        }; return { ...t, summary: u, summaryCompulsory: s };
                    }))), e.dataParsed.data.general && e.dataParsed.data.general.length && (e.dataParsed.data.general = e.dataParsed.data.general.map(((t) => {
                        for (var i = [], r = [], n = 0; n < e.data.meta.semestersCount; n++)i.push({ semester_number: n + 1, hours: null }), r.push({ semester_number: n + 1, hours: null }); t.subjects.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })); const u = {
                            ...t.summary,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: i,
                        }; const s = {
                            ...t.summaryCompulsory,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: r,
                        }; return { ...t, summary: u, summaryCompulsory: s };
                    })), e.dataParsed.data.general = e.dataParsed.data.general.map(((t) => {
                        for (var i = [], r = [], n = 0; n < e.data.meta.semestersCount; n++)i.push({ semester_number: n + 1, hours: null }), r.push({ semester_number: n + 1, hours: null }); t.subjects.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null, r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { i[t].hours = (i[t].hours || 0) + (e.hours || 0) || null; })); })), t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).forEach(((e) => { e.semestersDistribution.forEach(((e, t) => { r[t].hours = (r[t].hours || 0) + (e.hours || 0) || null; })); })); const u = {
                            ...t.summary,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: i,
                        }; const s = {
                            ...t.summaryCompulsory,
                            amountOfStudyTime: {
                                hours: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours || 0)), 0) || 0) || null, hours_theory: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_theory || 0)), 0) || 0) || null, hours_practice: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_practice || 0)), 0) || 0) || null, hours_coursework: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_coursework || 0)), 0) || 0) || null, hours_internship: (t.educationalActivities.filter(((e) => e.is_in_compulsory_education)).reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) + (t.subjects.reduce(((e, t) => e + (t.hours_internship || 0)), 0) || 0) || null,
                            },
                            semestersDistribution: r,
                        }; return { ...t, summary: u, summaryCompulsory: s };
                    }))), e.dataToWork = e.dataParsed, e.isLoading = !1;
                })).addCase(H.rejected, ((e, t) => { e.isLoading = !1, e.error = t.payload; })).addCase(K.pending, ((e) => { e.updatingError = void 0, e.updatingIsLoading = !0, e.updatedStatus = !1; }))
                    .addCase(K.fulfilled, ((e) => { e.updatingIsLoading = !1, e.updatedStatus = !0; }))
                    .addCase(K.rejected, ((e, t) => { e.updatingIsLoading = !1, e.updatingError = t.payload, e.updatedStatus = !1; }));
            },
        }); var Ee = Se.actions; const Ce = Se.reducer; let Oe = function () { return Oe = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, Oe.apply(this, arguments); }; const Ne = (0, n.memo)(((e) => {
            let t; let i; let n; let s; const o = e.className; const a = e.qualification; const d = e.activity; const _ = e.onChangeDisciplineSort; const v = e.onBlurDisciplineSort; const y = e.onChangeWorksCount; const p = e.onChangeHoursCount; const x = e.onChangeDistributionSemesterValue; const g = e.onChangeArraySemesters; const j = e.onBlurArraySemesters; const S = (0, l.T)(); const E = (0, c.v9)(z); const C = (i = (t = (0, c.v9)(M)) === null || void 0 === t ? void 0 : t.notFilledSummaryHours.filter(((e) => e.notFilled)).filter(((e) => e.educational_activity_type_id === d.educational_activity_type_id && e.standard_curriculum_qualification_id === (a == null ? void 0 : a.standard_curriculum_qualification_id)))[0]) === null || void 0 === i ? void 0 : i.notFilled; const O = (s = (n = (0, c.v9)(M)) === null || void 0 === n ? void 0 : n.notFilledSummaryHours.filter(((e) => e.notFilled)).filter(((e) => e.educational_activity_type_id === d.educational_activity_type_id && e.standard_curriculum_qualification_id === null))[0]) === null || void 0 === s ? void 0 : s.notFilled; const N = (0, c.v9)(X); const T = Number((0, c.v9)(b.rb).knrtu_kai.options.filter(((e) => e.name === 'credit_in_hours'))[0].value); return (0, r.jsxs)(de, {
                className: (0, u.A)(xe.WorkingCurriculumExtractTableEduActivities, {}, [o]),
                children: [(0, r.jsx)(oe, {
                    className: 'indexCell',
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: d.short_name,
                    }),
                }), (0, r.jsx)(oe, {
                    className: 'idCell',
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: d.working_curriculum_extract_id && d.working_curriculum_extract_id,
                    }),
                }), (0, r.jsxs)(oe, {
                    className: (0, u.A)(xe.subjectName, {}, ['disciplinesNameCell']),
                    children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: d.name }), !N && (0, r.jsx)('div', {
                        className: xe.editingBtns,
                        children: (0, r.jsx)(h.zx, {
                            theme: h.bn.CLEAR, title: 'Удалить', className: xe.editBtn, onClick() { !(function (e, t) { S(Ee.deleteEduActivity([e || null, t])), S(Ee.calculateSummaryTime([e || null, 0, 0, !1])); }(a == null ? void 0 : a.standard_curriculum_qualification_id, d)); }, children: (0, r.jsx)(f.J, { Svg: pe.Z }),
                        }),
                    })],
                }), (0, r.jsx)(le, {
                    className: 'sortCell', type: 'number', step: 100, inputValue: d.sortValue || '', title: 'Сортировка', disabled: N, onChangeHandler(e) { _(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'sortValue', e.target.value, !1); }, onBlur(e) { v(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, String(d.sortValue) || '', d.sort, !1); },
                }), (0, r.jsxs)('div', {
                    className: 'formControlCell flex-row',
                    children: [(0, r.jsx)(le, {
                        className: 'formControlExamCell', type: 'text', inputValue: d.exams_semestrs || '', title: 'Экзамен', disabled: N, onChangeHandler(e) { g(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'exams_semestrs', e.target.value, !1); }, onBlur() { j(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'exams_semestrs', d.exams_semestrs, !1); },
                    }), (0, r.jsx)(le, {
                        className: 'formControlEasyExamCell', type: 'text', inputValue: d.tests_semesters || '', title: 'Зачет', disabled: N, onChangeHandler(e) { g(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'tests_semesters', e.target.value, !1); }, onBlur() { j(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'tests_semesters', d.tests_semesters, !1); },
                    }), (0, r.jsx)(le, {
                        className: 'formControlControlWorksCell', type: 'text', inputValue: String(d.controlworks_count || ''), title: 'Кол-во контрольных работ', disabled: N, onChangeHandler(e) { y(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'controlworks_count', e.target.value, !1); },
                    }), (0, r.jsx)(le, {
                        className: 'formControlCourseWorksCell', type: 'text', inputValue: String(d.courseworks_count || ''), title: 'Кол-во курсовых работ', disabled: N, onChangeHandler(e) { y(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'courseworks_count', e.target.value, !1); },
                    })],
                }), (0, r.jsxs)('div', {
                    className: 'amountOfStudyTimeCell flex-row',
                    children: [(0, r.jsx)(oe, {
                        className: 'amountOfStudyTimeCredits',
                        children: (0, r.jsx)(m.xv, {
                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: d.hours && ve(d.hours / T),
                        }),
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeHours', type: 'text', inputValue: String(d.hours || ''), title: 'Всего часов', disabled: N, onChangeHandler(e) { p(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'hours', e.target.value, !1); }, error: E && (C || O), required: !0,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeTheory', type: 'text', inputValue: String(d.hours_theory || ''), title: 'Теоретические', onChangeHandler(e) { p(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'hours_theory', e.target.value, !1); }, disabled: !d.hours || N,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeLabs', type: 'text', inputValue: String(d.hours_practice || ''), title: 'Лабораторно-практические', onChangeHandler(e) { p(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'hours_practice', e.target.value, !1); }, disabled: !d.hours || N,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeCourseProject', type: 'text', inputValue: String(d.hours_coursework || ''), title: 'Курсовой проект', onChangeHandler(e) { p(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'hours_coursework', e.target.value, !1); }, disabled: !d.hours || N,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimePractice', type: 'text', inputValue: String(d.hours_internship || ''), title: 'Произв. обучение и/или профессиональная практика', onChangeHandler(e) { p(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, 'hours_internship', e.target.value, !1); }, disabled: !d.hours || N,
                    })],
                }), (0, r.jsx)('div', {
                    className: 'distributionCell flex-row',
                    children: d.semestersDistribution.map(((e) => (0, r.jsx)(le, {
                        type: 'text', inputValue: String(e.hours || ''), title: ''.concat(e.semester_number, ' семестр'), onChangeHandler(t) { x(a == null ? void 0 : a.standard_curriculum_qualification_id, void 0, void 0, d, e.semester_number, t.target.value, !1); }, disabled: !d.hours || N,
                    }, e.semester_number))),
                })],
            });
        })); const Te = { disciplineAddBtn: 'zeF7ugtq', eduActivityTypeBtn: 'eeBy7Pbt' }; const we = { subjectName: 'nujdImtL', editingBtns: 'VFeFn7mn', editBtn: 'JQD3d5II' }; let ke = function () { return ke = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, ke.apply(this, arguments); }; const Le = (0, n.memo)(((e) => {
            let t; let i; let n; let s; const o = e.className; const a = e.qualification; const d = e.module; const _ = e.unit; const v = e.subject; const y = e.openEditModal; const x = e.onChangeHoursCount; const g = e.onChangeDisciplineSort; const j = e.onBlurDisciplineSort; const S = e.onChangeArraySemesters; const E = e.onBlurArraySemesters; const C = e.onChangeWorksCount; const O = e.onChangeDistributionSemesterValue; const N = (0, l.T)(); const T = (0, c.v9)(z); const w = (i = (t = (0, c.v9)(M)) === null || void 0 === t ? void 0 : t.notFilledSummaryHours.filter(((e) => e.notFilled)).filter(((e) => e.subject_id === v.subject_id && e.standard_curriculum_qualification_id === (a == null ? void 0 : a.standard_curriculum_qualification_id)))[0]) === null || void 0 === i ? void 0 : i.notFilled; const k = (s = (n = (0, c.v9)(M)) === null || void 0 === n ? void 0 : n.notFilledSummaryHours.filter(((e) => e.notFilled)).filter(((e) => e.subject_id === v.subject_id && e.standard_curriculum_qualification_id === null))[0]) === null || void 0 === s ? void 0 : s.notFilled; const L = (0, c.v9)(X); const D = (0, c.v9)(V); const H = Number((0, c.v9)(b.rb).knrtu_kai.options.filter(((e) => e.name === 'credit_in_hours'))[0].value); return !v.working_curriculum_extract_id && L ? (0, r.jsx)(r.Fragment, {}) : D || G(v) ? (0, r.jsxs)(de, {
                className: (0, u.A)(we.WorkingCurriculumExtractTableSubjects, {}, [o]),
                children: [(0, r.jsx)(oe, {
                    className: 'indexCell',
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: v.code,
                    }),
                }), (0, r.jsx)(oe, {
                    className: 'idCell',
                    children: (0, r.jsx)(m.xv, {
                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: v.working_curriculum_extract_id && v.working_curriculum_extract_id,
                    }),
                }), (0, r.jsxs)(oe, {
                    className: (0, u.A)(we.subjectName, {}, ['disciplinesNameCell']),
                    children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: v.name }), !L && (0, r.jsxs)('div', {
                        className: we.editingBtns,
                        children: [(0, r.jsx)(h.zx, {
                            theme: h.bn.CLEAR, title: 'Редактировать', className: we.editBtn, onClick() { y(String(v.subject_id)); }, children: (0, r.jsx)(f.J, { Svg: p.Z }),
                        }), G(v) && (0, r.jsx)(h.zx, {
                            theme: h.bn.CLEAR, title: 'Удалить', className: we.editBtn, onClick() { !(function (e, t, i, r) { N(Ee.deleteSubject([e || null, t, i, r])), N(Ee.calculateSummaryTime([e || null, t, i, !0])); }(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v)); }, children: (0, r.jsx)(f.J, { Svg: pe.Z }),
                        })],
                    })],
                }), (0, r.jsx)(le, {
                    className: 'sortCell', type: 'number', step: 100, inputValue: v.sortValue || '', title: 'Сортировка', disabled: L, onChangeHandler(e) { g(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'sortValue', e.target.value, !0); }, onBlur() { j(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, String(v.sortValue) || '', v.sort, !0); },
                }), (0, r.jsxs)('div', {
                    className: 'formControlCell flex-row',
                    children: [(0, r.jsx)(le, {
                        className: 'formControlExamCell', type: 'text', inputValue: v.exams_semestrs || '', title: 'Экзамен', disabled: L, onChangeHandler(e) { S(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'exams_semestrs', e.target.value, !0); }, onBlur() { E(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'exams_semestrs', v.exams_semestrs, !0); },
                    }), (0, r.jsx)(le, {
                        className: 'formControlEasyExamCell', type: 'text', inputValue: v.tests_semesters || '', title: 'Зачет', disabled: L, onChangeHandler(e) { S(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'tests_semesters', e.target.value, !0); }, onBlur() { E(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'tests_semesters', v.tests_semesters, !0); },
                    }), (0, r.jsx)(le, {
                        className: 'formControlControlWorksCell', type: 'text', inputValue: String(v.controlworks_count || ''), title: 'Кол-во контрольных работ', disabled: L, onChangeHandler(e) { C(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'controlworks_count', e.target.value, !0); },
                    }), (0, r.jsx)(le, {
                        className: 'formControlCourseWorksCell', type: 'text', inputValue: String(v.courseworks_count || ''), title: 'Кол-во курсовых работ', disabled: L, onChangeHandler(e) { C(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'courseworks_count', e.target.value, !0); },
                    })],
                }), (0, r.jsxs)('div', {
                    className: 'amountOfStudyTimeCell flex-row',
                    children: [(0, r.jsx)(oe, {
                        className: 'amountOfStudyTimeCredits',
                        children: (0, r.jsx)(m.xv, {
                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: v.hours && ve(v.hours / H),
                        }),
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeHours', type: 'text', inputValue: String(v.hours || ''), title: 'Всего часов', disabled: L, onChangeHandler(e) { x(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'hours', e.target.value, !0); }, error: T && (w || k),
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeTheory', type: 'text', inputValue: String(v.hours_theory || ''), title: 'Теоретические', onChangeHandler(e) { x(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'hours_theory', e.target.value, !0); }, disabled: !v.hours || L,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeLabs', type: 'text', inputValue: String(v.hours_practice || ''), title: 'Лабораторно-практические', onChangeHandler(e) { x(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'hours_practice', e.target.value, !0); }, disabled: !v.hours || L,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimeCourseProject', type: 'text', inputValue: String(v.hours_coursework || ''), title: 'Курсовой проект', onChangeHandler(e) { x(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'hours_coursework', e.target.value, !0); }, disabled: !v.hours || L,
                    }), (0, r.jsx)(le, {
                        className: 'amountOfStudyTimePractice', type: 'text', inputValue: String(v.hours_internship || ''), title: 'Произв. обучение и/или профессиональная практика', onChangeHandler(e) { x(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, 'hours_internship', e.target.value, !0); }, disabled: !v.hours || L,
                    })],
                }), (0, r.jsx)('div', {
                    className: 'distributionCell flex-row',
                    children: v.semestersDistribution.map(((e) => (0, r.jsx)(le, {
                        type: 'text', inputValue: String(e.hours || ''), title: ''.concat(e.semester_number, ' семестр'), onChangeHandler(t) { O(a == null ? void 0 : a.standard_curriculum_qualification_id, d == null ? void 0 : d.module_id, _ == null ? void 0 : _.educational_modules_unit_id, v, e.semester_number, t.target.value, !0); }, disabled: !v.hours || L,
                    }, e.semester_number))),
                })],
            }) : (0, r.jsx)(r.Fragment, {});
        })); const De = i(4514); const He = i(8683); const Ae = i(4108); const Be = 'Zaunapty'; let Re = function () { return Re = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, Re.apply(this, arguments); }; const Pe = (0, n.memo)(((e) => {
            let t; const i = e.className; const s = e.onClose; const o = e.isOpen; const _ = e.qualification; const y = e.moduleDetail; const p = e.unitDetail; const x = e.generalModule; const b = (0, l.T)(); const E = (0, a.TH)().pathname; const C = (0, n.useState)(); const O = C[0]; const N = C[1]; const w = (0, n.useRef)(null); const k = (0, n.useState)(''); const L = k[0]; const D = k[1]; const H = (0, c.v9)(De.wB); const A = (0, c.v9)(Ae.mT); const P = (0, c.v9)(Ae._F); const q = (0, c.v9)(Ae.Hq); const W = (0, c.v9)(R); const I = (0, c.v9)(B); const M = (0, n.useCallback)((() => { s(), b(De.BX.setName(null)), b(De.BX.setSort('100')); }), [b, s]); return (0, n.useEffect)((() => { D(E.split('/')[E.split('/').length - 1]); }), [E]), (0, n.useEffect)((() => { b(De.BX.setSort('100')); }), [b]), (0, n.useEffect)((() => { y && b(De.BX.setModuleId(String(y.educational_module_id))); }), [b, y]), (0, n.useEffect)((() => { p && b(De.BX.setUnitId(String(p.educational_modules_unit_id))); }), [b, p]), (0, n.useEffect)((() => { x && b((0, Ae.YR)('1')); }), [b, x]), t = x && P ? (0, r.jsx)(d.O, { width: '100%', height: 300 }) : x && q ? (0, r.jsx)(m.xv, {
                theme: m.lg.ERROR, size: m.yH.M, weight: m.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsx)($.I, {
                    label: 'Название', placeholder: 'Физическая культура', value: (H == null ? void 0 : H.name) || '', onChange(e) { b(De.BX.setName(e.target.value)); }, required: !0,
                }), (0, r.jsx)($.I, { label: 'Модуль', value: x ? A == null ? void 0 : A.name : (y == null ? void 0 : y.name) || 'Нет', readonly: !0 }), (0, r.jsx)($.I, { label: 'Модульная единица', value: (p == null ? void 0 : p.name) || 'Нет', readonly: !0 }), (0, r.jsxs)('div', {
                    className: 'U9TUtGOD',
                    children: [(0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND_DARK, className: Be, onClick: M, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Отмена' }), (0, r.jsx)(f.J, { Svg: v.Z })],
                    }), (0, r.jsxs)(h.zx, {
                        onClick() {
                            return e = void 0, t = void 0, r = function () {
                                let e; let t; return (function (e, t) {
                                    let i; let r; let n; let u; let s = {
                                        label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                                    }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                                }(this, ((i) => { switch (i.label) { case 0: return (H == null ? void 0 : H.name) ? (e = x ? ({ ...H, module_id: 1, unit_id: null }) : H, [4, b((0, De.g7)(e))]) : (N(j.F.error('Заполните название')), [2]); case 1: return (t = i.sent()).meta.requestStatus === 'fulfilled' && (N(j.F.success('Дисциплина успешно добавлена')), localStorage.setItem(S.RR, JSON.stringify(W)), (function (e) { let t; let i; let r; if (x)r = ((t = I == null ? void 0 : I.data.general[0].subjects[I.data.general[0].subjects.length - 1]) === null || void 0 === t ? void 0 : t.sort) || 0; else { const n = I == null ? void 0 : I.data.qualifications.filter(((e) => e.standard_curriculum_qualification_id === (_ == null ? void 0 : _.standard_curriculum_qualification_id)))[0].modules.filter(((e) => e.module_id === y.module_id))[0].units.filter(((e) => e.educational_modules_unit_id === p.educational_modules_unit_id))[0].subjects; r = ((i = n[n.length - 1]) === null || void 0 === i ? void 0 : i.sort) || 0; }b(Ee.addSubject([x ? null : _.standard_curriculum_qualification_id, x ? 1 : H.module_id, x ? void 0 : H.unit_id, e, Number(L), r + 100])); }(t.payload)), M()), [2]; } })));
                            }, new ((i = void 0) || (i = Promise))(((n, u) => { function s(e) { try { a(r.next(e)); } catch (e) { u(e); } } function o(e) { try { a(r.throw(e)); } catch (e) { u(e); } } function a(e) { let t; e.done ? n(e.value) : (t = e.value, t instanceof i ? t : new i(((e) => { e(t); }))).then(s, o); }a((r = r.apply(e, t || [])).next()); })); let e; let t; let i; let r;
                        },
                        theme: h.bn.BACKGROUND,
                        className: Be,
                        children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Добавить' }), (0, r.jsx)(f.J, { Svg: He.Z })],
                    })],
                })],
            }), (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsx)(T.u, {
                    contentClassName: (0, u.A)('Bj7gXhCE', {}, [i]), onClose: M, isOpen: o, title: 'Создать дисциплину', children: (0, r.jsx)('div', { className: '_7cW57M_F', children: t }),
                }), (0, r.jsx)(g.KF, { ref: w, push: O, placement: 'top-end' })],
            });
        })); const qe = i(5307); const We = i(6461); const Ie = i(622); const Me = i(6890); const ze = 'EgPYVDZR'; let Xe = function () { return Xe = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, Xe.apply(this, arguments); }; const Fe = (0, n.memo)(((e) => {
            let t; const i = e.className; const s = e.onClose; const o = e.isOpen; const a = e.qualification; const _ = e.moduleDetail; const p = e.unitDetail; const x = e.curriculumSubjectsId; const b = (0, l.T)(); const S = (0, n.useState)(!1); const E = (S[0], S[1]); const C = (0, n.useState)(); const O = C[0]; const N = C[1]; const w = (0, n.useRef)(null); const k = (0, c.v9)(We.bE); const L = (0, c.v9)(We.rn); const D = (0, c.v9)(We.pN); const H = (0, c.v9)(qe.OT); const A = (0, c.v9)(qe.UB); const B = (0, n.useCallback)((() => { s(), E(!1), b(qe.lz.clearNewFields()); }), [b, s]); return (0, n.useEffect)((() => { x && b((0, We.gu)(x)); }), [b, x]), t = L || H ? (0, r.jsx)(d.O, { width: '100%', height: 300 }) : D ? (0, r.jsx)(m.xv, {
                theme: m.lg.ERROR, size: m.yH.M, weight: m.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsx)($.I, {
                    label: 'Название', placeholder: 'Физическая культура', value: (A == null ? void 0 : A.name) || '', onChange(e) { b(qe.lz.setName(e.target.value)); }, required: !0,
                }), (0, r.jsxs)('div', {
                    className: 'twHEFIWB',
                    children: [(0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND_DARK, className: ze, onClick: B, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Отмена' }), (0, r.jsx)(f.J, { Svg: v.Z })],
                    }), (0, r.jsxs)(h.zx, {
                        onClick() {
                            return e = void 0, t = void 0, r = function () {
                                let e; let t; return (function (e, t) {
                                    let i; let r; let n; let u; let s = {
                                        label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                                    }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                                }(this, ((i) => { switch (i.label) { case 0: return (A == null ? void 0 : A.name) ? (e = (0, Ie.T)(k, A), (0, Me.Q)(e) ? (N(j.F.error('Для сохранения вы должны внести изменения!')), [3, 3]) : [3, 1]) : (N(j.F.error('Заполните название')), [2]); case 1: return [4, b((0, qe.fs)(x))]; case 2: (t = i.sent()).meta.requestStatus === 'fulfilled' && (N(j.F.success('Информация о дисциплине успешно обновлена')), b(Ee.changeSubjectName([(a == null ? void 0 : a.standard_curriculum_qualification_id) || null, _ == null ? void 0 : _.module_id, p == null ? void 0 : p.educational_modules_unit_id, Number(x), A.name])), B()), t.meta.requestStatus === 'rejected' && N(j.F.error('Произошла ошибка при редактировании, попробуйте снова!')), i.label = 3; case 3: return [2]; } })));
                            }, new ((i = void 0) || (i = Promise))(((n, u) => { function s(e) { try { a(r.next(e)); } catch (e) { u(e); } } function o(e) { try { a(r.throw(e)); } catch (e) { u(e); } } function a(e) { let t; e.done ? n(e.value) : (t = e.value, t instanceof i ? t : new i(((e) => { e(t); }))).then(s, o); }a((r = r.apply(e, t || [])).next()); })); let e; let t; let i; let r;
                        },
                        theme: h.bn.BACKGROUND,
                        className: ze,
                        children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Сохранить' }), (0, r.jsx)(f.J, { Svg: y.Z })],
                    })],
                })],
            }), (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsx)(T.u, {
                    contentClassName: (0, u.A)('gi6fH3WG', {}, [i]), onClose: B, isOpen: o, title: 'Редактировать дисциплину', children: (0, r.jsx)('div', { className: 'PCV8p2Ob', children: t }),
                }), (0, r.jsx)(g.KF, { ref: w, push: O, placement: 'top-end' })],
            });
        })); const Ve = function (e) { let t; return (t = e.eduActivitiesTypes) === null || void 0 === t ? void 0 : t.data; }; const Ye = function (e) { let t; return (t = e.eduActivitiesTypes) === null || void 0 === t ? void 0 : t.error; }; const Ze = function (e) { let t; return (t = e.eduActivitiesTypes) === null || void 0 === t ? void 0 : t.isLoading; }; const Ue = (0, D.hg)('eduActivitiesTypes/fetchEduActivitiesTypes', ((e, t) => {
            return i = void 0, r = void 0, u = function () {
                let e; let i; let r; return (function (e, t) {
                    let i; let r; let n; let u; let s = {
                        label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                    }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                }(this, ((n) => { switch (n.label) { case 0: e = t.rejectWithValue, i = t.extra, n.label = 1; case 1: return n.trys.push([1, 3,, 4]), [4, i.api.get('/curriculum/educational-activities-types/')]; case 2: return [2, n.sent().data]; case 3: return (r = n.sent()).message === 'Failed to fetch' ? [2, e({ status: 500, error: 'timeout' })] : [2, e({ status: r.response.status, error: r.response.data.message })]; case 4: return [2]; } })));
            }, new ((n = void 0) || (n = Promise))(((e, t) => { function s(e) { try { a(u.next(e)); } catch (e) { t(e); } } function o(e) { try { a(u.throw(e)); } catch (e) { t(e); } } function a(t) { let i; t.done ? e(t.value) : (i = t.value, i instanceof n ? i : new n(((e) => { e(i); }))).then(s, o); }a((u = u.apply(i, r || [])).next()); })); let i; let r; let n; let u;
        })); const Ge = (0, D.oM)({
            name: 'eduActivitiesTypes', initialState: { data: void 0, isLoading: !0, error: void 0 }, reducers: {}, extraReducers(e) { e.addCase(Ue.pending, ((e) => { e.error = void 0, e.isLoading = !0; })).addCase(Ue.fulfilled, ((e, t) => { e.isLoading = !1, e.data = t.payload; })).addCase(Ue.rejected, ((e, t) => { e.isLoading = !1, e.error = t.payload; })); },
        }); const Je = (Ge.actions, Ge.reducer); const Ke = i(100); const Qe = 'vzJox_sB'; let $e = function () { return $e = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, $e.apply(this, arguments); }; const et = (0, n.memo)(((e) => {
            let t; const i = e.className; const s = e.onClose; const o = e.isOpen; const _ = e.qualification; const p = (0, l.T)(); const x = (0, a.TH)().pathname; const b = (0, n.useState)('null'); const S = b[0]; const E = b[1]; const C = (0, n.useState)([]); const O = C[0]; const N = C[1]; const w = (0, n.useState)(''); const k = w[0]; const L = w[1]; const D = (0, n.useState)(); const H = D[0]; const A = D[1]; const B = (0, n.useRef)(null); const P = (0, c.v9)(Ve); const q = (0, c.v9)(Ze); const W = (0, c.v9)(Ye); const I = (0, c.v9)(R); const M = (0, n.useCallback)((() => { s(), E('null'); }), [s]); const z = (0, n.useCallback)(((e, t) => { E(e); }), []); const X = (0, n.useCallback)((() => { const e = P == null ? void 0 : P.filter(((e) => e.name === S))[0]; (_ ? I == null ? void 0 : I.data.qualifications.filter(((e) => e.standard_curriculum_qualification_id === (_ == null ? void 0 : _.standard_curriculum_qualification_id)))[0].educationalActivities.filter(((t) => t.educational_activity_type_id === (e == null ? void 0 : e.educational_activity_type_id)))[0] : I == null ? void 0 : I.data.general[0].educationalActivities.filter(((t) => t.educational_activity_type_id === (e == null ? void 0 : e.educational_activity_type_id)))[0]) ? A(j.F.error('Данная дисциплина уже присутствует в списке')) : e && (p(Ee.addEducationalActivityType([(_ == null ? void 0 : _.standard_curriculum_qualification_id) || null, e, Number(k)])), M()); }), [P, _, S, I == null ? void 0 : I.data.qualifications, I == null ? void 0 : I.data.general, p, k, M]); return (0, n.useEffect)((() => { L(x.split('/')[x.split('/').length - 1]); }), [x]), (0, n.useEffect)((() => { p(Ue()); }), [p]), (0, n.useEffect)((() => { P && N(P.map(((e) => e.name))); }), [P]), t = q ? (0, r.jsx)(d.O, { height: 400, width: '100%' }) : W ? (0, r.jsx)(m.xv, { theme: m.lg.ERROR, weight: m.fs.SEMIBOLD, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу' }) : (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsx)(Ke.u, {
                    label: 'Выбрать иной вид учебной деятельности', options: O, optionValue: S, onClickOption: z, columnName: '',
                }), (0, r.jsxs)('div', {
                    className: 'ImR5SFX1',
                    children: [(0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND_DARK, size: h.qE.XS, className: Qe, onClick: M, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Отмена' }), (0, r.jsx)(f.J, { Svg: v.Z })],
                    }), (0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND, size: h.qE.XS, className: Qe, onClick: X, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Выбрать' }), (0, r.jsx)(f.J, { Svg: y.Z })],
                    })],
                })],
            }), (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsx)(T.u, {
                    contentClassName: (0, u.A)('B13dN_XZ', {}, [i]), onClose: M, isOpen: o, children: t,
                }), (0, r.jsx)(g.KF, { ref: B, push: H, placement: 'top-end' })],
            });
        })); let tt = function () { return tt = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, tt.apply(this, arguments); }; const it = function (e, t, i) { if (i || arguments.length === 2) for (var r, n = 0, u = t.length; n < u; n++)!r && n in t || (r || (r = Array.prototype.slice.call(t, 0, n)), r[n] = t[n]); return e.concat(r || Array.prototype.slice.call(t)); }; const rt = (0, n.memo)(((e) => {
            let t; let i; let s; let o; let d; let f; let _; let v; let y; let p; let x; let S; let E; let C; let O; let N; let T; let w; const k = e.className; const L = e.general; const D = (0, l.T)(); const H = (0, n.useState)(); const B = H[0]; const R = H[1]; const P = (0, n.useRef)(null); const q = (0, n.useState)(!1); const W = q[0]; const I = q[1]; const M = (0, n.useState)(!1); const z = M[0]; const F = M[1]; const V = (0, n.useState)(!1); const Y = V[0]; const Z = V[1]; const U = (0, n.useState)(); const G = U[0]; const J = U[1]; const K = (0, a.TH)().pathname; const Q = (0, c.v9)(A); const $ = Number((0, c.v9)(b.rb).knrtu_kai.options.filter(((e) => e.name === 'credit_in_hours'))[0].value); const ee = (0, c.v9)(X); const te = (0, n.useCallback)((() => { I(!0); }), []); const ie = (0, n.useCallback)((() => { I(!1); }), []); const re = (0, n.useCallback)(((e) => { F(!0), J(e); }), []); const ue = (0, n.useCallback)((() => { F(!1); }), []); const se = (0, n.useCallback)((() => { Z(!0); }), []); const ae = (0, n.useCallback)((() => { Z(!1); }), []); const le = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = Number(u.replace(/[^\d1-9]/g, '')); if (n === 'hours' && o > 1440)R(j.F.error('Поле "Всего часов" не может быть больше 1440 часов')); else { if (n === 'hours') { const a = o ? 0.4 * o : null; const l = a ? o - a : null; D(Ee.changeFieldValue([null, void 0, void 0, r, 'hours_theory', a ? Number(ve(Math.round(a))) : null, s])), D(Ee.changeFieldValue([null, void 0, void 0, r, 'hours_practice', l ? Number(ve(Math.round(l))) : null, s])), D(Ee.changeFieldValue([null, void 0, void 0, r, 'hours_coursework', null, s])), D(Ee.changeFieldValue([null, void 0, void 0, r, 'hours_internship', null, s])), r.semestersDistribution.forEach(((n) => { D(Ee.changeDistributionValues([e || null, t, i, r, n.semester_number, null, s])); })); } const c = (r.hours || 0) - (n === 'hours_theory' ? o : r.hours_theory || 0) - (n === 'hours_practice' ? o : r.hours_practice || 0) - (n === 'hours_coursework' ? o : r.hours_coursework || 0) - (n === 'hours_internship' ? o : r.hours_internship || 0); n !== 'hours' && Number(u) > c && c < 0 ? R(j.F.error('Сумма всех часов не должна превышать '.concat(r.hours || 0, ' часа(-ов)'))) : (D(Ee.changeFieldValue([null, void 0, void 0, r, n, o || null, s])), D(Ee.addValidationErrors([e || null, s ? r.subject_id : r.educational_activity_type_id, 'amountOfStudyTime', c === 0, !1, s])), n === 'hours' && D(Ee.addValidationErrors([e || null, s ? r.subject_id : r.educational_activity_type_id, 'notFilledSummaryHours', !1, !o, s])), D(Ee.calculateSummaryTime([null, void 0, void 0, s]))); } }), [D]); const ce = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = Number(u.replace(/[^\d1-9]/g, '')); const a = r.semestersDistribution.reduce(((e, t) => e - (n === t.semester_number ? o : t.hours || 0)), r.hours); o > a && a < 0 ? R(j.F.error('Сумма всех часов не должна превышать '.concat(r.hours || 0, ' часа(-ов)'))) : (D(Ee.changeDistributionValues([null, void 0, void 0, r, n, o || null, s])), D(Ee.addValidationErrors([e || null, s ? r.subject_id : r.educational_activity_type_id, 'semestersDistribution', a === 0 || a === r.hours, !1, s])), D(Ee.calculateSummaryTime([null, void 0, void 0, s]))); }), [D]); const me = (0, n.useCallback)(((e, t, i, r, n, u, s) => { D(Ee.changeFieldValue([null, void 0, void 0, r, n, Number(u) ? Number(u.replace(/[^\d1-9]/g, '')) : null, s])); }), [D]); const he = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = u.replace(/[^\d,]|(?<=,)(,+)|^0|(?<![1-9]),/g, '').replace(/0/g, ''); const a = o.replace(ye, '').split(','); Number(a[a.length - 1]) > Q.meta.semestersCount ? R(j.F.error('Значение не может быть больше, чем кол-во семестров')) : D(Ee.changeFieldValue([null, void 0, void 0, r, n, Array.from(new Set(o.split(','))).join(','), s])); }), [D, Q]); const fe = (0, n.useCallback)(((e, t, i, r, n, u, s) => { D(Ee.changeFieldValue([null, void 0, void 0, r, n, u ? u.replace(ye, '') : '', s])); }), [D]); const _e = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = String(u).replace(ye, ''); D(Ee.changeFieldValue([null, void 0, void 0, r, n, o, s])); }), [D]); const pe = (0, n.useCallback)(((e, t, i, r, n, u, s) => { if (Number(n) < 100) return R(j.F.error('Значение поля сортировки не может быть меньше 100')), void D(Ee.changeFieldValue([null, void 0, void 0, r, 'sortValue', String(u), s])); Number(n) % 100 != 0 && (R(j.F.error('Шаг поля сортировки - 100')), D(Ee.changeFieldValue([null, void 0, void 0, r, 'sortValue', String(100 * +((+n / 100).toFixed(0) || 1)), s]))), D(Ee.changeFieldValue([null, void 0, void 0, r, 'sort', Number(n), s])); }), [D]); return (0, n.useEffect)((() => { L.unfilledSubjects.forEach(((e, t) => { !(function (e, t) { let i; const r = ((i = L.subjects[L.subjects.length - 1]) === null || void 0 === i ? void 0 : i.sort) || 0; D(Ee.addSubject([null, void 0, void 0, e, Number(K.split('/')[K.split('/').length - 1]), 100 * (t + 1) + r])); }(e, t)); })); }), []), (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsxs)('div', {
                    className: (0, u.A)(Te.WorkingCurriculumExtractTableGeneral, {}, [k]),
                    children: [(0, r.jsxs)(de, {
                        children: [(0, r.jsx)(oe, {
                            className: 'indexCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: L.code || '',
                            }),
                        }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'disciplinesNameCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: L.name }) }), (0, r.jsx)(oe, {
                            className: 'sortCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: L.sort,
                            }),
                        }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (t = L.summary) === null || void 0 === t ? void 0 : t.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.YELLOW, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', { className: 'amountOfStudyTimeCell flex-row', children: [(0, r.jsx)(oe, { className: 'amountOfStudyTimeCredits', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'amountOfStudyTimeHours', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'amountOfStudyTimeTheory', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'amountOfStudyTimeLabs', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'amountOfStudyTimeCourseProject', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'amountOfStudyTimePractice', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) })] }), (0, r.jsx)('div', {
                            className: 'distributionCell flex-row',
                            children: (i = L.summary) === null || void 0 === i ? void 0 : i.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                }),
                            }, e.semester_number))),
                        })],
                    }), it([], L.subjects, !0).sort(((e, t) => e.sort - t.sort)).map(((e) => (0, r.jsx)(Le, {
                        subject: e, openEditModal: re, onChangeHoursCount: le, onChangeDisciplineSort: _e, onBlurDisciplineSort: pe, onChangeArraySemesters: he, onBlurArraySemesters: fe, onChangeWorksCount: me, onChangeDistributionSemesterValue: ce,
                    }, String(e.sort) + e.subject_id + e.working_curriculum_id))), !ee && (0, r.jsxs)(de, {
                        children: [(0, r.jsx)('div', { className: 'indexCell' }), (0, r.jsx)('div', { className: 'idCell' }), (0, r.jsx)(h.zx, {
                            buttonForm: h.N5.NOT_BORDERED,
                            theme: h.bn.BACKGROUND,
                            size: h.qE.XS,
                            onClick: te,
                            className: (0, u.A)(Te.disciplineAddBtn, {}, ['disciplinesNameCell']),
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XXS, weight: m.fs.SEMIBOLD, align: m.PH.LEFT, children: 'Создать дисциплину',
                            }),
                        })],
                    }), !ee && (0, r.jsxs)(de, {
                        children: [(0, r.jsx)('div', { className: 'indexCell' }), (0, r.jsx)('div', { className: 'idCell' }), (0, r.jsx)(h.zx, {
                            buttonForm: h.N5.NOT_BORDERED,
                            theme: h.bn.BACKGROUND,
                            size: h.qE.XS,
                            onClick: se,
                            className: (0, u.A)(Te.eduActivityTypeBtn, {}, ['disciplinesNameCell']),
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XXS, weight: m.fs.SEMIBOLD, align: m.PH.LEFT, children: 'Добавить иной вид учебной деятельности',
                            }),
                        })],
                    }), it([], L.educationalActivities, !0).filter(((e) => e.is_in_compulsory_education)).sort(((e, t) => e.sort - t.sort)).map(((e) => (0, r.jsx)(Ne, {
                        activity: e, onChangeHoursCount: le, onChangeDisciplineSort: _e, onBlurDisciplineSort: pe, onChangeArraySemesters: he, onBlurArraySemesters: fe, onChangeWorksCount: me, onChangeDistributionSemesterValue: ce,
                    }, String(e.sort) + e.educational_activity_type_id + e.working_curriculum_id))), (0, r.jsxs)(de, {
                        children: [(0, r.jsx)(oe, { className: 'indexCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, {
                            className: 'disciplinesNameCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.RIGHT, children: 'Итого на обязательное обучение',
                            }),
                        }), (0, r.jsx)(oe, { className: 'sortCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (s = L.summaryCompulsory) === null || void 0 === s ? void 0 : s.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.YELLOW, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', {
                            className: 'amountOfStudyTimeCell flex-row',
                            children: [(0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCredits',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((o = L.summaryCompulsory) === null || void 0 === o ? void 0 : o.amountOfStudyTime.hours) && ve(L.summaryCompulsory.amountOfStudyTime.hours / $),
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeHours',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((d = L.summaryCompulsory) === null || void 0 === d ? void 0 : d.amountOfStudyTime.hours) && L.summaryCompulsory.amountOfStudyTime.hours,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeTheory',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((f = L.summaryCompulsory) === null || void 0 === f ? void 0 : f.amountOfStudyTime.hours_theory) && L.summaryCompulsory.amountOfStudyTime.hours_theory,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeLabs',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((_ = L.summaryCompulsory) === null || void 0 === _ ? void 0 : _.amountOfStudyTime.hours_practice) && L.summaryCompulsory.amountOfStudyTime.hours_practice,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCourseProject',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((v = L.summaryCompulsory) === null || void 0 === v ? void 0 : v.amountOfStudyTime.hours_coursework) && L.summaryCompulsory.amountOfStudyTime.hours_coursework,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimePractice',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((y = L.summaryCompulsory) === null || void 0 === y ? void 0 : y.amountOfStudyTime.hours_internship) && L.summaryCompulsory.amountOfStudyTime.hours_internship,
                                }),
                            })],
                        }), (0, r.jsx)('div', {
                            className: 'distributionCell flex-row',
                            children: (p = L.summaryCompulsory) === null || void 0 === p ? void 0 : p.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                }),
                            }, e.semester_number))),
                        })],
                    }), it([], L.educationalActivities, !0).filter(((e) => !e.is_in_compulsory_education)).sort(((e, t) => e.sort - t.sort)).map(((e) => (0, r.jsx)(Ne, {
                        activity: e, onChangeHoursCount: le, onChangeDisciplineSort: _e, onBlurDisciplineSort: pe, onChangeArraySemesters: he, onBlurArraySemesters: fe, onChangeWorksCount: me, onChangeDistributionSemesterValue: ce,
                    }, String(e.sort) + e.educational_activity_type_id + e.working_curriculum_id))), (0, r.jsxs)(de, {
                        children: [(0, r.jsx)(oe, { className: 'indexCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, {
                            className: 'disciplinesNameCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.RIGHT, children: 'ИТОГО',
                            }),
                        }), (0, r.jsx)(oe, { className: 'sortCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (x = L.summary) === null || void 0 === x ? void 0 : x.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.YELLOW, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', {
                            className: 'amountOfStudyTimeCell flex-row',
                            children: [(0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCredits',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((S = L.summary) === null || void 0 === S ? void 0 : S.amountOfStudyTime.hours) && ve(L.summary.amountOfStudyTime.hours / $),
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeHours',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((E = L.summary) === null || void 0 === E ? void 0 : E.amountOfStudyTime.hours) && L.summary.amountOfStudyTime.hours,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeTheory',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((C = L.summary) === null || void 0 === C ? void 0 : C.amountOfStudyTime.hours_theory) && L.summary.amountOfStudyTime.hours_theory,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeLabs',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((O = L.summary) === null || void 0 === O ? void 0 : O.amountOfStudyTime.hours_practice) && L.summary.amountOfStudyTime.hours_practice,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCourseProject',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((N = L.summary) === null || void 0 === N ? void 0 : N.amountOfStudyTime.hours_coursework) && L.summary.amountOfStudyTime.hours_coursework,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimePractice',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((T = L.summary) === null || void 0 === T ? void 0 : T.amountOfStudyTime.hours_internship) && L.summary.amountOfStudyTime.hours_internship,
                                }),
                            })],
                        }), (0, r.jsx)('div', {
                            className: 'distributionCell flex-row',
                            children: (w = L.summary) === null || void 0 === w ? void 0 : w.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                }),
                            }, e.semester_number))),
                        })],
                    })],
                }), (0, r.jsx)(Pe, { onClose: ie, isOpen: W, generalModule: !0 }), (0, r.jsx)(Fe, { onClose: ue, isOpen: z, curriculumSubjectsId: G }), (0, r.jsx)(et, { onClose: ae, isOpen: Y }), (0, r.jsx)(g.KF, { ref: P, push: B, placement: 'top-end' })],
            });
        })); const nt = {
            qualRow: 'WvTpSLL3', qualName: 'Ab8tW6Af', disciplineAddBtn: 'wErSnm7x', eduActivityTypeBtn: 'zPUrurOe',
        }; let ut = function () { return ut = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, ut.apply(this, arguments); }; const st = function (e, t, i) { if (i || arguments.length === 2) for (var r, n = 0, u = t.length; n < u; n++)!r && n in t || (r || (r = Array.prototype.slice.call(t, 0, n)), r[n] = t[n]); return e.concat(r || Array.prototype.slice.call(t)); }; const ot = (0, n.memo)(((e) => {
            let t; let i; let s; let o; let d; let f; let _; let v; let y; let p; let x; let S; let E; let C; let O; let N; const T = e.className; const w = e.qualification; const k = (0, l.T)(); const L = (0, n.useState)(!1); const D = L[0]; const H = L[1]; const B = (0, n.useState)(!1); const R = B[0]; const P = B[1]; const q = (0, n.useState)(!1); const W = q[0]; const I = q[1]; const M = (0, n.useState)(); const z = M[0]; const F = M[1]; const V = (0, n.useState)(); const Y = V[0]; const Z = V[1]; const U = (0, n.useState)(); const G = U[0]; const J = U[1]; const K = (0, n.useState)(); const Q = K[0]; const $ = K[1]; const ee = (0, n.useRef)(null); const te = (0, a.TH)().pathname; const ie = (0, c.v9)(A); const re = Number((0, c.v9)(b.rb).knrtu_kai.options.filter(((e) => e.name === 'credit_in_hours'))[0].value); const ue = (0, c.v9)(X); const se = (0, n.useCallback)(((e, t) => { H(!0), Z(e), J(t); }), []); const ae = (0, n.useCallback)((() => { H(!1); }), []); const le = (0, n.useCallback)(((e) => { P(!0), F(e); }), []); const ce = (0, n.useCallback)((() => { P(!1); }), []); const me = (0, n.useCallback)((() => { I(!0); }), []); const he = (0, n.useCallback)((() => { I(!1); }), []); const fe = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = Number(u.replace(/[^\d1-9]/g, '')); if (n === 'hours' && o > 1440)$(j.F.error('Поле "Всего часов" не может быть больше 1440 часов')); else { if (n === 'hours') { const a = o ? 0.4 * o : null; const l = a ? o - a : null; k(Ee.changeFieldValue([e || null, t, i, r, 'hours_theory', a ? Number(ve(Math.round(a))) : null, s])), k(Ee.changeFieldValue([e || null, t, i, r, 'hours_practice', l ? Number(ve(Math.round(l))) : null, s])), k(Ee.changeFieldValue([e || null, t, i, r, 'hours_coursework', null, s])), k(Ee.changeFieldValue([e || null, t, i, r, 'hours_internship', null, s])), r.semestersDistribution.forEach(((n) => { k(Ee.changeDistributionValues([e || null, t, i, r, n.semester_number, null, s])); })); } const c = (r.hours || 0) - (n === 'hours_theory' ? o : r.hours_theory || 0) - (n === 'hours_practice' ? o : r.hours_practice || 0) - (n === 'hours_coursework' ? o : r.hours_coursework || 0) - (n === 'hours_internship' ? o : r.hours_internship || 0); n !== 'hours' && Number(u) > c && c < 0 ? $(j.F.error('Сумма всех часов не должна превышать '.concat(r.hours || 0, ' часа(-ов)'))) : (k(Ee.changeFieldValue([e || null, t, i, r, n, o || null, s])), k(Ee.addValidationErrors([e || null, s ? r.subject_id : r.educational_activity_type_id, 'amountOfStudyTime', c === 0, !1, s])), n === 'hours' && k(Ee.addValidationErrors([e || null, s ? r.subject_id : r.educational_activity_type_id, 'notFilledSummaryHours', !1, !o, s])), k(Ee.calculateSummaryTime([e || null, t, i, s]))); } }), [k]); const _e = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = Number(u.replace(/[^\d1-9]/g, '')); const a = r.semestersDistribution.reduce(((e, t) => e - (n === t.semester_number ? o : t.hours || 0)), r.hours); o > a && a < 0 ? $(j.F.error('Сумма всех часов не должна превышать '.concat(r.hours || 0, ' часа(-ов)'))) : (k(Ee.changeDistributionValues([e || null, t, i, r, n, o || null, s])), k(Ee.addValidationErrors([e || null, s ? r.subject_id : r.educational_activity_type_id, 'semestersDistribution', a === 0 || a === r.hours, !1, s])), k(Ee.calculateSummaryTime([e || null, t, i, s]))); }), [k]); const pe = (0, n.useCallback)(((e, t, i, r, n, u, s) => { k(Ee.changeFieldValue([e || null, t, i, r, n, Number(u) ? Number(u.replace(/[^\d1-9]/g, '')) : null, s])); }), [k]); const xe = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = u.replace(/[^\d,]|(?<=,)(,+)|^0|(?<![1-9]),/g, '').replace(/0/g, ''); const a = o.replace(ye, '').split(','); Number(a[a.length - 1]) > ie.meta.semestersCount ? $(j.F.error('Значение не может быть больше, чем кол-во семестров')) : k(Ee.changeFieldValue([e || null, t, i, r, n, Array.from(new Set(o.split(','))).join(','), s])); }), [k, ie]); const be = (0, n.useCallback)(((e, t, i, r, n, u, s) => { k(Ee.changeFieldValue([e || null, t, i, r, n, u ? u.replace(ye, '') : '', s])); }), [k]); const ge = (0, n.useCallback)(((e, t, i, r, n, u, s) => { const o = String(u).replace(ye, ''); k(Ee.changeFieldValue([e || null, t, i, r, n, o, s])); }), [k]); const je = (0, n.useCallback)(((e, t, i, r, n, u, s) => { if (Number(n) < 100) return $(j.F.error('Значение поля сортировки не может быть меньше 100')), void k(Ee.changeFieldValue([e || null, t, i, r, 'sortValue', String(u), s])); Number(n) % 100 != 0 && ($(j.F.error('Шаг поля сортировки - 100')), k(Ee.changeFieldValue([e || null, t, i, r, 'sortValue', String(100 * +((+n / 100).toFixed(0) || 1)), s]))), k(Ee.changeFieldValue([e || null, t, i, r, 'sort', Number(n), s])); }), [k]); return (0, n.useEffect)((() => { w.modules.forEach(((e) => { e.units.forEach(((t) => { t.unfilledSubjects.forEach(((i, r) => { !(function (e, t, i, r) { let n; const u = ((n = t.subjects[t.subjects.length - 1]) === null || void 0 === n ? void 0 : n.sort) || 0; k(Ee.addSubject([w.standard_curriculum_qualification_id, e.module_id, t.educational_modules_unit_id, i, Number(te.split('/')[te.split('/').length - 1]), 100 * (r + 1) + u])); }(e, t, i, r)); })); })); })); }), []), (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsxs)('div', {
                    className: (0, u.A)(nt.WorkingCurriculumExtractTableQualification, {}, [T]),
                    children: [(0, r.jsx)(de, {
                        className: nt.qualRow,
                        children: (0, r.jsx)(oe, {
                            className: 'fullCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: nt.qualName, children: w.name,
                            }),
                        }),
                    }), st([], w.modules, !0).map(((e) => {
                        let t; let i; let n; let s; let o; let a; let l; let c; return (0, r.jsxs)('div', {
                            className: nt.moduleInfo,
                            children: [(0, r.jsxs)(de, {
                                children: [(0, r.jsx)(oe, { className: 'indexCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'disciplinesNameCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: e.name }) }), (0, r.jsx)(oe, {
                                    className: 'sortCell',
                                    theme: ne.YELLOW,
                                    children: (0, r.jsx)(m.xv, {
                                        align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: e.sort,
                                    }),
                                }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (t = e.summary) === null || void 0 === t ? void 0 : t.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.YELLOW, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', {
                                    className: 'amountOfStudyTimeCell flex-row',
                                    children: [(0, r.jsx)(oe, {
                                        className: 'amountOfStudyTimeCredits',
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((i = e.summary) === null || void 0 === i ? void 0 : i.amountOfStudyTime.hours) && ve(e.summary.amountOfStudyTime.hours / re),
                                        }),
                                    }), (0, r.jsx)(oe, {
                                        className: 'amountOfStudyTimeHours',
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((n = e.summary) === null || void 0 === n ? void 0 : n.amountOfStudyTime.hours) && e.summary.amountOfStudyTime.hours,
                                        }),
                                    }), (0, r.jsx)(oe, {
                                        className: 'amountOfStudyTimeTheory',
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((s = e.summary) === null || void 0 === s ? void 0 : s.amountOfStudyTime.hours_theory) && e.summary.amountOfStudyTime.hours_theory,
                                        }),
                                    }), (0, r.jsx)(oe, {
                                        className: 'amountOfStudyTimeLabs',
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((o = e.summary) === null || void 0 === o ? void 0 : o.amountOfStudyTime.hours_practice) && e.summary.amountOfStudyTime.hours_practice,
                                        }),
                                    }), (0, r.jsx)(oe, {
                                        className: 'amountOfStudyTimeCourseProject',
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((a = e.summary) === null || void 0 === a ? void 0 : a.amountOfStudyTime.hours_coursework) && e.summary.amountOfStudyTime.hours_coursework,
                                        }),
                                    }), (0, r.jsx)(oe, {
                                        className: 'amountOfStudyTimePractice',
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((l = e.summary) === null || void 0 === l ? void 0 : l.amountOfStudyTime.hours_internship) && e.summary.amountOfStudyTime.hours_internship,
                                        }),
                                    })],
                                }), (0, r.jsx)('div', {
                                    className: 'distributionCell flex-row',
                                    children: (c = e.summary) === null || void 0 === c ? void 0 : c.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                        theme: ne.YELLOW,
                                        children: (0, r.jsx)(m.xv, {
                                            size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                        }),
                                    }, e.semester_number))),
                                })],
                            }), st([], e.units, !0).map(((t) => {
                                let i; let n; let s; let o; let a; let l; let c; let d; return (0, r.jsxs)('div', {
                                    className: nt.unitInfo,
                                    children: [(0, r.jsxs)(de, {
                                        children: [(0, r.jsx)(oe, {
                                            className: 'indexCell',
                                            theme: ne.BLUE,
                                            children: (0, r.jsx)(m.xv, {
                                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: t.code,
                                            }),
                                        }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.BLUE, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'disciplinesNameCell', theme: ne.BLUE, children: (0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: t.name }) }), (0, r.jsx)(oe, {
                                            className: 'sortCell',
                                            theme: ne.BLUE,
                                            children: (0, r.jsx)(m.xv, {
                                                align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: t.sort,
                                            }),
                                        }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (i = t.summary) === null || void 0 === i ? void 0 : i.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.BLUE, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', {
                                            className: 'amountOfStudyTimeCell flex-row',
                                            children: [(0, r.jsx)(oe, {
                                                className: 'amountOfStudyTimeCredits',
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((n = t.summary) === null || void 0 === n ? void 0 : n.amountOfStudyTime.hours) && ve(t.summary.amountOfStudyTime.hours / re),
                                                }),
                                            }), (0, r.jsx)(oe, {
                                                className: 'amountOfStudyTimeHours',
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((s = t.summary) === null || void 0 === s ? void 0 : s.amountOfStudyTime.hours) && t.summary.amountOfStudyTime.hours,
                                                }),
                                            }), (0, r.jsx)(oe, {
                                                className: 'amountOfStudyTimeTheory',
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((o = t.summary) === null || void 0 === o ? void 0 : o.amountOfStudyTime.hours_theory) && t.summary.amountOfStudyTime.hours_theory,
                                                }),
                                            }), (0, r.jsx)(oe, {
                                                className: 'amountOfStudyTimeLabs',
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((a = t.summary) === null || void 0 === a ? void 0 : a.amountOfStudyTime.hours_practice) && t.summary.amountOfStudyTime.hours_practice,
                                                }),
                                            }), (0, r.jsx)(oe, {
                                                className: 'amountOfStudyTimeCourseProject',
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((l = t.summary) === null || void 0 === l ? void 0 : l.amountOfStudyTime.hours_coursework) && t.summary.amountOfStudyTime.hours_coursework,
                                                }),
                                            }), (0, r.jsx)(oe, {
                                                className: 'amountOfStudyTimePractice',
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((c = t.summary) === null || void 0 === c ? void 0 : c.amountOfStudyTime.hours_internship) && t.summary.amountOfStudyTime.hours_internship,
                                                }),
                                            })],
                                        }), (0, r.jsx)('div', {
                                            className: 'distributionCell flex-row',
                                            children: (d = t.summary) === null || void 0 === d ? void 0 : d.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                                theme: ne.BLUE,
                                                children: (0, r.jsx)(m.xv, {
                                                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                                }),
                                            }, e.semester_number))),
                                        })],
                                    }), st([], t.subjects, !0).sort(((e, t) => e.sort - t.sort)).map(((i) => (0, r.jsx)(Le, {
                                        qualification: w, module: e, unit: t, subject: i, openEditModal: le, onChangeHoursCount: fe, onChangeDisciplineSort: ge, onBlurDisciplineSort: je, onChangeArraySemesters: xe, onBlurArraySemesters: be, onChangeWorksCount: pe, onChangeDistributionSemesterValue: _e,
                                    }, String(i.sort) + i.subject_id + i.working_curriculum_id))), !ue && (0, r.jsxs)(de, {
                                        children: [(0, r.jsx)('div', { className: 'indexCell' }), (0, r.jsx)('div', { className: 'idCell' }), (0, r.jsx)(h.zx, {
                                            buttonForm: h.N5.NOT_BORDERED,
                                            theme: h.bn.BACKGROUND,
                                            size: h.qE.XS,
                                            onClick() { se(e, t); },
                                            className: (0, u.A)(nt.disciplineAddBtn, {}, ['disciplinesNameCell']),
                                            children: (0, r.jsx)(m.xv, {
                                                size: m.yH.XXS, weight: m.fs.SEMIBOLD, align: m.PH.LEFT, children: 'Создать дисциплину',
                                            }),
                                        })],
                                    })],
                                }, String(t.sort) + t.educational_modules_unit_id + t.code);
                            }))],
                        }, String(e.sort) + e.module_id + e.standard_curriculum_id);
                    })), !ue && (0, r.jsxs)(de, {
                        children: [(0, r.jsx)('div', { className: 'indexCell' }), (0, r.jsx)('div', { className: 'idCell' }), (0, r.jsx)(h.zx, {
                            buttonForm: h.N5.NOT_BORDERED,
                            theme: h.bn.BACKGROUND,
                            size: h.qE.XS,
                            onClick: me,
                            className: (0, u.A)(nt.eduActivityTypeBtn, {}, ['disciplinesNameCell']),
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XXS, weight: m.fs.SEMIBOLD, align: m.PH.LEFT, children: 'Добавить иной вид учебной деятельности',
                            }),
                        })],
                    }), st([], w.educationalActivities, !0).filter(((e) => e.is_in_compulsory_education)).sort(((e, t) => e.sort - t.sort)).map(((e) => (0, r.jsx)(Ne, {
                        qualification: w, activity: e, onChangeHoursCount: fe, onChangeDisciplineSort: ge, onBlurDisciplineSort: je, onChangeArraySemesters: xe, onBlurArraySemesters: be, onChangeWorksCount: pe, onChangeDistributionSemesterValue: _e,
                    }, String(e.sort) + e.educational_activity_type_id + e.working_curriculum_id))), (0, r.jsxs)(de, {
                        children: [(0, r.jsx)(oe, { className: 'indexCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, {
                            className: 'disciplinesNameCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.RIGHT, children: 'Итого на обязательное обучение',
                            }),
                        }), (0, r.jsx)(oe, { className: 'sortCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (t = w.summaryCompulsory) === null || void 0 === t ? void 0 : t.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.YELLOW, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', {
                            className: 'amountOfStudyTimeCell flex-row',
                            children: [(0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCredits',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((i = w.summaryCompulsory) === null || void 0 === i ? void 0 : i.amountOfStudyTime.hours) && ve(w.summaryCompulsory.amountOfStudyTime.hours / re),
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeHours',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((s = w.summaryCompulsory) === null || void 0 === s ? void 0 : s.amountOfStudyTime.hours) && w.summaryCompulsory.amountOfStudyTime.hours,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeTheory',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((o = w.summaryCompulsory) === null || void 0 === o ? void 0 : o.amountOfStudyTime.hours_theory) && w.summaryCompulsory.amountOfStudyTime.hours_theory,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeLabs',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((d = w.summaryCompulsory) === null || void 0 === d ? void 0 : d.amountOfStudyTime.hours_practice) && w.summaryCompulsory.amountOfStudyTime.hours_practice,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCourseProject',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((f = w.summaryCompulsory) === null || void 0 === f ? void 0 : f.amountOfStudyTime.hours_coursework) && w.summaryCompulsory.amountOfStudyTime.hours_coursework,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimePractice',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((_ = w.summaryCompulsory) === null || void 0 === _ ? void 0 : _.amountOfStudyTime.hours_internship) && w.summaryCompulsory.amountOfStudyTime.hours_internship,
                                }),
                            })],
                        }), (0, r.jsx)('div', {
                            className: 'distributionCell flex-row',
                            children: (v = w.summaryCompulsory) === null || void 0 === v ? void 0 : v.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                }),
                            }, e.semester_number))),
                        })],
                    }), st([], w.educationalActivities, !0).filter(((e) => !e.is_in_compulsory_education)).sort(((e, t) => e.sort - t.sort)).map(((e) => (0, r.jsx)(Ne, {
                        qualification: w, activity: e, onChangeHoursCount: fe, onChangeDisciplineSort: ge, onBlurDisciplineSort: je, onChangeArraySemesters: xe, onBlurArraySemesters: be, onChangeWorksCount: pe, onChangeDistributionSemesterValue: _e,
                    }, String(e.sort) + e.educational_activity_type_id + e.working_curriculum_id))), (0, r.jsxs)(de, {
                        children: [(0, r.jsx)(oe, { className: 'indexCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, { className: 'idCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)(oe, {
                            className: 'disciplinesNameCell',
                            theme: ne.YELLOW,
                            children: (0, r.jsx)(m.xv, {
                                size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.RIGHT, children: 'ИТОГО',
                            }),
                        }), (0, r.jsx)(oe, { className: 'sortCell', theme: ne.YELLOW, children: (0, r.jsx)(m.xv, { align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD }) }), (0, r.jsx)('div', { className: 'formControlCell flex-row', children: (y = w.summary) === null || void 0 === y ? void 0 : y.formControl.map(((e) => (0, r.jsx)(oe, { className: e, theme: ne.YELLOW, children: (0, r.jsx)(m.xv, {}) }, e))) }), (0, r.jsxs)('div', {
                            className: 'amountOfStudyTimeCell flex-row',
                            children: [(0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCredits',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((p = w.summary) === null || void 0 === p ? void 0 : p.amountOfStudyTime.hours) && ve(w.summary.amountOfStudyTime.hours / re),
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeHours',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((x = w.summary) === null || void 0 === x ? void 0 : x.amountOfStudyTime.hours) && w.summary.amountOfStudyTime.hours,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeTheory',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((S = w.summary) === null || void 0 === S ? void 0 : S.amountOfStudyTime.hours_theory) && w.summary.amountOfStudyTime.hours_theory,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeLabs',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((E = w.summary) === null || void 0 === E ? void 0 : E.amountOfStudyTime.hours_practice) && w.summary.amountOfStudyTime.hours_practice,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimeCourseProject',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((C = w.summary) === null || void 0 === C ? void 0 : C.amountOfStudyTime.hours_coursework) && w.summary.amountOfStudyTime.hours_coursework,
                                }),
                            }), (0, r.jsx)(oe, {
                                className: 'amountOfStudyTimePractice',
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    align: m.PH.CENTER, size: m.yH.XS, weight: m.fs.SEMIBOLD, children: ((O = w.summary) === null || void 0 === O ? void 0 : O.amountOfStudyTime.hours_internship) && w.summary.amountOfStudyTime.hours_internship,
                                }),
                            })],
                        }), (0, r.jsx)('div', {
                            className: 'distributionCell flex-row',
                            children: (N = w.summary) === null || void 0 === N ? void 0 : N.semestersDistribution.map(((e) => (0, r.jsx)(oe, {
                                theme: ne.YELLOW,
                                children: (0, r.jsx)(m.xv, {
                                    size: m.yH.XS, weight: m.fs.SEMIBOLD, align: m.PH.CENTER, className: 'distributionCellHours', children: e.hours && e.hours,
                                }),
                            }, e.semester_number))),
                        })],
                    })],
                }), (0, r.jsx)(Pe, {
                    onClose: ae, isOpen: D, qualification: w, moduleDetail: Y, unitDetail: G,
                }), (0, r.jsx)(Fe, {
                    onClose: ce, isOpen: R, qualification: w, moduleDetail: Y, unitDetail: G, curriculumSubjectsId: z,
                }), (0, r.jsx)(et, { onClose: he, isOpen: W, qualification: w }), (0, r.jsx)(g.KF, { ref: ee, push: Q, placement: 'top-end' })],
            });
        })); const at = {}; let lt = function () { return lt = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, lt.apply(this, arguments); }; const ct = function (e, t, i) { if (i || arguments.length === 2) for (var r, n = 0, u = t.length; n < u; n++)!r && n in t || (r || (r = Array.prototype.slice.call(t, 0, n)), r[n] = t[n]); return e.concat(r || Array.prototype.slice.call(t)); }; const dt = function (e) { const t = e.className; const i = (0, c.v9)(R); return (0, r.jsxs)('div', { className: (0, u.A)(at.WorkingCurriculumExtractTableContent, {}, [t, 'workingCurriculumExtractTableBody']), children: [(i == null ? void 0 : i.data.general) && (i == null ? void 0 : i.data.general.length) ? (0, r.jsx)(rt, { general: i == null ? void 0 : i.data.general[0] }) : '', (i == null ? void 0 : i.data.qualifications) && ct([], i.data.qualifications || [], !0).map(((e) => (0, r.jsx)(ot, { qualification: e }, String(e.sort) + e.standard_curriculum_qualification_id + e.qualification_id)))] }); }; let mt = function () { return mt = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, mt.apply(this, arguments); }; const ht = function (e) { const t = e.className; return (0, r.jsxs)('div', { className: (0, u.A)('WPISu146', {}, [t]), children: [(0, r.jsx)(_e, {}), (0, r.jsx)(dt, {})] }); }; let ft = function () { return ft = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, ft.apply(this, arguments); }; const _t = (0, n.memo)(((e) => {
            const t = e.className; const i = e.isOpen; const s = e.onClose; const o = (0, l.T)(); const a = (0, c.v9)(W); const d = (0, n.useCallback)((() => { s(), o(Ee.clearUpdatingErrors()); }), [o, s]); return (0, r.jsxs)(T.u, {
                contentClassName: (0, u.A)('Ifc1mPNT', {}, [t]),
                onClose: d,
                isOpen: i,
                title: 'Ошибка при сохранении документа',
                children: [a == null ? void 0 : a.errors.map(((e, t) => (0, r.jsxs)(m.xv, {
                    theme: m.lg.ERROR, weight: m.fs.SEMIBOLD, size: m.yH.XM, children: [t + 1, ')', ' ', e.message_ru],
                }))), (0, r.jsx)('div', {
                    className: 'Q_bI7EnX',
                    children: (0, r.jsxs)(h.zx, {
                        theme: h.bn.BACKGROUND_DARK, size: h.qE.XS, className: 'LjL8m1zb', onClick: d, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Закрыть' }), (0, r.jsx)(f.J, { Svg: v.Z })],
                    }),
                })],
            });
        })); let vt = function () { return vt = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, vt.apply(this, arguments); }; const yt = 'working-curriculum-extract-form'; const pt = function (e) {
            const t = e.className; const i = (0, l.T)(); const s = (0, a.s0)(); const o = (0, a.TH)().pathname; const C = (0, n.useState)(''); const O = C[0]; const T = C[1]; const w = (0, n.useState)(!1); const k = w[0]; const D = w[1]; const A = (0, n.useState)(); const z = A[0]; const Y = A[1]; const U = (0, n.useRef)(null); const G = (0, n.useState)(!1); const J = G[0]; const $ = G[1]; const ee = (0, n.useState)(!1); const te = ee[0]; const ie = ee[1]; const re = (0, c.v9)(P); const ne = (0, c.v9)(q); const ue = (0, c.v9)(M); const se = (0, c.v9)(B); const oe = (0, c.v9)(R); const ae = (0, c.v9)(b.yl); const le = (0, c.v9)(b.sE); const ce = (0, c.v9)(I); const de = (0, c.v9)(W); const me = (0, c.v9)(X); const he = (0, c.v9)(F); const fe = (0, c.v9)(V); (0, n.useEffect)((() => { T(o.split('/')[o.split('/').length - 1]); }), [o]), (0, n.useEffect)((() => { O && (i(H(O)), i((0, b.tb)())); }), [i, O]); let _e; const ve = (0, n.useCallback)((() => { i(Ee.changeRedirectToMainPage(!1)), ie(!1); }), [i]); const ye = (0, n.useCallback)((() => { if (JSON.stringify(se) !== JSON.stringify(oe)) return i(Ee.changeRedirectToMainPage(!0)), void ie(!0); s((0, x.MC)()); }), [i, se, oe, s]); const pe = (0, n.useCallback)((() => { i(Ee.cancelChanges()); }), [i]); const xe = (0, n.useCallback)((() => { $(!1); }), []); const be = re || !!ne || ce; const ge = (0, n.useCallback)((() => { i(Ee.changeReadOnly(!1)); }), [i]); const je = (0, n.useCallback)((() => { i(Ee.changeReadOnly(!0)), i(Ee.toggleShowAllDisciplines(!0)); }), [i]); const Se = (0, n.useCallback)((() => { i(Ee.toggleShowAllDisciplines(!fe)); }), [i, fe]); return (0, n.useEffect)((() => { de && $(!0); }), [de]), (0, n.useEffect)((() => { localStorage.removeItem(S.RR); }), []), _e = re || ae ? (0, r.jsx)(d.O, { height: 600, width: '100%' }) : ne || le ? (0, r.jsx)(m.xv, {
                theme: m.lg.ERROR, size: m.yH.M, weight: m.fs.SEMIBOLD, className: Q.error, align: m.PH.CENTER, children: 'Произошла ошибка при загрузке данных, попробуйте перезагрузить страницу',
            }) : (0, r.jsx)(ht, {}), (0, r.jsxs)(r.Fragment, {
                children: [(0, r.jsxs)(g.lx, {
                    className: (0, u.A)(Q.WorkingCurriculumExtract, {}, [t]),
                    noValidate: !0,
                    validated: k,
                    onSubmit(e) {
                        return t = void 0, r = void 0, u = function () {
                            let t; let r; let n; let u; return (function (e, t) {
                                let i; let r; let n; let u; let s = {
                                    label: 0, sent() { if (1 & n[0]) throw n[1]; return n[1]; }, trys: [], ops: [],
                                }; return u = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol === 'function' && (u[Symbol.iterator] = function () { return this; }), u; function o(o) { return function (a) { return (function (o) { if (i) throw new TypeError('Generator is already executing.'); for (;u && (u = 0, o[0] && (s = 0)), s;) try { if (i = 1, r && (n = 2 & o[0] ? r.return : o[0] ? r.throw || ((n = r.return) && n.call(r), 0) : r.next) && !(n = n.call(r, o[1])).done) return n; switch (r = 0, n && (o = [2 & o[0], n.value]), o[0]) { case 0: case 1: n = o; break; case 4: return s.label++, { value: o[1], done: !1 }; case 5: s.label++, r = o[1], o = [0]; continue; case 7: o = s.ops.pop(), s.trys.pop(); continue; default: if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || o[0] !== 6 && o[0] !== 2)) { s = 0; continue; } if (o[0] === 3 && (!n || o[1] > n[0] && o[1] < n[3])) { s.label = o[1]; break; } if (o[0] === 6 && s.label < n[1]) { s.label = n[1], n = o; break; } if (n && s.label < n[2]) { s.label = n[2], s.ops.push(o); break; }n[2] && s.ops.pop(), s.trys.pop(); continue; }o = t.call(e, s); } catch (e) { o = [6, e], r = 0; } finally { i = n = 0; } if (5 & o[0]) throw o[1]; return { value: o[0] ? o[1] : void 0, done: !0 }; }([o, a])); }; }
                            }(this, ((o) => { switch (o.label) { case 0: if (e.preventDefault(), (t = e.currentTarget).checkValidity() || e.stopPropagation(), D(!0), !t.checkValidity()) return [3, 5]; o.label = 1; case 1: return o.trys.push([1, 4,, 5]), r = [], ue == null || ue.amountOfStudyTime.forEach(((e) => { e.validated || r.push(e.validated); })), ue == null || ue.semestersDistribution.forEach(((e) => { e.validated || r.push(e.validated); })), r.length ? (Y(j.F.error('Проверьте правильность распределения часов и попробуйте снова')), [2]) : JSON.stringify(se) === JSON.stringify(oe) ? (Y(j.F.error('Для сохранения внесите изменения')), [2]) : (i(Ee.changeFormWithErrorsValue(!1)), [4, i(K(O))]); case 2: return n = o.sent(), i(Ee.prepareSemestersDistributionToSend(n.payload)), [4, i(Z(O))]; case 3: return o.sent(), Y(j.F.success('Таблица успешно обновлена')), localStorage.removeItem(S.RR), he && s((0, x.MC)()), [3, 5]; case 4: return u = o.sent(), console.log(u), [3, 5]; case 5: return [2]; } })));
                        }, new ((n = void 0) || (n = Promise))(((e, i) => { function s(e) { try { a(u.next(e)); } catch (e) { i(e); } } function o(e) { try { a(u.throw(e)); } catch (e) { i(e); } } function a(t) { let i; t.done ? e(t.value) : (i = t.value, i instanceof n ? i : new n(((e) => { e(i); }))).then(s, o); }a((u = u.apply(t, r || [])).next()); })); let t; let r; let n; let u;
                    },
                    id: yt,
                    children: [(0, r.jsx)('div', { className: Q.content, children: _e }), (0, r.jsxs)('div', {
                        className: Q.buttons,
                        children: [(0, r.jsx)('div', {
                            className: Q.buttonsLeftWrapper,
                            children: (0, r.jsxs)(h.zx, {
                                className: Q.btn, theme: h.bn.BACKGROUND_GRAY, size: h.qE.XS, onClick: ye, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Выйти' }), (0, r.jsx)(f.J, { className: Q.exitBtnIcon, Svg: _.Z })],
                            }),
                        }), (0, r.jsxs)('div', {
                            className: Q.buttonsRightWrapper,
                            children: [me && (0, r.jsxs)(h.zx, {
                                className: Q.btn, theme: h.bn.BACKGROUND, size: h.qE.XS, disabled: be, onClick: ge, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Редактировать документ' }), (0, r.jsx)(f.J, { className: Q.editIcon, Svg: p.Z })],
                            }), !me && (0, r.jsxs)(r.Fragment, {
                                children: [(0, r.jsx)(N, {
                                    leftText: 'Все дисциплины', rightText: 'Заполненные дисциплины', toggleOutside: Se, className: Q.toggleSwitcher,
                                }), (0, r.jsxs)(h.zx, {
                                    className: Q.btn, theme: h.bn.BACKGROUND_GRAY, size: h.qE.XS, onClick: je, disabled: be, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Перейти в режим просмотра документа' }), (0, r.jsx)(f.J, { className: Q.fileIcon, Svg: E.Z })],
                                }), (0, r.jsxs)(h.zx, {
                                    className: Q.btn, theme: h.bn.BACKGROUND_GRAY, size: h.qE.XS, onClick: pe, disabled: be, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Отменить' }), (0, r.jsx)(f.J, { Svg: v.Z })],
                                }), (0, r.jsxs)(h.zx, {
                                    type: 'submit', className: Q.btn, theme: h.bn.BACKGROUND, size: h.qE.XS, disabled: be, children: [(0, r.jsx)(m.xv, { size: m.yH.XS, weight: m.fs.SEMIBOLD, children: 'Сохранить' }), (0, r.jsx)(f.J, { Svg: y.Z })],
                                })],
                            })],
                        })],
                    })],
                }), (0, r.jsx)(_t, { onClose: xe, isOpen: J }), (0, r.jsx)(L, { onClose: ve, isOpen: te, formId: yt }), (0, r.jsx)(g.KF, { ref: U, push: z, placement: 'top-end' })],
            });
        }; const xt = {}; let bt = function () { return bt = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, bt.apply(this, arguments); }; const gt = {
            workingCurriculumExtract: Ce, addCurriculumSubject: De.qd, eduActivitiesTypes: Je, settingsMainCollege: b.vW, curriculumSubjectsDetail: We.Ux, editCurriculumSubject: qe.Ad, eduModuleDetail: Ae.l9,
        }; const jt = (0, n.memo)(((e) => { const t = e.className; return (0, r.jsx)(o.B, { title: 'LMS - Выписка из рабочего учебного плана', children: (0, r.jsx)(s.W, { reducers: gt, removeAfterUnmount: !0, children: (0, r.jsx)('div', { className: (0, u.A)(xt.WorkingCurriculumExtractPage, {}, [t]), children: (0, r.jsx)(pt, {}) }) }) }); }));
    },
    238: (e, t, i) => {
        i.d(t, { u: () => _ }); const r = i(5893); const n = i(7294); const u = i(3935); const s = function (e) { const t = e.children; const i = e.element; const r = void 0 === i ? document.body : i; return (0, u.createPortal)(t, r); }; const o = i(4387); const a = i(4809); const l = i(9161); const c = i(1353); const d = i(9456); const m = 'nRfmkIjU'; const h = 'lTgZb9st'; let f = function () { return f = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, f.apply(this, arguments); }; var _ = function (e) {
            let t; const i = e.className; const u = e.contentClassName; const _ = e.children; const v = e.isOpen; const y = e.onClose; const p = e.lazy; const x = e.title; const b = (0, n.useState)(!1); const g = b[0]; const j = b[1]; const S = (0, n.useState)(!1); const E = S[0]; const C = S[1]; const O = (0, n.useRef)(); (0, n.useEffect)((() => { v && C(!0); }), [v]); const N = (0, n.useCallback)((() => { y && (j(!0), O.current = setTimeout((() => { y(), j(!1); }), 300)); }), [y]); const T = (0, n.useCallback)(((e) => { e.key === 'Escape' && N(); }), [N]); (0, n.useEffect)((() => (v && window.addEventListener('keydown', T), function () { clearTimeout(O.current), window.removeEventListener('keydown', T); })), [v, T]); const w = ((t = {}).RuLiugLP = v, t.xbkvHSuk = g, t); return p && !E ? null : (0, r.jsx)(s, {
                children: (0, r.jsx)('div', {
                    className: (0, o.A)('ESw4g_qu', w, ['app_modal']),
                    children: (0, r.jsx)('div', {
                        className: 'OTlZW4pf',
                        children: (0, r.jsx)('div', {
                            className: (0, o.A)('FgIDoJTo', {}, [i]),
                            onClick(e) { e.stopPropagation(); },
                            children: (0, r.jsxs)('div', {
                                className: (0, o.A)('NxhSG1qz', {}, [u]),
                                children: [x && (0, r.jsxs)('div', {
                                    className: 'PF33qU3E',
                                    children: [(0, r.jsx)(a.xv, { size: a.yH.XS, weight: a.fs.SEMIBOLD, children: x }), (0, r.jsx)(l.zx, {
                                        className: h, theme: l.bn.CLEAR, onClick: N, children: (0, r.jsx)(c.J, { className: m, Svg: d.Z }),
                                    })],
                                }), !x && (0, r.jsx)(l.zx, {
                                    className: (0, o.A)(h, {}, ['Czz0TdB1']), theme: l.bn.CLEAR, onClick: N, children: (0, r.jsx)(c.J, { className: m, Svg: d.Z }),
                                }), _],
                            }),
                        }),
                    }),
                }),
            });
        };
    },
    146: (e, t, i) => { i.d(t, { Q: () => n }); let r = function () { return r = Object.assign || function (e) { for (var t, i = 1, r = arguments.length; i < r; i++) for (const n in t = arguments[i])Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e; }, r.apply(this, arguments); }; var n = function (e, t) { for (var i = { ...e }, n = 0, u = t; n < u.length; n++) { const s = u[n]; i.hasOwnProperty(s) && delete i[s]; } return i; }; },
}]);
